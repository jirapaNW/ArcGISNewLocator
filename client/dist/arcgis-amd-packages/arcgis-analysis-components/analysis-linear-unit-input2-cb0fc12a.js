define(["exports","./index-4ba3e564","./index2-929c934e","./utils-170619d9","./analysis-label2-d915c3e1","./analysis-multiple-input2-632fb56d","./analysis-number-input2-cd69beec"],(function(e,i,t,s,n,a,l){"use strict";const u="control",h=i.proxyCustomElement(class extends i.H{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.analysisLinearUnitInputChange=i.createEvent(this,"analysisLinearUnitInputChange",7),this.analysisHelpClick=i.createEvent(this,"analysisHelpClick",7),this.buildOptions=e=>i.h("calcite-option",{value:e,label:void 0!==this.choiceListLabels?this.choiceListLabels[e]:e,selected:(this.value?.units??this.unitSelectElement?.value)===e}),this.focusInput=()=>{this.numberInputElement?.focus()},this.distanceChange=()=>{const e=this.numberInputElement?.value;void 0===this.numberInputElement||Array.isArray(e)||"multi"===this.numberInputElement.selectionMode||(void 0!==e?(this.value={units:this.value?.units??this.unitSelectElement?.value,distance:e},this.onUnitChoiceListChange()):this.value=void 0,this.analysisLinearUnitInputChange.emit())},this.unitChanged=()=>{this.value={distance:this.value?.distance,units:this.unitSelectElement?.value},this.validate(),void 0!==this.value?.distance&&this.analysisLinearUnitInputChange.emit()},this.value=void 0,this.label=void 0,this.required=!1,this.minimum=void 0,this.excludeMinValue=void 0,this.maximum=void 0,this.excludeMaxValue=void 0,this.distanceChoiceList=void 0,this.unitChoiceList=void 0,this.choiceListLabels=void 0,this.placeholderText=void 0,this.hideHelp=!1,this.isValid=!0}onUnitChoiceListChange(){const e=this.value?.units;void 0===this.unitChoiceList||void 0!==e&&this.unitChoiceList.includes(e)||(this.value={distance:this.value?.distance,units:this.unitChoiceList[0]})}async componentWillLoad(){({strings:this.strings,dir:this.dir}=await t.fetchComponentLocaleStrings(this.hostElement,i.getAssetPath("."))),void 0!==this.numberInputElement&&(this.numberInputElement.scale=s.UIDefaults.Scale),this.onUnitChoiceListChange()}async checkValidity(){return await this.validate(),Promise.resolve(this.isValid)}async validate(){const e=await(this.numberInputElement?.checkValidity())??!1,i=!this.required||void 0!==this.value?.units&&this.unitChoiceList?.includes(this.value?.units);return this.isValid=e&&i,Promise.resolve()}render(){return void 0!==this.value?.units&&(void 0===this.unitChoiceList||this.unitChoiceList.includes(this.value?.units)||(this.unitChoiceList=[...this.value?.units,...this.unitChoiceList])),i.h(i.Host,{key:"b4bad5764d424bb941d14d738c4aad4b7a0264a6"},void 0!==this.label&&""!==this.label?i.h("analysis-label",{label:this.label,required:this.required,onAnalysisLabelHelpActionClick:()=>this.analysisHelpClick.emit(),onClick:this.focusInput,hideHelp:this.hideHelp}):null,i.h("div",{key:"48757fd1b0f155e1c3a85b82d3fe1b7eaa6354b1",class:"controls-container"},i.h("analysis-number-input",{key:"fa4efa24e46babd068df759e38f75780326c56bc",class:u,scale:s.UIDefaults.Scale,ref:e=>{this.numberInputElement=e},label:"",value:this.value?.distance,required:this.required,placeholderText:this.placeholderText??this.strings.inputPlaceholderText,min:this.minimum,max:this.maximum,excludeMinValue:this.excludeMinValue,excludeMaxValue:this.excludeMaxValue,choiceList:this.distanceChoiceList,onAnalysisNumberInputChange:this.distanceChange,numberType:"float"}),i.h("calcite-select",{key:"abf29c6c0ed6dadc22e4629047dcd8e82185961a",scale:s.UIDefaults.Scale,class:`${u} unit-select`,dir:this.dir,label:this.strings.unitSelect,onCalciteSelectChange:this.unitChanged,ref:e=>{this.unitSelectElement=e}},void 0!==this.unitChoiceList&&this.unitChoiceList.map((e=>this.buildOptions(e))))))}static get assetsDirs(){return["t9n"]}get hostElement(){return this}static get watchers(){return{unitChoiceList:["onUnitChoiceListChange"]}}static get style(){return":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:#d4d4d4;--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh}:host{display:flex;flex-direction:column;--calcite-color-border-input:var(--analysis-ui-border-input)}.controls-container{display:flex;column-gap:5%}.control{flex:1 1 0}.text{cursor:pointer;padding-bottom:var(--analysis-quarter-spacing);margin-block-start:0;margin-block-end:0}.unit-select{margin-bottom:var(--analysis-half-spacing)}"}},[1,"analysis-linear-unit-input",{value:[1040],label:[513],required:[516],minimum:[514],excludeMinValue:[516,"exclude-min-value"],maximum:[514],excludeMaxValue:[516,"exclude-max-value"],distanceChoiceList:[16],unitChoiceList:[16],choiceListLabels:[16],placeholderText:[513,"placeholder-text"],hideHelp:[516,"hide-help"],isValid:[32],checkValidity:[64]},void 0,{unitChoiceList:["onUnitChoiceListChange"]}]);function c(){"undefined"!=typeof customElements&&["analysis-linear-unit-input","analysis-label","analysis-multiple-input","analysis-number-input"].forEach((e=>{switch(e){case"analysis-linear-unit-input":customElements.get(e)||customElements.define(e,h);break;case"analysis-label":customElements.get(e)||n.defineCustomElement();break;case"analysis-multiple-input":customElements.get(e)||a.defineCustomElement();break;case"analysis-number-input":customElements.get(e)||l.defineCustomElement()}}))}c(),e.AnalysisLinearUnitInput=h,e.defineCustomElement=c}));
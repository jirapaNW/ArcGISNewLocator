define(["exports","./index-4ba3e564","./index2-929c934e","./primitiveFactory-0fd83857","./utils-170619d9","./helpmap_enterprise-5daf6e11","./analysis-layer-input-popover2-047da354","./_baseGet-1781da83","./analysis-key-value2-e06fe455","./analysis-expression-group2-727233ea","./analysis-value-table2-952f1f44","./analysis-attribute-expression2-2e4fa6e5","./analysis-block2-3744824f","./analysis-boolean-input2-4cca07bb","./analysis-chip-group2-66b37993","./analysis-data-file-input2-e099b4c1","./analysis-dataset-input2-719df5b8","./analysis-dataset-input-popover2-4ec0074d","./analysis-date-input2-8c5d70f6","./analysis-field-input2-2985824f","./analysis-field-select2-d1dcbfea","./analysis-folder-input2-614117c4","./analysis-geoenrichment-databrowser2-64112bc3","./analysis-geoenrichment-input2-d0af3a75","./analysis-help-popover2-ec85aa60","./analysis-item-browser2-90d48785","./analysis-item-input2-199dd569","./analysis-label2-d915c3e1","./analysis-layer-input2-10805c18","./analysis-linear-unit-input2-cb0fc12a","./analysis-multiple-input2-632fb56d","./analysis-number-input2-cd69beec","./analysis-parameter-group2-e7700631","./analysis-query-builder2-359d95da","./analysis-query-entry2-476b236a","./analysis-query-input2-ca2ddf00","./analysis-query-modal2-bc4a8674","./analysis-query-target-select2-26718e9d","./analysis-section2-82d78cad","./analysis-sketch2-5affb5dd","./analysis-spatial-expression2-57c2b017","./analysis-spatial-reference-input2-471e95f0","./analysis-spatial-reference-selector2-746a6bb2","./analysis-string-input2-7799d6f1","./analysis-summary-fields2-53d7ea42","./analysis-summary-fields-popover2-5b8e537a","./analysis-traffic-time-input2-e4f68e21","./analysis-tree2-f394ec74","./analysis-unsupported-input2-c5738ad3","./analysis-workflow-select2-4c58c8d7","./analysis-workflow-select-popover2-1eb81a2c","./isEqual-9b8f87d3"],(function(e,a,t,s,l,i,n,o,r,p,m,u,c,d,h,y,f,g,v,b,E,I,C,P,U,T,k,D,H,L,M,x,S,w,V,A,J,N,R,F,q,O,B,G,K,$,W,z,_,j,Y,Z){"use strict";const Q="parameterViewModel",X=["choiceListLabels","label","visible","componentName","serializationType","serializationParameterName","serializationKeys","uiParameterInfoSubSet","submissionName"],ee=["dataType","choiceList","parameterType","parameterInfos"];var ae="Expected a function";const te=({name:e,value:t,onSetRef:l,onValueChange:i,onHelpClick:n,label:o,required:r,UIparameterInfos:p,dataType:m,paramGroupDataType:u,portal:c,mapView:d,mapLayers:h,modelVariableLayers:y,...f})=>{const g=u??m,{parameterInfos:v,...b}=f,E=g===s.AnalysisToolParamDataType.GPComposite?v:p;return a.h("analysis-parameter-group",{key:e,groupLabel:o,required:r,value:t,UIparameterInfos:E,dataType:g,portal:c,mapView:d,mapLayers:h,modelVariableLayers:y,ref:l,onAnalysisParameterGroupInputChange:i,onAnalysisHelpClick:n,...b})},se=({name:e,onSetRef:t,onValueChange:s,onHelpClick:l,label:i,value:n,...o})=>{const r=o.parameterInfos?.map((e=>e.name));return void 0!==r&&r.length!==new Set(r).size?a.h("analysis-unsupported-input",{key:e,label:i,ref:t,user:o.user,portalHelpMap:o.portalHelpMap,required:o.required,value:n,onAnalysisHelpClick:l,...o}):a.h("analysis-value-table",{key:e,ref:t,onAnalysisValueTableChange:s,label:i,value:n,onAnalysisHelpClick:l,...o})},le=({name:e,onSetRef:s,onValueChange:l,onHelpClick:i,label:n,value:o,required:r,...p})=>{const m=t.isEmptyDataItem(p.parameterInfos)?[{name:"",dataType:p.dataType?.split(":")[1]}]:p.parameterInfos;return a.h("analysis-value-table",{description:p.description,key:e,label:n,required:r,value:o,valueWithoutKey:!0,parameterInfos:m,UIparameterInfos:p?.UIparameterInfos,onAnalysisHelpClick:i,onAnalysisValueTableChange:l,ref:s})},ie=(e,a)=>a,ne={[s.AnalysisToolParamDataType.GPValueTable]:se,[s.AnalysisToolParamDataType.GPMultiValueDate]:le,[s.AnalysisToolParamDataType.GPMultiValueLinearUnit]:le,[s.AnalysisToolParamDataType.GPComposite]:te},oe={...s.primitiveComponentByType,...ne},re={"analysis-parameter-group":te,"analysis-value-table":se,"analysis-key-value":({value:e,layout:t,parameterInfos:s,onSetRef:l,onValueChange:i,onHelpClick:n,UIparameterInfos:o,label:r,...p})=>a.h("analysis-key-value",{value:e,layout:t,parameterInfos:s,UIparameterInfos:o,label:r,ref:l,onAnalysisKeyValueChange:i,onAnalysisHelpClick:n,...p})},pe={...s.primitiveComponentByName,...re},me={"analysis-block":({label:e,summaryText:t,...s},l)=>a.h("analysis-block",{label:e,summaryText:t,...s},l),"analysis-section":({label:e,open:t},s)=>a.h("analysis-section",{label:e,open:t},s)},ue=e=>{let t;return void 0!==e.componentName?t=pe[e.componentName]:void 0!==e.dataType&&(t=oe[e.dataType]),t=t??s.NotFoundInput,a.h(t,{...s.standardizeInputProperties(e)})},ce=ue,de=(e,t)=>{let s;void 0!==e.componentName&&(s=me[e.componentName]);const{componentName:l,...i}=e;return s=s??ie,a.h(s,{...i},t)};function he(e,a){const{helpUrl:t,helpId:s,heading:i,referenceElement:n,isHelpFileExternalAsset:o,portalHelpMap:r,portal:p,helpFileName:m,learnMoreBaseUrl:u,learnMoreUrl:c,analysisEngine:d,offsetDistance:h,offsetSkidding:y,externalHelpMap:f,helpMode:g}=a;return void 0!==e&&(l.removeOpenableDomElement(e),e=void 0),e=function(e){const{helpUrl:a,helpId:t,heading:s,referenceElement:l,isHelpFileExternalAsset:i,portalHelpMap:n,portal:o,helpFileName:r,learnMoreBaseUrl:p,learnMoreUrl:m,analysisEngine:u,placement:c,offsetDistance:d,offsetSkidding:h,externalHelpMap:y,helpMode:f}=e,g=document.createElement("analysis-help-popover");return g.helpUrl=a,g.helpId=t,g.heading=s,g.referenceElement=l,g.placement=c??"leading-start",g.isHelpFileExternalAsset=i,g.portalHelpMap=n,g.portal=o,g.helpFileName=r,g.analysisEngine=u,g.learnMoreBaseUrl=p,g.learnMoreUrl=m,g.helpMode=f,void 0!==d&&(g.offsetDistance=d),void 0!==h&&(g.offsetSkidding=h),g.externalHelpMap=y,g}({helpUrl:t,helpId:s,heading:i,referenceElement:n,isHelpFileExternalAsset:o,portalHelpMap:r,portal:p,helpFileName:m,analysisEngine:d,learnMoreBaseUrl:u,learnMoreUrl:c,offsetDistance:h,offsetSkidding:y,externalHelpMap:f,helpMode:g}),l.addOpenableDomElement(document,e),e}const ye=(e,a)=>{let t=e;return void 0!==a&&void 0!==e&&e.startsWith("$")&&(t=a[e.replace("$","")]),t};function fe({label:e,placeholderText:a,heading:t,filterPlaceholderText:s,selectButtonLabel:l,replaceTooltipText:i,choiceListLabels:m,UIparameterInfos:u,UIparameterInfosRules:c,validationParams:d,parameterGroupDataTypeLabel:h,disabledTooltip:y,noFieldsText:f,noLayersText:g,...v},b){const E=void 0!==m?((e,a)=>{const t={};return void 0!==e&&Object.entries(e).forEach((([e,s])=>{const l=ye(s,a);void 0!==l&&(t[e]=l)})),t})(m,b):void 0,I=void 0!==u?u.map((e=>fe(e,b))):void 0,C=c?.map((e=>{return"set"!==e.ruleType?{...e,effectParams:{...e.effectParams,...(a=fe(e.effectParams,b),t=e=>void 0===e,function(e,a){if(null==e)return{};var t=o.arrayMap(p.getAllKeysIn(e),(function(e){return[e]}));return a=n.baseIteratee(a),r.basePickBy(e,t,(function(e,t){return a(e,t[0])}))}(a,function(e){if("function"!=typeof e)throw new TypeError(ae);return function(){var a=arguments;switch(a.length){case 0:return!e.call(this);case 1:return!e.call(this,a[0]);case 2:return!e.call(this,a[0],a[1]);case 3:return!e.call(this,a[0],a[1],a[2])}return!e.apply(this,a)}}(n.baseIteratee(t))))}}:e;var a,t})),P=void 0!==d?((e,a)=>{const t={};return void 0!==e&&Object.entries(e).forEach((([e,s])=>{if("object"==typeof s)t.variables=s;else{const l=ye(s,a);void 0!==l&&(t[e]=l)}})),t})(d,b):void 0;return{label:ye(e,b),placeholderText:ye(a,b),heading:ye(t,b),filterPlaceholderText:ye(s,b),selectButtonLabel:ye(l,b),replaceTooltipText:ye(i,b),choiceListLabels:E,UIparameterInfos:I,UIparameterInfosRules:C,validationParams:P,parameterGroupDataTypeLabel:ye(h,b),disabledTooltip:ye(y,b),noFieldsText:ye(f,b),noLayersText:ye(g,b),...v}}const ge=a.proxyCustomElement(class extends a.H{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.analysisToolDataChange=a.createEvent(this,"analysisToolDataChange",7),this.analysisToolHelpPopoverChange=a.createEvent(this,"analysisToolHelpPopoverChange",7),this.analysisToolLoaded=a.createEvent(this,"analysisToolLoaded",7),this.analysisCustomRuleExecuting=a.createEvent(this,"analysisCustomRuleExecuting",7),this.parameterViewModel={},this.renderParameter=e=>{const s=e?.value??this.toolData[e?.name],i=e?.name??e?.displayName,n=this.parameterNotificationState?.[e.name]?.errors?.[0]??e?.validationParams,o=t.generateSelectedLayersKey(e?.name),r=this.toolData[o];let p=r;0===r?.length?p=void 0:1===r?.length&&(p=r[0]);const m=t.generateParamGroupDataTypeKey(e?.name),u=this.toolData[m],c=[...this.mapLayers??[],...r??[]],d=new Set(c.map((e=>e.id))),h=Array.from(d).map((e=>c.find((a=>a.id===e))));return a.h(ue,{...e,key:i,name:i,toolTitle:this.toolTitle,value:s,validationParams:n,mapLayers:h,modelVariableLayers:this.modelVariableLayers,analysisDatasets:this.analysisDatasets,mapView:this.mapView,selectedLayers:p,paramGroupDataType:u,portal:this.portal,user:this.user,doCalciteInputChangeOnCommit:this.doCalciteInputChangeOnCommit,portalHelpMap:this.portalHelpMap,supportsUpload:this.supportsUpload,serviceUrl:this.serviceUrl,toolData:this.toolData,onSetRef:a=>this.handleOnSetRef(e.name,a),onValueChange:a=>this.parameterChanged(e.name,a),onHelpClick:a=>{const{paramName:t=e.name,paramLabel:s=e.label??t,refElement:l=this.renderedParameters[t]}=a.detail??{};this.toolHelpPopover=he(this.toolHelpPopover,{analysisEngine:this.analysisEngine,helpUrl:this.toolHelpFilePath,helpId:t,helpFileName:this.toolJson?.name,heading:s,referenceElement:l,isHelpFileExternalAsset:this.isHelpFileExternalAsset,portal:this.portal??this.user?.portal,portalHelpMap:this.portalHelpMap,learnMoreBaseUrl:this.portal?.sourceJSON.helpBase??void 0,helpMode:this.helpMode})},onClick:()=>{l.removeOpenableDomElement(this.toolHelpPopover)}})},this.renderParameterContainer=(e,t)=>{const s=e?.summaryText,l=r.AnalysisToolUILayout.Vertical;return a.h(de,{...e,componentName:e.componentName,label:e.label,summaryText:ye(s,this.toolUIStrings??this.internalToolUIStrings)},a.h("div",{class:`parameters-container ${l}`},t))},this.handleOnSetRef=(e,a)=>{null!==a?this.renderedParameters[e]=a:(delete this.renderedParameters[e],delete this.toolData[e])},this.parameterChanged=(e,a)=>{const s={...this.toolData},{travelModeInfo:l}=this.toolUIJson??{};if(null!==a.target&&void 0!==e){const i=a.target;if(void 0!==this.toolJson&&i.value!==t.StraightLineParameterValue&&!0===t.isTravelModeParameter(e,this.toolJson.name)){if(void 0!==l?.travelModes){const a=l?.travelModes.filter((e=>e.id===i.value))[0];s[e]={...a}}}else if("timeOfDay"===e){const a=i.value;s[e]=a?.timeOfDay,s.timeZoneForTimeOfDay=a?.timeZoneForTimeOfDay}else if("analysisVariables"===e){const{analysisVariables:a,country:t,hierarchy:l,labels:n,countryAlias:o,hierarchyAlias:r}=i.value??{};s[e]=a,s.labels=n,void 0!==t&&(s.country=t),void 0!==l&&(s.hierarchy=l),void 0!==o&&(s.countryAlias=o),void 0!==r&&(s.hierarchyAlias=r)}else if("queryBuilder"===e){const{expressions:e,inputLayers:a}=i.value??{};s.expressions=e,s.inputLayers=a}else{let a;if("ANALYSIS-PARAMETER-GROUP"===i.nodeName){a=i.value,s[e]=a;const l=t.generateParamGroupDataTypeKey(e),n=i.dataType;s[l]=n}else a=i.value,s[e]=a}s[Q]=this[Q],this.toolData=s,this.analysisToolDataChange.emit({toolData:s,parameterName:e})}},this.toolUIJson=void 0,this.toolHelpFilePath=void 0,this.isHelpFileExternalAsset=!1,this.analysisEngine=U.AnalysisEngine.Standard,this.doCalciteInputChangeOnCommit=!1,this.usePanel=!0,this.closable=!0,this.toolUIStrings=void 0,this.toolJson=void 0,this.toolParameters=void 0,this.toolData={},this.mapLayers=void 0,this.modelVariableLayers=void 0,this.mapView=void 0,this.analysisDatasets=void 0,this.learnMoreUrl=void 0,this.externalHelpMap=void 0,this.user=void 0,this.portal=void 0,this.portalHelpMap=void 0,this.toolHelpPopover=void 0,this.environmentSettings=void 0,this.parameterNotificationState={},this.supportsUpload=!1,this.serviceUrl=void 0,this.emitAnalysisCustomRuleExecuting=e=>this.analysisCustomRuleExecuting.emit(e),this.helpMode="standalone",this.renderedParameters={},this.internalToolUIStrings=void 0}toolUIJsonChange(e,a){!1===Z.isEqual(e?.t9n,a?.t9n)&&(this.internalToolUIStrings={...e?.t9n})}async toolDataChange(e,a){const s=this.portal?.helperServices.geoenrichment?.url;if(!t.isEmptyDataItem(s)&&"EnrichLayer"===this.toolJson?.name&&void 0!==this.toolUIJson&&!Z.isEqual(p.omit$1(e?.inputLayer,"serviceToken"),p.omit$1(a?.inputLayer,"serviceToken"))){let a;void 0===e||t.isEmptyDataItem(e?.inputLayer)||(a=await t.getCountry({inputLayer:this.renderedParameters.inputLayer.selectedLayers,mapView:this.mapView,geoenrichmentUrl:s})),void 0===e||!t.isEmptyDataItem(e.inputLayer)&&e.country===a||(e.analysisVariables=void 0,e.hierarchy=void 0,e.country=a),this.toolData={...this.toolData,...r.pick$1(e,"inputLayer","analysisVariables","hierarchy","country")}}}async onUserChange(){let e=!1;void 0!==this.portal&&(e=await t.isStandardAnalysisServerAdvanced(this.portal)),this.toolData={...this.toolData,userSettings:{unitSystem:this.user?.units,hasNAPrivilege:t.hasNAPrivilege(this.user),hasGEPrivilege:t.hasGeoEnrichmentPrivilege(this.user),hasAdvancedLicense:e}},this.analysisToolDataChange.emit({toolData:this.toolData,parameterName:void 0})}toolHelpPopoverChange(){this.analysisToolHelpPopoverChange.emit()}disconnectedCallback(){l.removeOpenableDomElement(this.toolHelpPopover)}async componentWillRender(){this.toolParameters=void 0!==this.toolUIJson?await this.buildWithUIParameters(this.toolUIJson.UIparameters):this.buildWithoutUIParameters()}async componentWillLoad(){const{rtl:e}=t.getLocaleInfo(this.hostElement);this.direction=!0===e?"rtl":"ltr";let a=!1;void 0!==this.user&&(a=await t.isStandardAnalysisServerAdvanced(this.user?.portal)),void 0!==this.toolUIJson&&this.toolUIJsonChange(this.toolUIJson),void 0!==this.toolUIStrings&&(this.internalToolUIStrings={...this.toolUIStrings},void 0!==this.toolUIJson&&void 0===this.toolUIJson?.t9n&&(this.toolUIJson.t9n=this.toolUIStrings)),!0===t.isEmptyDataItem(this.toolData)&&void 0!==this.toolJson?.parameters&&(this.toolData=await this.getDefaultValues(a,this.toolJson.parameters,this.toolUIJson?.UIparameters),t.isEmptyDataItem(this.toolData)||this.analysisToolDataChange.emit({toolData:this.toolData,parameterName:void 0}))}componentDidLoad(){this.toolData[Q]=this[Q],this.analysisToolLoaded.emit()}async validateTool(){const e=await this.checkToolValidity(),a=await this.checkToolValidationRules();return void 0!==e&&a.push(e),{valid:0===a.length,errorKeys:a}}get toolTitle(){let e;if(void 0!==this.toolJson&&void 0!==this.internalToolUIStrings?.toolInfo){const a=`${t.toCamelToolName(this.toolJson?.name)}${t.formatAnalysisEngineSuffix(this.analysisEngine)}`;e=this.internalToolUIStrings.toolInfo?.[a]}else e=this.toolJson?.displayName;return e=e??this.toolUIJson?.toolName??this.toolJson?.displayName,e}render(){const e=this.hasParameters?this.toolParameters:this.showEmpytNotice();return a.h(a.Host,{key:"6d7644118af37b45da42bf26d52ce09456c2aff6"},!0===this.usePanel?a.h("calcite-panel",{dir:this.direction,heading:this.toolTitle,closable:this.closable,ref:e=>{this.panelElement=e}},a.h("calcite-action",{label:"",text:"",icon:"information",slot:"header-actions-end",onClick:()=>{void 0!==this.toolHelpFilePath&&(this.toolHelpPopover=he(this.toolHelpPopover,{helpUrl:this.toolHelpFilePath,helpId:"toolDescription",heading:this.toolTitle,referenceElement:this.panelElement,isHelpFileExternalAsset:!0,portal:this.portal??this.user?.portal,portalHelpMap:this.portalHelpMap,helpFileName:this.toolJson?.name,analysisEngine:this.analysisEngine,learnMoreBaseUrl:this.portal?.sourceJSON.helpBase,learnMoreUrl:this.learnMoreUrl,offsetDistance:15,externalHelpMap:this.externalHelpMap}))}}),e):e)}get hasParameters(){const e=this.toolJson?.parameters?.filter((e=>"context"!==e.name&&"esriGPParameterDirectionOutput"!==e.direction))?.length;return(this.toolUIJson?.UIparameters?.length??0)+(e??0)>0}showEmpytNotice(){const e=!0===this.user?.portal?.isPortal&&void 0!==this.portalHelpMap?this.portalHelpMap?.m[i.helpMapEnterprise.map.OtherHelpLinks.noParameters]:i.helpMap.map.OtherHelpLinks.noParameters,s=t.formatLearnMoreHelpUrl({url:e,basePath:t.getHelpBaseUrl(this.user?.portal),portalUrl:this.user?.portal?.restUrl}),l=t.formatMessage(this.internalToolUIStrings?.noParametersLearnMore,{docLink:s});return a.h("calcite-notice",{class:"notice-margin",open:!0,icon:!0,kind:"info"},a.h("div",{slot:"message"},this.internalToolUIStrings?.noParametersText," "),a.h("div",{slot:"link",innerHTML:l}))}async buildWithUIParameters(e){const{rules:a,travelModeInfo:s}=this.toolUIJson??{},l=m.getRulesByDestination(a??[]),i=m.joinParams(e??[],this.toolJson?.parameters??[]),n=[];for(let e of i){const a=e.name;if(void 0===a){n.push(e);continue}let i=this.toolData;void 0!==this.toolJson&&!0===t.isTravelModeParameter(a,this.toolJson.name)?[e,i]=m.adaptForTravelModes({param:e,data:i,travelModeInfo:s,straightLineLabel:this.internalToolUIStrings?.straightLineLabel??void 0}):(i[a]??(i[a]=e.value),e.value=i[a]);const o=l.get(a);if(void 0!==o&&([e,i]=await m.applyRules({param:e,data:i,rules:o,renderedParameters:this.renderedParameters,currentTool:this.hostElement})),[e,i]=m.applyVisibilityRules({param:e,data:i,renderedParameters:this.renderedParameters}),n.push(e),void 0!==e.name&&void 0===e.UIparameters){const a=r.pick$1(e,[...X,...ee]);if("UIparameterInfos"in e){const t={};e.UIparameterInfos?.forEach((e=>{void 0!==e.name&&(t[e.name]=r.pick$1(e,X))})),a.uiParameterInfoSubSet=t}this[Q][e.name]=a}}return Promise.all(n.filter((e=>!1!==e.visible)).map((e=>fe(e,this.toolUIStrings??this.internalToolUIStrings))).map((async e=>{if(void 0!==e.UIparameters){const a=await this.buildWithUIParameters(e.UIparameters);return this.renderParameterContainer(e,a)}{const a=e;return this.renderParameter(a)}})))}buildWithoutUIParameters(){const e=this.toolJson?.parameters??[];return e?.filter((e=>"esriGPParameterDirectionInput"===e.direction)).map(this.renderParameter)}async getDefaultValues(e,a,s){let l={};const{travelModeInfo:i,rules:n}=this.toolUIJson??{},{name:o}=this.toolJson??{},r=t.getUIParamsByName(s??[]);l=m.applyUserSettings({defaultValues:l,user:this.user,hasAdvancedLicense:e}),l=m.applyToolUIJsonParameterDefaults({defaultValues:l,toolName:o,toolUIJsonParametersByName:r,travelModeInfo:i}),l=m.applyToolParameterDefaults({defaultValues:l,toolJsonParameters:a,toolUIJsonParametersByName:r}),l=await m.applyUserSettingsRules({defaultValues:l,toolUIJsonParametersByName:r,rules:n});const p=await this.getDefaultLayerValues(a);return l={...l,...p},l}async getDefaultLayerValues(e){const a={};for(const s of e)if(void 0!==s.defaultValue&&null!==s.defaultValue&&"object"==typeof s.defaultValue&&("GPFeatureRecordSetLayer"===s.dataType||"GPRecordSet"===s.dataType)&&"url"in s.defaultValue){const{existingLayers:e,layersToAdd:l}=await t.convertJobLayersToMapLayers([s.defaultValue],this.mapLayers??[]);a[t.generateSelectedLayersKey(s?.name)]=[...e,...l]}return a}async checkToolValidity(){const e=Object.values(this.renderedParameters).filter((e=>"checkValidity"in e&&"function"==typeof e.checkValidity)).map((e=>e.checkValidity()));return!0===await Promise.all(e).then((e=>e.every((e=>!0===e))))?void 0:t.DEFAULT_ERROR_KEY}async checkToolValidationRules(){const{validationRules:e}=this.toolUIJson||{},a=[];if(!t.isEmptyDataItem(e))for(const s of e)!0===await t.processValidationRule({rule:s,data:this.toolData,renderedParams:this.renderedParameters,currentTool:this.hostElement})&&a.push(s.errorKey);return a}static get assetsDirs(){return["t9n"]}get hostElement(){return this}static get watchers(){return{toolUIJson:["toolUIJsonChange"],toolData:["toolDataChange"],user:["onUserChange"],toolHelpPopover:["toolHelpPopoverChange"]}}static get style(){return":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:#d4d4d4;--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh}.parameters-container{display:flex;justify-content:space-between;column-gap:5%;width:var(--analysis-parameter-default-width)}.horizontal{flex-direction:row;align-items:center}.vertical{flex-direction:column}.notice-margin{margin:var(--analysis-full-spacing) var(--analysis-three-quarter-spacing)}"}},[1,"analysis-tool",{toolUIJson:[16],toolHelpFilePath:[513,"tool-help-file-path"],isHelpFileExternalAsset:[516,"is-help-file-external-asset"],analysisEngine:[513,"analysis-engine"],doCalciteInputChangeOnCommit:[4,"do-calcite-input-change-on-commit"],usePanel:[516,"use-panel"],closable:[516],toolUIStrings:[16],toolJson:[16],toolData:[1040],mapLayers:[16],modelVariableLayers:[16],mapView:[16],analysisDatasets:[16],learnMoreUrl:[513,"learn-more-url"],externalHelpMap:[16],user:[16],portal:[16],portalHelpMap:[16],toolHelpPopover:[1040],environmentSettings:[16],parameterNotificationState:[16],supportsUpload:[4,"supports-upload"],serviceUrl:[1,"service-url"],emitAnalysisCustomRuleExecuting:[16],helpMode:[1,"help-mode"],toolParameters:[32],renderedParameters:[32],internalToolUIStrings:[32],validateTool:[64]},void 0,{toolUIJson:["toolUIJsonChange"],toolData:["toolDataChange"],user:["onUserChange"],toolHelpPopover:["toolHelpPopoverChange"]}]);function ve(){"undefined"!=typeof customElements&&["analysis-tool","analysis-attribute-expression","analysis-block","analysis-boolean-input","analysis-chip-group","analysis-data-file-input","analysis-dataset-input","analysis-dataset-input-popover","analysis-date-input","analysis-expression-group","analysis-field-input","analysis-field-select","analysis-folder-input","analysis-geoenrichment-databrowser","analysis-geoenrichment-input","analysis-help-popover","analysis-item-browser","analysis-item-input","analysis-key-value","analysis-label","analysis-layer-input","analysis-layer-input-popover","analysis-linear-unit-input","analysis-multiple-input","analysis-number-input","analysis-parameter-group","analysis-query-builder","analysis-query-entry","analysis-query-input","analysis-query-modal","analysis-query-target-select","analysis-section","analysis-sketch","analysis-spatial-expression","analysis-spatial-reference-input","analysis-spatial-reference-selector","analysis-string-input","analysis-summary-fields","analysis-summary-fields-popover","analysis-traffic-time-input","analysis-tree","analysis-unsupported-input","analysis-value-table","analysis-workflow-select","analysis-workflow-select-popover"].forEach((e=>{switch(e){case"analysis-tool":customElements.get(e)||customElements.define(e,ge);break;case"analysis-attribute-expression":customElements.get(e)||u.defineCustomElement();break;case"analysis-block":customElements.get(e)||c.defineCustomElement();break;case"analysis-boolean-input":customElements.get(e)||d.defineCustomElement();break;case"analysis-chip-group":customElements.get(e)||h.defineCustomElement();break;case"analysis-data-file-input":customElements.get(e)||y.defineCustomElement();break;case"analysis-dataset-input":customElements.get(e)||f.defineCustomElement();break;case"analysis-dataset-input-popover":customElements.get(e)||g.defineCustomElement();break;case"analysis-date-input":customElements.get(e)||v.defineCustomElement();break;case"analysis-expression-group":customElements.get(e)||p.defineCustomElement();break;case"analysis-field-input":customElements.get(e)||b.defineCustomElement();break;case"analysis-field-select":customElements.get(e)||E.defineCustomElement();break;case"analysis-folder-input":customElements.get(e)||I.defineCustomElement();break;case"analysis-geoenrichment-databrowser":customElements.get(e)||C.defineCustomElement();break;case"analysis-geoenrichment-input":customElements.get(e)||P.defineCustomElement();break;case"analysis-help-popover":customElements.get(e)||U.defineCustomElement();break;case"analysis-item-browser":customElements.get(e)||T.defineCustomElement();break;case"analysis-item-input":customElements.get(e)||k.defineCustomElement();break;case"analysis-key-value":customElements.get(e)||r.defineCustomElement();break;case"analysis-label":customElements.get(e)||D.defineCustomElement();break;case"analysis-layer-input":customElements.get(e)||H.defineCustomElement();break;case"analysis-layer-input-popover":customElements.get(e)||n.defineCustomElement();break;case"analysis-linear-unit-input":customElements.get(e)||L.defineCustomElement();break;case"analysis-multiple-input":customElements.get(e)||M.defineCustomElement();break;case"analysis-number-input":customElements.get(e)||x.defineCustomElement();break;case"analysis-parameter-group":customElements.get(e)||S.defineCustomElement();break;case"analysis-query-builder":customElements.get(e)||w.defineCustomElement();break;case"analysis-query-entry":customElements.get(e)||V.defineCustomElement();break;case"analysis-query-input":customElements.get(e)||A.defineCustomElement();break;case"analysis-query-modal":customElements.get(e)||J.defineCustomElement();break;case"analysis-query-target-select":customElements.get(e)||N.defineCustomElement();break;case"analysis-section":customElements.get(e)||R.defineCustomElement();break;case"analysis-sketch":customElements.get(e)||F.defineCustomElement();break;case"analysis-spatial-expression":customElements.get(e)||q.defineCustomElement();break;case"analysis-spatial-reference-input":customElements.get(e)||O.defineCustomElement();break;case"analysis-spatial-reference-selector":customElements.get(e)||B.defineCustomElement();break;case"analysis-string-input":customElements.get(e)||G.defineCustomElement();break;case"analysis-summary-fields":customElements.get(e)||K.defineCustomElement();break;case"analysis-summary-fields-popover":customElements.get(e)||$.defineCustomElement();break;case"analysis-traffic-time-input":customElements.get(e)||W.defineCustomElement();break;case"analysis-tree":customElements.get(e)||z.defineCustomElement();break;case"analysis-unsupported-input":customElements.get(e)||_.defineCustomElement();break;case"analysis-value-table":customElements.get(e)||m.defineCustomElement();break;case"analysis-workflow-select":customElements.get(e)||j.defineCustomElement();break;case"analysis-workflow-select-popover":customElements.get(e)||Y.defineCustomElement()}}))}ve(),e.AnalysisParameter=ue,e.AnalysisParameterContainer=de,e.AnalysisTool=ge,e.createComponent=ce,e.defineCustomElement=ve,e.showHelp=he}));
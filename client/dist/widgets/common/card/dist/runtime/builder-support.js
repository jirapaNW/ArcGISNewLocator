System.register(["jimu-core","jimu-core/dnd","jimu-ui","jimu-layouts/layout-runtime","jimu-for-builder","jimu-layouts/layout-builder","jimu-theme"],(function(e,t){var o={},r={},n={},i={},s={},p={},a={};return{setters:[function(e){o.BrowserSizeMode=e.BrowserSizeMode,o.React=e.React,o.css=e.css,o.getAppStore=e.getAppStore,o.jsx=e.jsx},function(e){r.interact=e.interact},function(e){n.Button=e.Button,n.ButtonGroup=e.ButtonGroup,n.Dropdown=e.Dropdown,n.DropdownButton=e.DropdownButton,n.DropdownItem=e.DropdownItem,n.DropdownMenu=e.DropdownMenu,n.Popper=e.Popper},function(e){i.searchUtils=e.searchUtils},function(e){s.ContentServiceWrapper=e.ContentServiceWrapper,s.LayoutServiceProvider=e.LayoutServiceProvider,s.getAppConfigAction=e.getAppConfigAction,s.widgetService=e.widgetService},function(e){p.GLOBAL_DRAGGING_CLASS_NAME=e.GLOBAL_DRAGGING_CLASS_NAME,p.GLOBAL_H5_DRAGGING_CLASS_NAME=e.GLOBAL_H5_DRAGGING_CLASS_NAME,p.GLOBAL_RESIZING_CLASS_NAME=e.GLOBAL_RESIZING_CLASS_NAME},function(e){a.withBuilderTheme=e.withBuilderTheme}],execute:function(){e((()=>{"use strict";var e={79244:e=>{e.exports=o},26245:e=>{e.exports=r},4108:e=>{e.exports=s},6055:e=>{e.exports=p},41496:e=>{e.exports=i},1888:e=>{e.exports=a},14321:e=>{e.exports=n}},t={};function d(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,d),n.exports}d.d=(e,t)=>{for(var o in t)d.o(t,o)&&!d.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return(()=>{d.r(u),d.d(u,{default:()=>a});var e=d(79244),t=d(26245),o=d(14321),r=d(41496),n=d(4108),i=d(6055);class s extends e.React.PureComponent{constructor(t){super(t),this.onDropDownToggle=e=>{e.stopPropagation();const{isDropDownOpen:t,onDropDownOpenChange:o}=this.props;if(void 0!==t)o&&o(!t);else{const{isOpen:e}=this.state;this.setState({isOpen:!e})}},this.onItemClick=(e,t)=>{const{isDropDownOpen:o,onDropDownOpenChange:r}=this.props;void 0!==o?r&&r(!1):this.setState({isOpen:!1}),t.event(e,t),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.onDropDownMouseClick=e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.getStyle=()=>{var t,o,r,n;const{theme:i}=this.props;return e.css`
      .card-toggle-button {
        background: ${null===(o=null===(t=null==i?void 0:i.ref.palette)||void 0===t?void 0:t.neutral)||void 0===o?void 0:o[500]};
        border: none;
        &:hover, &[aria-expanded="true"] {
          background: ${null===(n=null===(r=null==i?void 0:i.ref.palette)||void 0===r?void 0:r.neutral)||void 0===n?void 0:n[700]};
        }
      }
    `},this.state={isOpen:!1};const{withBuilderTheme:r}=t;this.MyDropdown=r?r(o.Dropdown):o.Dropdown,this.MyDropdownButton=r?r(o.DropdownButton):o.DropdownButton,this.MyDropdownMenu=r?r(o.DropdownMenu):o.DropdownMenu,this.MyDropdownItem=r?r(o.DropdownItem):o.DropdownItem}render(){const{items:t,toggleContent:o,toggleType:r,menuContent:n,modifiers:i,toggleIsIcon:s,theme:p,isDropDownOpen:a,size:d,appendToBody:u,toggleTitle:l,direction:c,menuCss:g,className:S,showActive:h,activeLabel:w,fluid:m}=this.props;let{isOpen:A}=this.state;A=void 0===a?A:a;const{MyDropdown:v,MyDropdownButton:y,MyDropdownMenu:I,MyDropdownItem:L}=this;return(0,e.jsx)(v,{size:d,toggle:this.onDropDownToggle,direction:c,fluid:m,isOpen:A,className:`my-dropdown ${S}`,css:this.getStyle()},o&&(0,e.jsx)(y,{icon:s,title:l,size:d,type:r,arrow:!1,className:"card-toggle-button"},o&&o(p)),(0,e.jsx)(I,{appendToBody:u,modifiers:i,css:g&&g(p)},n?n(p):t&&t.asMutable().map(((t,o)=>!t.hide&&(0,e.jsx)(L,{key:o,className:"no-user-select",active:h&&t.label===w,onClick:e=>{this.onItemClick(e,t)}},t.label)))))}}var p=d(1888);const a={ButtonGroup:o.ButtonGroup,interact:t.interact,searchUtils:r.searchUtils,getAppConfigAction:n.getAppConfigAction,ContentServiceWrapper:n.ContentServiceWrapper,LayoutServiceProvider:n.LayoutServiceProvider,widgetService:n.widgetService,GLOBAL_DRAGGING_CLASS_NAME:i.GLOBAL_DRAGGING_CLASS_NAME,GLOBAL_RESIZING_CLASS_NAME:i.GLOBAL_RESIZING_CLASS_NAME,GLOBAL_H5_DRAGGING_CLASS_NAME:i.GLOBAL_H5_DRAGGING_CLASS_NAME,withBuilderTheme:p.withBuilderTheme,BuilderDropDown:(0,p.withBuilderTheme)((t=>e.React.createElement(s,Object.assign({},t,{withBuilderTheme:p.withBuilderTheme})))),BuilderPopper:(0,p.withBuilderTheme)(o.Popper),BuilderButton:(0,p.withBuilderTheme)(o.Button),selectionIsSelf:(e,t,o)=>{if(!e||!e.layoutItemId||!e.layoutId)return!1;const n=r.searchUtils.findLayoutItem(o,e);return!(!n||!n.widgetId||n.widgetId!==t)},selectionInCard:(t,o,n,i=!0)=>{if(!t||!t.layoutItemId||!t.layoutId)return!1;let s;if(i)s=r.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(n,t,o,(0,e.getAppStore)().getState().browserSizeMode);else{s=[];const i=r.searchUtils.getRelatedLayoutInfosInWidgetByLayoutInfo(n,t,o,e.BrowserSizeMode.Large)||[],p=r.searchUtils.getRelatedLayoutInfosInWidgetByLayoutInfo(n,t,o,e.BrowserSizeMode.Medium)||[],a=r.searchUtils.getRelatedLayoutInfosInWidgetByLayoutInfo(n,t,o,e.BrowserSizeMode.Small)||[];s=s.concat(i),s=s.concat(p),s=s.concat(a)}return s.length>0&&!!(null==s?void 0:s[0])}}})(),u})())}}}));
System.register(["jimu-core","jimu-ui","jimu-ui/advanced/setting-components","jimu-ui/advanced/data-source-selector","jimu-ui/basic/list-tree","jimu-core/react"],(function(e,t){var s={},i={},a={},n={},r={},o={};return{setters:[function(e){s.CONSTANTS=e.CONSTANTS,s.DataSourceComponent=e.DataSourceComponent,s.DataSourceManager=e.DataSourceManager,s.Immutable=e.Immutable,s.React=e.React,s.SessionManager=e.SessionManager,s.classNames=e.classNames,s.css=e.css,s.defaultMessages=e.defaultMessages,s.esri=e.esri,s.getAppStore=e.getAppStore,s.hooks=e.hooks,s.i18n=e.i18n,s.jsx=e.jsx,s.polished=e.polished,s.portalUrlUtils=e.portalUrlUtils},function(e){i.Alert=e.Alert,i.AlertPopup=e.AlertPopup,i.Button=e.Button,i.Checkbox=e.Checkbox,i.Dropdown=e.Dropdown,i.DropdownButton=e.DropdownButton,i.DropdownItem=e.DropdownItem,i.DropdownMenu=e.DropdownMenu,i.Icon=e.Icon,i.Label=e.Label,i.Loading=e.Loading,i.LoadingType=e.LoadingType,i.Modal=e.Modal,i.ModalBody=e.ModalBody,i.ModalFooter=e.ModalFooter,i.ModalHeader=e.ModalHeader,i.Radio=e.Radio,i.Select=e.Select,i.TextArea=e.TextArea,i.TextInput=e.TextInput,i.Tooltip=e.Tooltip,i.defaultMessages=e.defaultMessages},function(e){a.SettingRow=e.SettingRow,a.SettingSection=e.SettingSection,a.SidePopper=e.SidePopper},function(e){n.AllDataSourceTypes=e.AllDataSourceTypes,n.DataSourceSelector=e.DataSourceSelector,n.FieldSelector=e.FieldSelector},function(e){r.List=e.List,r.TreeItemActionType=e.TreeItemActionType},function(e){o.Fragment=e.Fragment}],execute:function(){e((()=>{var e={4213:function(e,t,s){var i,a,n;a=[],void 0===(n="function"==typeof(i=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(e,t,s){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){l(i.response,t,s)},i.onerror=function(){console.error("could not download file")},i.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof s.g&&s.g.global===s.g?s.g:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,t,s){var o=r.URL||r.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?n(l):a(l.href)?i(e,t,s):n(l,l.target="_blank")):(l.href=o.createObjectURL(e),setTimeout((function(){o.revokeObjectURL(l.href)}),4e4),setTimeout((function(){n(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,s,r){if(s=s||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),s);else if(a(e))i(e,s,r);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){n(o)}))}}:function(e,t,s,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return i(e,t,s);var n="application/octet-stream"===e.type,l=/constructor/i.test(r.HTMLElement)||r.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||n&&l||o)&&"undefined"!=typeof FileReader){var p=new FileReader;p.onloadend=function(){var e=p.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},p.readAsDataURL(e)}else{var u=r.URL||r.webkitURL,d=u.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});r.saveAs=l.saveAs=l,e.exports=l})?i.apply(t,a):i)||(e.exports=n)},2694:(e,t,s)=>{"use strict";var i=s(6925);function a(){}function n(){}n.resetWarningCache=a,e.exports=function(){function e(e,t,s,a,n,r){if(r!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:a};return s.PropTypes=s,s}},5556:(e,t,s)=>{e.exports=s(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},56499:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m6.036 12.157 8.01-8.01a.5.5 0 1 1 .707.707l-8.01 8.01a1 1 0 0 1-1.415 0L1.146 8.682a.5.5 0 1 1 .708-.707z"></path></svg>'},31027:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M12 6.5c0 .527-.074 1.036-.212 1.518l.912.438a6.5 6.5 0 1 0-6.586 4.533l-.077-1.008A5.5 5.5 0 1 1 12 6.5m-9 0a3.5 3.5 0 0 0 2.88 3.445L5.8 8.901a2.501 2.501 0 1 1 3.194-2.224l.949.456A3.5 3.5 0 1 0 3 6.5M15.5 11l-5 1-3 4-1-9.5zm-5.57.094-1.702 2.269-.542-5.152 4.76 2.38z" clip-rule="evenodd"></path></svg>'},26490:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M3.154 3.154a.527.527 0 0 1 .746 0l1.317 1.317A8.6 8.6 0 0 1 8 4c2.667 0 5.667 1.333 7 4-.696 1.393-1.847 2.422-3.168 3.087l1.014 1.013a.527.527 0 1 1-.746.746l-1.317-1.317A8.6 8.6 0 0 1 8 12c-2.667 0-5.667-1.333-7-4 .696-1.393 1.847-2.422 3.168-3.087L3.154 3.9a.527.527 0 0 1 0-.746m1.698 2.443C3.726 6.087 2.782 6.882 2 8c1.422 2.033 3.382 3 6 3a8.7 8.7 0 0 0 2.03-.225l-.675-.674A2.5 2.5 0 0 1 5.9 6.644zm6.296 4.805C12.275 9.913 13.218 9.119 14 8c-1.422-2.033-3.382-3-6-3q-1.088 0-2.03.225l.675.674a2.5 2.5 0 0 1 3.457 3.456zM6.5 8c0-.221.048-.431.134-.62l1.987 1.986A1.5 1.5 0 0 1 6.5 8m.88-1.366 1.986 1.987a1.5 1.5 0 0 0-1.987-1.987" clip-rule="evenodd"></path></svg>'},4651:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2 7a1 1 0 1 0 0 2 1 1 0 0 0 0-2m5 1a1 1 0 1 1 2 0 1 1 0 0 1-2 0m6 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0" clip-rule="evenodd"></path></svg>'},93303:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M9.438.994c.213 0 .397.146.44.35q.227 1.084.316 1.852.562.242 1.048.599l1.728-.676a.455.455 0 0 1 .556.188l1.42 2.394a.43.43 0 0 1-.091.547 22 22 0 0 1-1.49 1.194q.03.27.03.552 0 .32-.038.63l1.465 1.12a.43.43 0 0 1 .111.563l-1.42 2.394a.454.454 0 0 1-.53.197 23 23 0 0 1-1.807-.66q-.49.35-1.055.586l-.263 1.794a.446.446 0 0 1-.445.376H6.574a.446.446 0 0 1-.44-.35 21 21 0 0 1-.317-1.853 5.3 5.3 0 0 1-1.047-.598l-1.728.675a.455.455 0 0 1-.556-.187l-1.42-2.395a.43.43 0 0 1 .091-.546q.85-.735 1.49-1.194a5.167 5.167 0 0 1 .008-1.183L1.19 6.243a.43.43 0 0 1-.112-.562l1.42-2.395a.455.455 0 0 1 .531-.196q1.078.35 1.807.66c.324-.233.679-.43 1.056-.587l.262-1.794A.446.446 0 0 1 6.6.994zm-.365 1H6.985l-.28 1.866-.467.19q-.353.144-.672.34l-.207.136-.42.293-.476-.197q-.492-.205-1.169-.433l-.221-.074-1.045 1.719L3.59 6.999l-.06.479a4 4 0 0 0-.021.816l.014.144.058.492-.419.294q-.433.304-.979.746l-.177.145 1.043 1.72 1.845-.703.406.29q.307.219.645.384l.228.103.474.199.059.49q.06.507.19 1.177l.043.219h2.088l.282-1.867.466-.19q.354-.144.672-.34l.207-.136.419-.293.476.198q.495.204 1.17.433l.22.072 1.044-1.718-1.56-1.165.06-.479a4 4 0 0 0 .02-.815l-.013-.144-.06-.492.42-.295a18 18 0 0 0 .98-.746l.176-.146-1.043-1.72-1.844.705-.406-.29a4.5 4.5 0 0 0-.646-.385l-.228-.103-.474-.199-.058-.49q-.049-.405-.14-.916zm-1.067 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4" clip-rule="evenodd"></path></svg>'},73529:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 12c-2.667 0-5.667-1.333-7-4 1.333-2.667 4.333-4 7-4s5.667 1.333 7 4c-1.333 2.667-4.333 4-7 4m0-7c-2.618 0-4.578.967-6 3 1.422 2.033 3.382 3 6 3s4.578-.967 6-3c-1.422-2.033-3.382-3-6-3m0 5.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5m0-1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3" clip-rule="evenodd"></path></svg>'},54207:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M0 0h16v16H0z" opacity=".01"></path><path fill="#000" d="M2 7.527q.65 0 .984-.457t.333-1.293V3.971q0-.552.15-.93.15-.379.4-.6a1.4 1.4 0 0 1 .567-.33Q4.767 2 5.118 2h1.05v.851h-.8q-.3 0-.5.126a.76.76 0 0 0-.284.3 1.3 1.3 0 0 0-.133.426q-.034.236-.034.457v1.806q0 .569-.183.962a1.9 1.9 0 0 1-.417.615 1.7 1.7 0 0 1-.483.33q-.25.095-.4.111v.032q.15.015.4.126.25.094.483.331.25.22.417.615.183.378.183.946v1.806q0 .221.034.457.033.237.133.426a.76.76 0 0 0 .284.3q.2.126.5.126h.8V14h-1.05q-.351 0-.684-.11a1.4 1.4 0 0 1-.567-.331 1.54 1.54 0 0 1-.4-.6q-.15-.378-.15-.93v-1.806q0-.835-.333-1.293Q2.65 8.473 2 8.473zM14 8.473q-.65 0-.984.457t-.333 1.293v1.806q0 .552-.15.93-.15.379-.4.6a1.4 1.4 0 0 1-.584.33q-.316.111-.667.111h-1.05v-.851h.8q.3 0 .484-.126a.73.73 0 0 0 .3-.3q.1-.189.133-.426a3 3 0 0 0 .034-.457v-1.806q0-.568.166-.946.183-.395.417-.615.25-.237.5-.331.25-.111.4-.126v-.032q-.15-.015-.4-.11a2 2 0 0 1-.5-.331 2.3 2.3 0 0 1-.417-.615q-.166-.394-.167-.962V4.16q0-.221-.033-.457a1.3 1.3 0 0 0-.133-.426.73.73 0 0 0-.3-.3.84.84 0 0 0-.484-.126h-.8V2h1.05q.35 0 .667.11.334.095.584.331.25.221.4.6.15.378.15.93v1.806q0 .836.333 1.293.334.457.984.457z"></path></svg>'},62838:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m8.745 8 6.1 6.1a.527.527 0 1 1-.745.746L8 8.746l-6.1 6.1a.527.527 0 1 1-.746-.746l6.1-6.1-6.1-6.1a.527.527 0 0 1 .746-.746l6.1 6.1 6.1-6.1a.527.527 0 0 1 .746.746z"></path></svg>'},12046:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M11.227 1.312c-.404-.404-1.045-.417-1.432-.03L2.49 8.587l-.48 2.674a.637.637 0 0 0 .73.73l2.673-.48 7.305-7.306c.387-.387.374-1.028-.03-1.431zm-8.114 9.575.32-1.781 4.991-4.992 1.462 1.462-4.992 4.991zm7.473-6.012 1.402-1.4-1.462-1.463-1.401 1.402z" clip-rule="evenodd"></path><path fill="#000" d="M1.5 14a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1z"></path></svg>'},53921:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8.027.516A.52.52 0 0 0 7.5 0a.52.52 0 0 0-.527.516v9.508L4.4 7.527a.535.535 0 0 0-.746 0 .51.51 0 0 0 0 .73L7.5 12l3.846-3.743a.51.51 0 0 0 0-.73.535.535 0 0 0-.746 0l-2.573 2.497zM1 8v7h13V8h1v8H0V8z" clip-rule="evenodd"></path></svg>'},33443:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M6 1H1v14h14v-5h-1v4H2V2h4zm4 1h3.242L7.257 7.985l.707.707L14 2.657V6h1V1h-5z" clip-rule="evenodd"></path></svg>'},45508:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14" clip-rule="evenodd"></path></svg>'},4073:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m7 11.5 5.354-5.354-.708-.707L7 10.086 4.354 7.439l-.708.707z"></path><path fill="#000" fill-rule="evenodd" d="M0 8a8 8 0 1 0 16 0A8 8 0 0 0 0 8m15 0A7 7 0 1 1 1 8a7 7 0 0 1 14 0" clip-rule="evenodd"></path></svg>'},28996:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},92153:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGlkPSJpY29uIj4NCjxwYXRoIGlkPSJ2ZWN0b3IiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTAuODMyNiAxMC4zODU4QzEwLjg0MDcgMTAuMDk4MSAxMC44ODMzIDkuODEyNDIgMTAuOTU5NyA5LjUzNDk0QzExLjA2NzMgOS4zMTMwNiAxMS4yMDE5IDkuMTA1MzcgMTEuMzYwNiA4LjkxNjU5QzEyLjE2NDYgNy45Njc1MiAxMi42NTEzIDYuNzkwNjIgMTIuNzUyNiA1LjU1MDk0QzEyLjgzMzggNC4yMjAxMyAxMi4yOTMyIDIuOTI2OTEgMTEuMjg5MSAyLjA0OTc2QzkuNzE0NDIgMC42NDU0NTQgNy4zNDU5NyAwLjYxNTM0NyA1LjczNjEzIDEuOTc5MThDNC42Nzg2MiAyLjg1MzMgNC4xMDMxMiA0LjE4MDYgNC4xODc5IDUuNTVDNC4yODkyNiA2Ljc5MDEyIDQuNzc2MzYgNy45NjczOCA1LjU4MDg0IDguOTE2NTlDNS43Mzk3NSA5LjEwNTUyIDUuODc0NDQgOS4zMTM1NiA1Ljk4MTc4IDkuNTM1ODhDNi4wNTc4NiA5LjgxMzA3IDYuMTAwMjEgMTAuMDk4NCA2LjEwNzkgMTAuMzg1OEM2LjExNzg2IDEwLjY0NDIgNi4xNDkzNCAxMC45MDE1IDYuMjAyMDIgMTEuMTU0N0M2LjIxNDI1IDExLjIxMDIgNi4yMzU5IDExLjI0NDEgNi4yNTAwMiAxMS4yOTRINS45NTYzN0w2LjM3OTkgMTIuNzA1OEw2LjAzNjM3IDEzLjg0OTNMNy40MzU5IDE0Ljc1OTRDOC4wNjU3NCAxNS4xNjc5IDguODc3MDEgMTUuMTY3NiA5LjUwNjQ5IDE0Ljc1ODVMMTAuOTA2IDEzLjg0OTNMMTAuNTYzNCAxMi43MDU4TDEwLjk4NiAxMS4yOTRIMTAuNjkyNEMxMC43MDY1IDExLjI0NDEgMTAuNzI4MSAxMS4yMDkzIDEwLjc0MDQgMTEuMTU0N0MxMC43OTMgMTAuOTAxNSAxMC44MjQ1IDEwLjY0NDIgMTAuODM0NSAxMC4zODU4SDEwLjgzMjZaTTguOTk0NDkgMTMuOTY4OEM4LjY3NDk2IDE0LjE3MjMgOC4yNjY0OSAxNC4xNzIzIDcuOTQ2OTYgMTMuOTY4OEw3LjE0MDM3IDEzLjQ0NDZMNy4zNjE1NSAxMi43MDU4TDcuMjIwMzcgMTIuMjM1Mkg5LjcyMDEzTDkuNTc4OTYgMTIuNzA1OEw5LjgwMDEzIDEzLjQ0NDZMOC45OTQ0OSAxMy45Njg4Wk04Ljk0MDg0IDExLjI5NFY4LjQ3MDQ3SDcuOTk5NjZWMTEuMjk0SDcuMjU2MTNDNy4xODg3OCAxMS4xODk0IDcuMTQyNDIgMTEuMDcyOCA3LjExOTY2IDEwLjk1MDVDNy4wNzc1NSAxMC43NDU5IDcuMDUyOTkgMTAuNTM4MSA3LjA0NjI1IDEwLjMyOTNDNy4wMzU0NCA5Ljk3MzM5IDYuOTgxNzIgOS42MjAwOSA2Ljg4NjI1IDkuMjc3MDZDNi43NTcyOSA4LjkzOTY2IDYuNTcwNjcgOC42MjcyNSA2LjMzNDcyIDguMzUzNzZDNS42NDI2NiA3LjU1MDY3IDUuMjIwMjggNi41NTA1MiA1LjEyNzE5IDUuNDk0NDdDNS4wNjE3NyA0LjQyMjE5IDUuNTEzMDEgMy4zODMyNyA2LjM0MTMxIDIuNjk5MThDNy41OTU2OSAxLjYzODEyIDkuNDM5NzcgMS42NjIxOSAxMC42NjYgMi43NTU2NUMxMS40NTIzIDMuNDQxNDIgMTEuODc2IDQuNDUzMDUgMTEuODEzMyA1LjQ5NDQ3QzExLjcyMDIgNi41NTA1MiAxMS4yOTc4IDcuNTUwNjcgMTAuNjA1OCA4LjM1Mzc2QzEwLjM3MDQgOC42MjcxMyAxMC4xODQxIDguOTM5MTkgMTAuMDU1MiA5LjI3NjEyQzkuOTU5NDYgOS42MTk0NCA5LjkwNTQyIDkuOTczMDUgOS44OTQyNSAxMC4zMjkzQzkuODg3NTEgMTAuNTM4MSA5Ljg2Mjk1IDEwLjc0NTkgOS44MjA4NCAxMC45NTA1QzkuNzk3MDYgMTEuMDcxNyA5Ljc1MjQ4IDExLjE4NzkgOS42ODkwOCAxMS4yOTRIOC45NDA4NFpNOS44ODIwMiA3LjUyOTI5SDcuMDU4NDlWNi41ODgxMkg5Ljg4MjAyVjcuNTI5MjlaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9nPg0KPC9zdmc+DQo="},56915:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTUgNS41QzE1IDUuMjIzODYgMTUuMjIzOSA1IDE1LjUgNUgyNS41QzI1Ljc3NjEgNSAyNiA1LjIyMzg2IDI2IDUuNVY3LjVDMjYgNy43NzYxNCAyNS43NzYxIDggMjUuNSA4SDE1LjVDMTUuMjIzOSA4IDE1IDcuNzc2MTQgMTUgNy41VjUuNVpNMTYgNlY3SDI1VjZIMTZaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTE0IDkuNUMxNCA5LjIyMzg2IDE0LjIyMzkgOSAxNC41IDlIMjEuNUMyMS43NzYxIDkgMjIgOS4yMjM4NiAyMiA5LjVDMjIgOS43NzYxNCAyMS43NzYxIDEwIDIxLjUgMTBIMTQuNUMxNC4yMjM5IDEwIDE0IDkuNzc2MTQgMTQgOS41WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik0xNC44IDEzQzE0LjkxMDUgMTMgMTUgMTMuMDg5NSAxNSAxMy4yVjEzLjhDMTUgMTMuOTEwNSAxNC45MTA1IDE0IDE0LjggMTRIMTQuMkMxNC4wODk1IDE0IDE0IDEzLjkxMDUgMTQgMTMuOFYxMy4yQzE0IDEzLjA4OTUgMTQuMDg5NSAxMyAxNC4yIDEzSDE0LjhaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTE3IDEzLjJDMTcgMTMuMDg5NSAxNi45MTA1IDEzIDE2LjggMTNIMTYuMkMxNi4wODk1IDEzIDE2IDEzLjA4OTUgMTYgMTMuMlYxMy44QzE2IDEzLjkxMDUgMTYuMDg5NSAxNCAxNi4yIDE0SDE2LjhDMTYuOTEwNSAxNCAxNyAxMy45MTA1IDE3IDEzLjhWMTMuMloiIGZpbGw9IndoaXRlIi8+DQo8cGF0aCBkPSJNMTkgMTMuMkMxOSAxMy4wODk1IDE4LjkxMDUgMTMgMTguOCAxM0gxOC4yQzE4LjA4OTUgMTMgMTggMTMuMDg5NSAxOCAxMy4yVjEzLjhDMTggMTMuOTEwNSAxOC4wODk1IDE0IDE4LjIgMTRIMTguOEMxOC45MTA1IDE0IDE5IDEzLjkxMDUgMTkgMTMuOFYxMy4yWiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik0xNC41IDExQzE0LjIyMzkgMTEgMTQgMTEuMjIzOSAxNCAxMS41QzE0IDExLjc3NjEgMTQuMjIzOSAxMiAxNC41IDEySDI2LjVDMjYuNzc2MSAxMiAyNyAxMS43NzYxIDI3IDExLjVDMjcgMTEuMjIzOSAyNi43NzYxIDExIDI2LjUgMTFIMTQuNVoiIGZpbGw9IndoaXRlIi8+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE0IDE1LjVDMTQgMTUuMjIzOSAxNC4yMjM5IDE1IDE0LjUgMTVIMjYuNUMyNi43NzYxIDE1IDI3IDE1LjIyMzkgMjcgMTUuNVYyMS41QzI3IDIxLjc3NjEgMjYuNzc2MSAyMiAyNi41IDIySDE0LjVDMTQuMjIzOSAyMiAxNCAyMS43NzYxIDE0IDIxLjVWMTUuNVpNMTUgMThWMTlIMThWMThIMTVaTTE5IDE4VjE5SDIyVjE4SDE5Wk0xOSAyMEgyMlYyMUgxOVYyMFpNMjMgMjBIMjZWMjFIMjNWMjBaTTIzIDE4VjE5SDI2VjE4SDIzWk0yNiAxNlYxN0gyM1YxNkgyNlpNMTkgMTZIMjJWMTdIMTlWMTZaTTE4IDIwSDE1VjIxSDE4VjIwWk0xOCAxNlYxN0gxNVYxNkgxOFoiIGZpbGw9IndoaXRlIi8+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMwIDNDMzAgMi40NDc3MiAyOS41NTIzIDIgMjkgMkgxMkMxMS40NDc3IDIgMTEgMi40NDc3MiAxMSAzVjI1QzExIDI1LjU1MjMgMTEuNDQ3NyAyNiAxMiAyNkgyOUMyOS41NTIzIDI2IDMwIDI1LjU1MjMgMzAgMjVWM1pNMTIgM0gyOVYyNUgxMlYzWiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik0zIDZIOVY3SDNWMjlIMjBWMjhIMjFWMjlDMjEgMjkuNTUyMyAyMC41NTIzIDMwIDIwIDMwSDNDMi40NDc3MiAzMCAyIDI5LjU1MjMgMiAyOVY3QzIgNi40NDc3MiAyLjQ0NzcyIDYgMyA2WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik01LjUgMTJIOVYxMUg1LjVDNS4yMjM4NiAxMSA1IDExLjIyMzkgNSAxMS41QzUgMTEuNzc2MSA1LjIyMzg2IDEyIDUuNSAxMloiIGZpbGw9IndoaXRlIi8+DQo8cGF0aCBkPSJNOSAxNFYxM0g1LjVDNS4yMjM4NiAxMyA1IDEzLjIyMzkgNSAxMy41QzUgMTMuNzc2MSA1LjIyMzg2IDE0IDUuNSAxNEg5WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik01LjUgMTVIOVYxNkg1LjVDNS4yMjM4NiAxNiA1IDE1Ljc3NjEgNSAxNS41QzUgMTUuMjIzOSA1LjIyMzg2IDE1IDUuNSAxNVoiIGZpbGw9IndoaXRlIi8+DQo8cGF0aCBkPSJNNS41IDIxSDlWMjBINS41QzUuMjIzODYgMjAgNSAyMC4yMjM5IDUgMjAuNUM1IDIwLjc3NjEgNS4yMjM4NiAyMSA1LjUgMjFaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTUuNSAyM0g5VjIySDUuNUM1LjIyMzg2IDIyIDUgMjIuMjIzOSA1IDIyLjVDNSAyMi43NzYxIDUuMjIzODYgMjMgNS41IDIzWiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik01LjUgMjRIOVYyNUg1LjVDNS4yMjM4NiAyNSA1IDI0Ljc3NjEgNSAyNC41QzUgMjQuMjIzOSA1LjIyMzg2IDI0IDUuNSAyNFoiIGZpbGw9IndoaXRlIi8+DQo8cGF0aCBkPSJNNiA5LjJDNiA5LjA4OTU0IDUuOTEwNDYgOSA1LjggOUg1LjJDNS4wODk1NCA5IDUgOS4wODk1NCA1IDkuMlY5LjhDNSA5LjkxMDQ2IDUuMDg5NTQgMTAgNS4yIDEwSDUuOEM1LjkxMDQ2IDEwIDYgOS45MTA0NiA2IDkuOFY5LjJaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTUuOCAxOEM1LjkxMDQ2IDE4IDYgMTguMDg5NSA2IDE4LjJWMTguOEM2IDE4LjkxMDUgNS45MTA0NiAxOSA1LjggMTlINS4yQzUuMDg5NTQgMTkgNSAxOC45MTA1IDUgMTguOFYxOC4yQzUgMTguMDg5NSA1LjA4OTU0IDE4IDUuMiAxOEg1LjhaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTggMTguMkM4IDE4LjA4OTUgNy45MTA0NiAxOCA3LjggMThINy4yQzcuMDg5NTQgMTggNyAxOC4wODk1IDcgMTguMlYxOC44QzcgMTguOTEwNSA3LjA4OTU0IDE5IDcuMiAxOUg3LjhDNy45MTA0NiAxOSA4IDE4LjkxMDUgOCAxOC44VjE4LjJaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTggOS4yQzggOS4wODk1NCA3LjkxMDQ2IDkgNy44IDlINy4yQzcuMDg5NTQgOSA3IDkuMDg5NTQgNyA5LjJWOS44QzcgOS45MTA0NiA3LjA4OTU0IDEwIDcuMiAxMEg3LjhDNy45MTA0NiAxMCA4IDkuOTEwNDYgOCA5LjhWOS4yWiIgZmlsbD0id2hpdGUiLz4NCjwvc3ZnPg0K"},43479:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS44IDE3QzExLjkxMDUgMTcgMTIgMTcuMDg5NSAxMiAxNy4yVjE3LjhDMTIgMTcuOTEwNSAxMS45MTA1IDE4IDExLjggMThIMTEuMkMxMS4wODk1IDE4IDExIDE3LjkxMDUgMTEgMTcuOFYxNy4yQzExIDE3LjA4OTUgMTEuMDg5NSAxNyAxMS4yIDE3SDExLjhaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTkuOCAxN0M5LjkxMDQ2IDE3IDEwIDE3LjA4OTUgMTAgMTcuMlYxNy44QzEwIDE3LjkxMDUgOS45MTA0NiAxOCA5LjggMThIOS4yQzkuMDg5NTQgMTggOSAxNy45MTA1IDkgMTcuOFYxNy4yQzkgMTcuMDg5NSA5LjA4OTU0IDE3IDkuMiAxN0g5LjhaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTcuOCAxN0M3LjkxMDQ2IDE3IDggMTcuMDg5NSA4IDE3LjJWMTcuOEM4IDE3LjkxMDUgNy45MTA0NiAxOCA3LjggMThINy4yQzcuMDg5NTQgMTggNyAxNy45MTA1IDcgMTcuOFYxNy4yQzcgMTcuMDg5NSA3LjA4OTU0IDE3IDcuMiAxN0g3LjhaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTcuOCA1QzcuOTEwNDYgNSA4IDUuMDg5NTQgOCA1LjJWNS44QzggNS45MTA0NiA3LjkxMDQ2IDYgNy44IDZINy4yQzcuMDg5NTQgNiA3IDUuOTEwNDYgNyA1LjhWNS4yQzcgNS4wODk1NCA3LjA4OTU0IDUgNy4yIDVINy44WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik0xMS44IDVDMTEuOTEwNSA1IDEyIDUuMDg5NTQgMTIgNS4yVjUuOEMxMiA1LjkxMDQ2IDExLjkxMDUgNiAxMS44IDZIMTEuMkMxMS4wODk1IDYgMTEgNS45MTA0NiAxMSA1LjhWNS4yQzExIDUuMDg5NTQgMTEuMDg5NSA1IDExLjIgNUgxMS44WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik05LjggNUM5LjkxMDQ2IDUgMTAgNS4wODk1NCAxMCA1LjJWNS44QzEwIDUuOTEwNDYgOS45MTA0NiA2IDkuOCA2SDkuMkM5LjA4OTU0IDYgOSA1LjkxMDQ2IDkgNS44VjUuMkM5IDUuMDg5NTQgOS4wODk1NCA1IDkuMiA1SDkuOFoiIGZpbGw9IndoaXRlIi8+DQo8cGF0aCBkPSJNNyA3LjVDNyA3LjIyMzg2IDcuMjIzODYgNyA3LjUgN0gxOS41QzE5Ljc3NjEgNyAyMCA3LjIyMzg2IDIwIDcuNUMyMCA3Ljc3NjE0IDE5Ljc3NjEgOCAxOS41IDhINy41QzcuMjIzODYgOCA3IDcuNzc2MTQgNyA3LjVaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTcuNSA5QzcuMjIzODYgOSA3IDkuMjIzODYgNyA5LjVDNyA5Ljc3NjE0IDcuMjIzODYgMTAgNy41IDEwSDI0LjVDMjQuNzc2MSAxMCAyNSA5Ljc3NjE0IDI1IDkuNUMyNSA5LjIyMzg2IDI0Ljc3NjEgOSAyNC41IDlINy41WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik03IDExLjVDNyAxMS4yMjM5IDcuMjIzODYgMTEgNy41IDExSDI0LjVDMjQuNzc2MSAxMSAyNSAxMS4yMjM5IDI1IDExLjVDMjUgMTEuNzc2MSAyNC43NzYxIDEyIDI0LjUgMTJINy41QzcuMjIzODYgMTIgNyAxMS43NzYxIDcgMTEuNVoiIGZpbGw9IndoaXRlIi8+DQo8cGF0aCBkPSJNNy41IDE5QzcuMjIzODYgMTkgNyAxOS4yMjM5IDcgMTkuNUM3IDE5Ljc3NjEgNy4yMjM4NiAyMCA3LjUgMjBIMTkuNUMxOS43NzYxIDIwIDIwIDE5Ljc3NjEgMjAgMTkuNUMyMCAxOS4yMjM5IDE5Ljc3NjEgMTkgMTkuNSAxOUg3LjVaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTcgMjEuNUM3IDIxLjIyMzkgNy4yMjM4NiAyMSA3LjUgMjFIMjQuNUMyNC43NzYxIDIxIDI1IDIxLjIyMzkgMjUgMjEuNUMyNSAyMS43NzYxIDI0Ljc3NjEgMjIgMjQuNSAyMkg3LjVDNy4yMjM4NiAyMiA3IDIxLjc3NjEgNyAyMS41WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik03LjUgMjNDNy4yMjM4NiAyMyA3IDIzLjIyMzkgNyAyMy41QzcgMjMuNzc2MSA3LjIyMzg2IDI0IDcuNSAyNEgyNC41QzI0Ljc3NjEgMjQgMjUgMjMuNzc2MSAyNSAyMy41QzI1IDIzLjIyMzkgMjQuNzc2MSAyMyAyNC41IDIzSDcuNVoiIGZpbGw9IndoaXRlIi8+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI4IDNDMjggMi40NDc3MiAyNy41NTIzIDIgMjcgMkg1QzQuNDQ3NzIgMiA0IDIuNDQ3NzIgNCAzVjI5QzQgMjkuNTUyMyA0LjQ0NzcyIDMwIDUgMzBIMjdDMjcuNTUyMyAzMCAyOCAyOS41NTIzIDI4IDI5VjNaTTUgM0gyN1YyOUg1VjNaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTcgMTMuNUM3IDEzLjIyMzkgNy4yMjM4NiAxMyA3LjUgMTNIMjQuNUMyNC43NzYxIDEzIDI1IDEzLjIyMzkgMjUgMTMuNUMyNSAxMy43NzYxIDI0Ljc3NjEgMTQgMjQuNSAxNEg3LjVDNy4yMjM4NiAxNCA3IDEzLjc3NjEgNyAxMy41WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik03LjUgMjVDNy4yMjM4NiAyNSA3IDI1LjIyMzkgNyAyNS41QzcgMjUuNzc2MSA3LjIyMzg2IDI2IDcuNSAyNkgyNC41QzI0Ljc3NjEgMjYgMjUgMjUuNzc2MSAyNSAyNS41QzI1IDI1LjIyMzkgMjQuNzc2MSAyNSAyNC41IDI1SDcuNVoiIGZpbGw9IndoaXRlIi8+DQo8L3N2Zz4NCg=="},59226:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA1QzEwLjIyMzkgNSAxMCA1LjIyMzg2IDEwIDUuNVY3LjVDMTAgNy43NzYxNCAxMC4yMjM5IDggMTAuNSA4SDIxLjVDMjEuNzc2MSA4IDIyIDcuNzc2MTQgMjIgNy41VjUuNUMyMiA1LjIyMzg2IDIxLjc3NjEgNSAyMS41IDVIMTAuNVpNMTEgN1Y2SDIxVjdIMTFaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTcuNSA5QzcuMjIzODYgOSA3IDkuMjIzODYgNyA5LjVDNyA5Ljc3NjE0IDcuMjIzODYgMTAgNy41IDEwSDE5LjVDMTkuNzc2MSAxMCAyMCA5Ljc3NjE0IDIwIDkuNUMyMCA5LjIyMzg2IDE5Ljc3NjEgOSAxOS41IDlINy41WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik03LjggMTVDNy45MTA0NiAxNSA4IDE1LjA4OTUgOCAxNS4yVjE1LjhDOCAxNS45MTA1IDcuOTEwNDYgMTYgNy44IDE2SDcuMkM3LjA4OTU0IDE2IDcgMTUuOTEwNSA3IDE1LjhWMTUuMkM3IDE1LjA4OTUgNy4wODk1NCAxNSA3LjIgMTVINy44WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik05LjggMTVDOS45MTA0NiAxNSAxMCAxNS4wODk1IDEwIDE1LjJWMTUuOEMxMCAxNS45MTA1IDkuOTEwNDYgMTYgOS44IDE2SDkuMkM5LjA4OTU0IDE2IDkgMTUuOTEwNSA5IDE1LjhWMTUuMkM5IDE1LjA4OTUgOS4wODk1NCAxNSA5LjIgMTVIOS44WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik0xMiAxNS4yQzEyIDE1LjA4OTUgMTEuOTEwNSAxNSAxMS44IDE1SDExLjJDMTEuMDg5NSAxNSAxMSAxNS4wODk1IDExIDE1LjJWMTUuOEMxMSAxNS45MTA1IDExLjA4OTUgMTYgMTEuMiAxNkgxMS44QzExLjkxMDUgMTYgMTIgMTUuOTEwNSAxMiAxNS44VjE1LjJaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTcgMTEuNUM3IDExLjIyMzkgNy4yMjM4NiAxMSA3LjUgMTFIMjQuNUMyNC43NzYxIDExIDI1IDExLjIyMzkgMjUgMTEuNUMyNSAxMS43NzYxIDI0Ljc3NjEgMTIgMjQuNSAxMkg3LjVDNy4yMjM4NiAxMiA3IDExLjc3NjEgNyAxMS41WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNyAxNy41QzcgMTcuMjIzOSA3LjIyMzg4IDE3IDcuNSAxN0gyNC41QzI0Ljc3NjEgMTcgMjUgMTcuMjIzOSAyNSAxNy41VjI2LjVDMjUgMjYuNzc2MSAyNC43NzYxIDI3IDI0LjUgMjdINy41QzcuMjIzODggMjcgNyAyNi43NzYxIDcgMjYuNVYxNy41Wk04IDIxVjIzSDEyVjIxSDhaTTEzIDIxVjIzSDE5VjIxSDEzWk0xMyAyNEgxOVYyNkgxM1YyNFpNMjQgMjRWMjZIMjBWMjRIMjRaTTIwIDIxVjIzSDI0VjIxSDIwWk0yNCAxOFYyMEgyMFYxOEgyNFpNMTMgMThIMTlWMjBIMTNWMThaTTEyIDI0SDhWMjZIMTJWMjRaTTEyIDE4VjIwSDhWMThIMTJaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTcuNSAxM0M3LjIyMzg2IDEzIDcgMTMuMjIzOSA3IDEzLjVDNyAxMy43NzYxIDcuMjIzODYgMTQgNy41IDE0SDI0LjVDMjQuNzc2MSAxNCAyNSAxMy43NzYxIDI1IDEzLjVDMjUgMTMuMjIzOSAyNC43NzYxIDEzIDI0LjUgMTNINy41WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjcgMkMyNy41NTIzIDIgMjggMi40NDc3MiAyOCAzVjI5QzI4IDI5LjU1MjMgMjcuNTUyMyAzMCAyNyAzMEg1QzQuNDQ3NzIgMzAgNCAyOS41NTIzIDQgMjlWM0M0IDIuNDQ3NzIgNC40NDc3MiAyIDUgMkgyN1pNMjcgM0g1VjI5SDI3VjNaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9zdmc+DQo="},79244:e=>{"use strict";e.exports=s},68972:e=>{"use strict";e.exports=o},14321:e=>{"use strict";e.exports=i},13089:e=>{"use strict";e.exports=n},79298:e=>{"use strict";e.exports=a},98640:e=>{"use strict";e.exports=r}},t={};function l(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,l),a.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var s in t)l.o(t,s)&&!l.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="";var c={};return l.p=window.jimuConfig.baseUrl,(()=>{"use strict";l.r(c),l.d(c,{__set_webpack_public_path__:()=>xt,default:()=>jt});var e=l(79244),t=l(14321),s=l(79298),i=l(13089),a=l(98640);function n(t){var s;const i=null===(s=null==t?void 0:t.components)||void 0===s?void 0:s.input;return e.css`
    &.widget-setting-feature-report {
      .option-setting-outter{
        .jimu-widget-setting--row {
          background:  ${t.sys.color.divider.tertiary};  // #3d3d3d
          margin-top: 0.5rem;
          padding: 0.625rem;
        }

        .option-setting-item{
          height: 20px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          flex-wrap: wrap;
          // margin-bottom: 8px;
        }
      }

      .template-setting-outter {
        .add-templat-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          span {
            font-weight: 500;
            margin: 0 10px;
          }
        }
        .help-btn {
          max-width: 50%;
        }
      }

      .template-list-container {
        margin-top: 0.625rem;
      }

      .ds-invalid-alert {
        position: fixed;
        right: 0;
        top: 139px;
        width: 260px;
        height: auto;
        z-index: 1;
      }

      .empty-placeholder {
        display: flex;
        flex-flow: column;
        justify-content: center;
        height: calc(100% - 200px);
        overflow: hidden;
        .empty-placeholder-inner {
          padding: 0px 20px;
          flex-direction: column;
          align-items: center;
          display: flex;
  
          .empty-placeholder-text {
            color: ${t.sys.color.surface.paperText}; // #bdbdbd
            font-size: ${e.polished.rem(14)};
            margin-top: 16px;
            text-align: center;
          }
          .empty-placeholder-icon {
            color: ${t.sys.color.divider.input};
          }
        }
      }

      input:-webkit-autofill {
        -webkit-box-shadow: 0 0 0px 1000px ${i.bg} inset;
        -webkit-text-fill-color: ${i.color};
      }
      .feature-report__section {
        .choose-report-label {
          margin-bottom: 0;
        }
        input + span {
          // margin-left:5px;
        }
        .jimu-widget-setting--section-header.row >h6 {
          font-size: 0.875rem;
          color: ${t.sys.color.surface.paperText};
        }

        .report-list-msg {
          padding: 0 5px;
        }
        .report-list-loading-outter {
          position: relative;
          top: -18px;
        }
        .feature-report__section-createreport {
          >.container >.w-100.setting-header {
            padding-bottom: 1rem!important;
            >div:first-of-type {
              padding-bottom: 0.5rem;
            }
            >.jimu-input span.input-wrapper {
              height: 1.625rem;
            }
            .summary{
              height: auto;
              textarea {
                resize: none;
              }
            }
          }
        }

        .feature-report__section-createreport, .select-report-section {
          .error-message {
            color: ${t.sys.color.error.main};
            word-break: break-word;
          }
          .no-report-message {
            color: ${t.sys.color.surface.backgroundHint};
          }
          .newreport-msg {
            color: ${t.sys.color.error.main};
            marginTop: '10px';
            word-break: break-word;
          }
        }
        .select-report-section {
          hr.split-line {
            display: none;
          }
        }

        .jimu-widget-setting--row.items {
          margin-top: 1.2rem;
          display: block;
          h6 {
            color: ${t.sys.color.surface.paperText};
          }
          div.w-100 {
            font-size: 0.8125rem;
            line-height: 1.1875rem;
            margin-top: 0.3125rem;

          }
        }

        .jimu-widget-setting--row >label {
          font-size: 0.875rem;
          font-weight: 400;
          +p.w-100 {
            font-size: 0.8125rem;
            line-height: 1.1875rem;
            margin-top: 0.3125rem;
          }
        }

        .appearance, .section-title {
          display: flex;
          justify-content: space-between;
          width:100%;
          h6 {
            margin-bottom: 0;
          }
        }

        .select{
          select {
            width: 100%;
          }
        }

        .mapping-container {
          padding: 0.615em;
          background: ${t.sys.color.secondary.main};
          border-radius: 2px;
          margin: 0.6em 0;
          position: relative;
          >select {
            height: 26px;
            vertical-align: middle;
            font-size: 1em;
            line-height: 26px;
            padding: 0 22px 0 6px;
            &:first-of-type {
              margin-bottom: 8px;
            }
          }
          .btn-group {
            width: 100%;
            overflow: hidden;
            .icon-remove-mapping {
              padding: 0 0.25em;
              margin-left: 0;
              margin-right: 0;
              cursor: pointer;
              .remove-mapping {
                margin-right: 0;
                margin-left: 0;
              }
            }
            button {
              margin: 8px 0 8px 8px;
              height: 26px;
              line-height: 26px;
              padding: 0;
              padding: 0px 14px;
            }
          }
          >.link-info {
            > p {
              margin-bottom: 0;
              line-height: 2em;
            }
            > div.center-line {
              width: 96%;
              height: 1px;
              background: ${t.sys.color.secondary.dark};
              text-align: center;
              margin: 0.5em 2% 0.5em 2%;
              >.connect {
                display: inline-block;
                width: 26px;
                height: 20px;
                background: ${t.sys.color.secondary.main};
                position: relative;
                top: -10px;
              }
            }
            > div.delete-connect {
              display: none;
              position: absolute;
              right: 0;
              top: 0;
              cursor: pointer;
              background: ${t.sys.color.secondary.main};
              text-align: center;
              width: 24px;
              height: 24px;
            }
            &:hover > div.delete-connect {
              display: block;
            }
          }

        }

        .setting-row {
          margin: 0.5rem 0 0 0;
          display: flex;
          flex-flow: row wrap;
          align-items: center;
        }

        .section-title h5{
          display: inline-block;
          font-weight: 500;
        }

        .section-title h6{
          word-break: break-word;
        }

        .fea-layer-outter {
          flex-wrap:wrap;
          >div {
            width: 100%;
          }
        }

        .use-feature-layer-setting {
          width: 100%;
          margin-top: 0.92em;
        }
        .feature-layer-dropdown {
          width: 100%;
          margin: 0.5rem 0 0 0;
        }
        &-resetreport {
          position:relative;
          // top: -8px;
          height: 26px;
          float:right;
          line-height: 8px;

          svg {
            margin:0px !important;
          }
        }

        .cursor-pointer{
          &:hover{
            cursor:pointer;
          }
        }
        .select-report-label {
          padding: 0 8px;
        }

        &-reportMenu {}

        &-selectExistingreport {}

        &-createreport {
          overflow-y: hidden;

          span.isRequired{
            position:relative;
            /* left:-180px; */
            color: ${t.sys.color.error.main};
            top: 4px;
            left: 4px;
          }
        }

        &-reportSettings {

        }
      }
    }

    .download-template {
      position: relative;
      a {
        position: absolute;
        display: block;
        width: 100%;
        left: 0;
        top: 0;
        bottom: 0;
      }
    }
    .setting-ui-template-list-exsiting {
      .jimu-tree-item_template {
        padding-top: 0.25rem;
      }
    }
    .setting-ui-template-list-new {
      margin-top: 0.375rem;
    }
  `}const r={dataSourceTip:"Only the feature layer that is associated with a survey can be selected.",reportTemplateTitle:"Report template",newTemplate:"New template",reportTemplateHelp:"Help",reportTemplateTip:"Click the New template button to use your own template or create a sample template to get started with.",individualRecordTemplate:"Individual record",individualRecordTemplateTip:"Design a report that presents an individual record. Multiple input records will generate multiple reports.",summaryTemplate:"Summary",summaryTemplateTip:"Design a report that summarizes information across multiple records. Multiple input records will generate a single report.",combinedTemplate:"Combined",combinedTemplateTip:"Design a report that contains individual records and a summary.",createSampleTemplate:"Create sample template",removeTemplate:"Remove",printSampleReport:"Generate sample report",printSampleReportTip:"Sample reports can be used to refine your report template without consuming credits. Only the first {previewCount} records for each layer will be included. The sample report will be a watermarked PDF and you will not be able to select its contents.",noRecordsErr:"No records to generate the report.",noSelectedFeature:"Please select at least one record for the data source referenced in this widget through the related widgets.",printErrMsg:"An error occurred while generating reports.",downloadTemplate:"Download template",itemNotExistOrNoAccess:"The item is not accessible or does not exist.",manageTempate:"Manage template",selectExistTemplate:"Select existing template",uploadNewTemplate:"Upload new template",selectFile:"Select file",selectAnotherFile:"Select another file",templateName:"Name",templateNameHint:"Template name",templateEmptyNameMsg:"Template name is required",templateSummary:"Summary",templateSummaryTip:"Add a brief summary about the template",templateLastModified:"Last modified:",checkSyntax:"Check syntax",checking:"Checking...",checkSyntaxErrMsg:"Error: {serverSideErrMsg}",saveTemplate:"Save",deleteTemplate:"Delete",deleteTemplatewarningHeader:"Delete template",deleteTemplateWarning:"Are you sure you want to delete this template?",templateAddErrMsg:"Failed to save template. ",templateDeleteErrMsg:"Failed to delete template. ",templateDlgUploadTip:"Only .docx file is supported.",templateDlgNameExistsMsg:"A template with this name already exists, please choose a different one.",templateDlgFileNameExistsErrMsg:'The filename you chose is in use by the template "{existedTemplateName}", please choose a different one.',templateDlgFileChangedErrMsg:"This file has changed. Please select this file again.",templateDlgUpdateFileNameChangedErrMsg:"The filename you chose must be the same as the original filename.",templateMaxSizeExceed:"Maximum file size cannnot exceed {maxSizeAllowed}",manageDlgNoTemplateCoOwnerMsg:"Uploading a new template is only available to the survey owner. You can edit an existing template once the survey owner created one.",reportTemplateHelpTitle:"Report Template Help",reportTemplateHelpDesc:"A report template defines the layout and content of your report. It is a Microsoft Word file (.docx) that provides placeholder text with specific syntax. When printing a report, this placeholder text is replaced with the contents of the corresponding fields from the layer. ",reportTemplateHelpLearnMore:"Learn more about report templates",quickReferencePage:"Quick reference page",sampleTemplate:"Sample template",configration:"Configration",editLabel:"Edit component label",inputFeatures:"Input features",selectPrintTemplate:"Select a template",reportSettings:"Output settings",showCredits:"Show credits",generateReports:"Generate",recentReports:"Recent reports",reportSettingsFileOptions:"File options",reportSettingsFileOptionsTip:"Report files larger than {perFileLimit} (before merging) will be split into multiple files.",reportSettingsFileOptionsDisabledTip:"This option is only available when printing more than one record or when the selected template contains more than one section.",FileOptionsSplit:"Split",FileOptionsSplitDesc:"One report for each record or summary.",FileOptionsMergeNextPage:"Merge (next page)",FileOptionsMergeNextPageDesc:"Multiple reports in a single file. Start the next record or summary on the next page.",FileOptionsMergeContinuous:"Merge (continuous)",FileOptionsMergeContinuousDesc:"Multiple reports in a single file. Start the next record or summary on the same page.",reportSettingsFileName:"Report name",reportSettingsSaveLocation:"Save to my ArcGIS account",saveToAccountTip:"By default, the report will be saved in the user's root folder. Users can change the target folder if this option is visible.",nameConflictOptLabel:"Report name conflict options",nameConflictOptRename:"Keep both and auto rename this report",nameConflictOptReplace:"Replace original report",nameConflictOptSkip:"Skip and don't save this report",reportSettingsFormat:"Format",formatDocx:"Microsoft Word (.docx)",formatPdf:"Portable Document Format (.pdf)"},o=l(4213);let p={};const u={templateItem:{typeKeyword:"Print Template",type:"Microsoft Word",typeKeywords:{survey123:"Survey123",survey123Hub:"Survey123 Hub",printTemplate:"Print Template",featureReportTemplate:"Feature Report Template",formPrefix:"FormId_"},tags:["Survey123","ExB","Print Template","Feature Report Template"]},reportItem:{typeKeywords:{survey123:"Survey123",survey123Hub:"Survey123 Hub",featureReport:"Feature Report",templatePrefix:"TemplateId_",formPrefix:"FormId_"},tags:["Survey123","Feature Report"],type:{docx:"Microsoft Word",zip:"Code Sample",pdf:"PDF"}},maxPackageSize:536871e3,maxMergeSize:536871e3,maxFeatureCount:2e3,creditPerReport:.5,jobSucceededThreshold:.8,s3FileRetentionTime:864e5},d={fieldworker:{name:"form",typeKeyword:"FieldworkerView"},stakeholder:{name:"results",typeKeyword:"StakeholderView"}};function m(t){var s;p={};const i=t.itemId||(null===(s=t.getMainDataSource())||void 0===s?void 0:s.itemId);return i?function(t,s){if(!t)return Promise.resolve(null);const i={relationshipType:"Survey2Service",direction:"reverse"};s=Object.assign(i,s||{});const a={id:t,relationshipType:"Survey2Service",direction:"reverse",authentication:e.SessionManager.getInstance().getSessionByUrl((0,e.getAppStore)().getState().portalUrl)};return e.esri.restPortal.getRelatedItems(a).then((e=>{var t;const s=null===(t=e.relatedItems)||void 0===t?void 0:t.find((e=>{const t=e.typeKeywords||[];return t.includes("Survey123")&&t.includes("Form")}));return s?s.id:null}))}(i).then((t=>t||function(t){const s=e.SessionManager.getInstance(),i=(0,e.getAppStore)().getState().portalUrl;return e.esri.restPortal.getItem(t,{portal:e.portalUrlUtils.getPortalRestUrl(i),authentication:s.getSessionByUrl(i)}).then((e=>{const t=e.typeKeywords||[];if(t.includes("Hosted Service")&&t.includes("Survey123")){const s=t.find((e=>/^[a-z0-9]{32}$/.test(e)));if(s){const s=t.includes("Source")?"source":"fieldworker";p[s]={itemId:e.id,url:e.url.replace(/^http:\/\//i,"https://"),typeKeywords:e.typeKeywords,owner:e.owner,itemControl:e.itemControl,access:e.access,title:e.title,type:e.type}}return s}return null}))}(i))).catch((e=>{console.log("failed to get the related survey item id")})):(console.warn("itemId is not existing in the seleted data source."),Promise.resolve(""))}function g(t){let s="",i="",a="";if(!t)return{};if(s=t.url,t.isDataView){if(s=t.getMainDataSource().url,t.dataViewId===e.CONSTANTS.SELECTION_DATA_VIEW_ID){i="";const e=t.getSelectedRecords(),n=t.getIdField()||"objectid";return a=e.map((e=>{const t=e.feature,s=n;return t.attributes[s]})).join(","),{url:s,objectIds:a}}{const e=t.getCurrentQueryParams();return i=e.where||"1=1",{url:s,where:i,orderByFields:e.orderByFields}}}{const e=t.getCurrentQueryParams();return i=e.where||"1=1",{url:s,where:i,orderByFields:e.orderByFields}}}function h(t,s){if(!t)return Promise.resolve(0);if("objectIds"in t){const e=t.objectIds;return e&&e.length?Promise.resolve(e.split(",").length):Promise.resolve(0)}if("where"in t){const i=t.where||"1=1",a=Object.assign({url:s,returnCountOnly:!0},w());return a.params={where:i},e.esri.restFeatureService.queryFeatures(a).then((e=>e.count))}return Promise.resolve(0)}function I(t){const s=O(),i=s.token,a=s.username;return Promise.resolve(!0).then((()=>{const s=Object.assign({id:t,relationshipType:"Survey2Data"},w());return e.esri.restPortal.getRelatedItems(s)})).then((e=>{if(!e||e.error)throw new Error("Failed to get related templates");const t="Print Template",s="Microsoft Word";return e.relatedItems.filter((e=>e.type===s&&-1!==e.typeKeywords.indexOf(t)))||[]})).then((t=>(t.forEach((t=>{const s=function(t,s,i){const a=(0,e.getAppStore)().getState().portalUrl;return`${e.portalUrlUtils.getItemUrl(a,t)}/data?username=${s}&token=${i}`}(t.id,a,i);t.modified=new Date(t.modified),t.url=s})),t)))}function y(e,t,s,i,a){const n=t.id;e.printing=!0;const r=s.url,o=s.where,l=s.objectIds,c=s.orderByFields?s.orderByFields.join(","):"",p={};o?p.where=o:l&&(p.objectIds=l),c&&(p.orderByFields=c);const u={queryParameters:p?JSON.stringify(p):"",templateItemId:e.id,surveyItemId:n,featureLayerUrl:r,outputReportName:i.reportName||""};u.outputPackageName=u.outputReportName,i.mergeFiles&&(u.mergeFiles=i.mergeFiles);const d=a||"en",m=O().portalUrl,g=O().token,h={portalUrl:m,utcOffset:"||"+b(),locale:"||"+d,token:g,f:"json"},I=Object.assign(h,u||{}),y=new URLSearchParams;Object.keys(I).forEach((e=>{const t=I[e];y.append(e,t)}));const M=N()+"/featureReport/createSampleReport/submitJob";let j=null;return new Promise(((e,t)=>{fetch(M,{method:"POST",headers:{"X-Survey123-Request-Source":"website/Data",contentType:"application/x-www-form-urlencoded"},body:y}).then((e=>e.json())).then((t=>{j=t;const s=j.jobId,i=()=>{(function(e){const t={f:"json",portalUrl:O().portalUrl,token:O().token},s=new URLSearchParams;Object.keys(t).forEach((e=>{const i=t[e];s.append(e,i)}));const i=`${N()}/featureReport/jobs/${e}/status`;return fetch(i,{method:"POST",headers:{"X-Survey123-Request-Source":"website/Data",contentType:"application/x-www-form-urlencoded"},body:s}).then((e=>e.json()))})(s).then((t=>{j=t,"esriJobSucceeded"===t.jobStatus||"esriJobPartialSucceeded"===t.jobStatus?("esriJobPartialSucceeded"===t.jobStatus&&console.warn("Reports have been generated with some issues."),e(t)):"esriJobFailed"===t.jobStatus?(console.error("Failed to generate sample report",t),e(!0)):t.error?(console.error("Failed to generate sample report",t.error),e(!0)):setTimeout((()=>{i()}),1500)})).catch((t=>{console.error("Failed to generate sample report",t),e(!0)}))};i()}))}))}function M(e,t,s,i){const a=t.id;if(!e||!e.length)return;const n=e=>{const n=(e=>{let s=v(t.title)+"_sampleTemplate"+e.replace(/^\S/,(e=>e.toUpperCase()));if(s.length>250&&(s=s.substr(0,250)),i.find((e=>e.name===s+".docx"))){let e=0;i.filter((t=>{if(t.name===s+".docx"||t.name.startsWith(s+"_(")){const i=new RegExp(`${s}_\\((\\d+)\\)`),a=t.name.match(i);return a&&!isNaN(a[1])&&Number(a[1])>e&&(e=Number(a[1])),!0}return!1})),e++,s+="_("+e+")"}return s})(e);return T(s,a,e).then((t=>{const s=function(e){let t=0,s=0;if(e.templateType)switch(e.templateType){case"individual":t=1;break;case"summary":s=1;break;case"summaryIndividual":t=1,s=1}else t=e.individualSectionCount,s=e.summarySectionCount;return`Section Count ${t}|${s}`}({templateType:e});return{fileBlob:t,fileName:n,templateSectionSetting:[s]}})).catch((e=>new Promise((t=>{let s=S(e);if(e&&500===e.status&&e.response instanceof Blob){const i=new FileReader;i.onload=()=>{const e=i.result;let a={};try{a=JSON.parse(e||"{}"),s=S(a),t(s)}catch(e){t(s)}},i.readAsText(e.response)}else t(s)})).then((e=>{throw{message:e}}))))},r=[];return["summaryIndividual","summary","individual"].forEach((t=>{e.includes(t)&&r.push(n(t))})),Promise.all(r).then((e=>e.reduce(((e,s)=>e.then((e=>(e=>{const s=e.fileBlob.slice(0,e.fileBlob.size,"");s.lastModifiedDate=new Date,s.name=e.fileName+".docx";const i={title:e.fileName,filename:e.fileName+".docx",snippet:"Sample template",file:s};return j(t,i,null,e.templateSectionSetting).then((e=>{if(e&&e.id)return e;throw e.error}))})(s).then((t=>(s.id=t.id,e.push(s),e)))))),Promise.resolve([])))).catch((e=>{}))}function j(t,s,i,a){let n;const r=t.isOwner,o=t.isAdmin,l=(0,e.getAppStore)().getState().user;return Promise.resolve(!0).then((()=>{if(!t||!s)throw Error("Failed to create custom print item.");return!0})).then((()=>{const i=t.ownerFolder,n=u.templateItem||{type:"Microsoft Word",typeKeywords:{survey123:"Survey123",survey123Hub:"Survey123 Hub",printTemplate:"Print Template",featureReportTemplate:"Feature Report Template"},tags:["Survey123","Exb","Print Template","Feature Report Template"]};let c=[n.typeKeywords.survey123,n.typeKeywords.survey123Hub,n.typeKeywords.printTemplate,n.typeKeywords.featureReportTemplate,t.id];a&&a.length&&(c=c.concat(a));const p=Object.assign({item:{title:s.title,type:n.type,tags:n.tags,snippet:s.snippet,typeKeywords:c},filename:s.filename,file:s.file,folderId:i},w());return r?e.esri.restPortal.createItem(p):o?(p.folderId=null,e.esri.restPortal.createItem(p).then((s=>e.esri.restPortal.getUserContent(Object.assign({owner:t.owner,folderId:i},w())).then((i=>e.esri.restPortal.reassignItem(Object.assign({currentOwner:l.username,id:s.id,owner:t.owner,targetUsername:t.owner,targetFolderName:i&&i.currentFolder&&i.currentFolder.title||"/"},w())).then((e=>({success:e.success,id:e.itemId})))))))):void 0})).catch((e=>{throw e.error||e})).then((s=>{if(!s||s.error)throw Error(s&&s.error);return n=s.id,e.esri.restPortal.addItemRelationship(Object.assign({originItemId:t.id,owner:t.owner,destinationItemId:n,relationshipType:"Survey2Data"},w()))})).then((s=>{if(!s||s.error||!s.success)throw Error(s&&s.error);return i=t.id,a=n,function(t){const s=(i="stakeholder")?p[i]:p;var i;return s?Promise.resolve(s):Promise.resolve(!0).then((()=>{let s=`type:Feature Service AND typekeywords:${t} AND typekeywords:${d.stakeholder.typeKeyword}`;s+=" AND ((typekeywords:Hosted Service AND typekeywords:View Service) OR (NOT typekeywords:Hosted Service))";const i={q:s,portalUrl:O().portalUrl,authentication:e.SessionManager.getInstance().getSessionByUrl((0,e.getAppStore)().getState().portalUrl)};return e.esri.restPortal.searchItems(i).then((e=>{if(!e||e.error)throw new Error(JSON.stringify(e));return e.results&&0===e.results.length?null:e.results[0]}))})).then((e=>(e&&function(e,t){p[e]=t}("stakeholder",{itemId:e.id,url:e.url.replace(/^http:\/\//i,"https://"),typeKeywords:e.typeKeywords,owner:e.owner,itemControl:e.itemControl,access:e.access,title:e.title,type:e.type}),e)))}(i).then((t=>{let s,i,a;return t&&(s=t.id||t.itemId,i=t.owner,a=t.ownerFolder),function(t){t=Object.assign({itemId:null,itemOwner:null},t||{});let s=`${e.esri.restPortal.getPortalUrl(w())}/content/users/${t.itemOwner}`;t.folderId&&(s=`${s}/${t.folderId}`);const i=`${s}/items/${t.itemId}`,a={httpMethod:"GET",authentication:e.SessionManager.getInstance().getMainSession()};return e.esri.restRequest.request(i,a)}({itemId:s,itemOwner:i,folderId:a})})).then((t=>{var s;t&&!t.error||console.log(t.error);const i=t.sharing,n={};return"public"===i.access&&(n.everyone=!0),"org"===i.access&&(n.org=!0),n.groups=i.groups,n.items=[a],n.itemOwner=(null===(s=t.item)||void 0===s?void 0:s.owner)||O().username,n.confirmItemControl=!0,function(t){t=Object.assign({itemId:null,itemOwner:null},t||{});const s=`${e.esri.restPortal.getPortalUrl(w())}/content/users/${t.itemOwner}/shareItems`,i=e.SessionManager.getInstance().getMainSession(),a={params:{confirmItemControl:t.confirmItemControl,groups:t.groups,items:t.items,org:t.org},httpMethod:"POST",authentication:i};return e.esri.restRequest.request(s,a)}(Object.assign({},n,{items:n.items.join(","),groups:n.groups.join(",")},w()))})).then((e=>{if(e&&!e.error&&e.results||console.log(e.error),e.results){const t=e.results.filter(((e,t)=>!e.success));return t.length>0&&console.log(t.map(((e,t)=>e.error.message)).join("; ")),!0}}));var i,a})).then((e=>({success:!0,id:n})))}function x(){const t=(0,e.getAppStore)().getState().queryObject,s=t?t.survey123:"",i=function(e){if(!e)return null;const t=(e+="").split("");if(t.length<2&&e.split(":").length<2)return e.split(",").length>1?e.split(","):e;{const e={};return t.forEach((t=>{const s=(t+"").split(":");if(s.length>1){const t=s[0];let i=(Array.isArray(s.slice(1))?s.slice(1):[]).join(":");i.length&&"{"===i[0]&&(i=function(e){let t=e;try{t=JSON.parse(e)}catch(s){t=e}return t}(i)),"string"==typeof i&&i.split(",").length>1&&(i=i.split(",")),e[t]=i}})),e}}(s?decodeURIComponent(s+""):""),a=i;let n="https://survey123.arcgis.com",r=window.jimuConfig.hostEnv;if(a&&a.env&&(r=a.env+"",r.startsWith("http://")||r.startsWith("https://")))return r;let o=!0;if("https://survey123.arcgis.com"!==n){const e=n.match(/https:\/\/survey123(.[^\.]*)\.arcgis\.com/);o=!(!e||!e.length)}return r&&"prd"!==r&&"prod"!==r&&o&&(n=`https://survey123${r}.arcgis.com`),n}function N(){return x()+"/api"}function f(t,s,i,a,n){const r=s.id,o=Object.assign({},i,{type:u.templateItem.type});return new Promise(((e,s)=>{if(!t||!i||!r)throw new Error("Missing parameter.");e(!0)})).then((s=>{if(n&&(o.file=n),a&&a.length){let e=o.typeKeywords||[];const t=e.findIndex((e=>e.match(/Section Count .*\|.*/g)));t>-1?e[t]=a[0]:e=e.concat(a),o.typeKeywords=e.join(",")}return o.folderId=t.ownerFolder,o.itemOwner=t.owner,o.owner=t.owner,e.esri.restPortal.updateItem(Object.assign({item:Object.assign({id:r},o)},w()))})).then((e=>{if(!e||e.error||!e.success)throw new Error(e.error);return s=Object.assign(s,o)}))}function D(e,t){const s=e.title,i=t.find((e=>e.title===s));return!!(s&&s.length>0&&(!i||i&&i.id===e.id))}function S(e){let t="";return e&&("string"==typeof e?t=e:e.error&&"string"==typeof e.error?t=e.error:e.error&&e.error.message?t=e.error.message:!t&&e.status&&e.statusText?t=e.status+" "+e.statusText:t||!e.status||e.statusText||(t="Error code: "+e.status)),t}function T(e,t,s){const i=O().portalUrl,a=O().token,n=N()+"/featureReport/createSampleTemplate";return new Promise(((r,o)=>{const l=new XMLHttpRequest;l.open("POST",n,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.setRequestHeader("X-Survey123-Request-Source","website/Data"),l.responseType="blob",l.onload=()=>{if(200===l.status){const e=l.response;r(e)}else o(l)};const c=`featureLayerUrl=${e}&surveyItemId=${t}&contentType=${s}&portalUrl=${i}&token=${a}`;l.send(c)}))}function w(){const t=e.SessionManager.getInstance(),s=(0,e.getAppStore)().getState().portalUrl,i=e.portalUrlUtils.getPortalRestUrl(s);return{authentication:t.getSessionByUrl(s),portal:i}}function v(e){return e.replace(/[^\w\-\.]/g,"_").trim()}function b(){const e=(new Date).getTimezoneOffset();let t=Math.abs(e/60),s=Math.abs(e%60);t<10&&(t="0"+t),s<10&&(s="0"+s);return(e<=0?"+":"-")+t+":"+s}function O(){const t=(0,e.getAppStore)().getState().portalUrl,s=e.SessionManager.getInstance().getSessionByUrl(t),i=s?s.token:"",a=(0,e.getAppStore)().getState().user;return{token:i,portalUrl:t,username:a?a.username:""}}function A(e,t=!1){let s=null;t||(s=window.onbeforeunload,window.onbeforeunload=null);try{const s=document.createElement("a");s.style.display="block",document.body.appendChild(s),s.setAttribute("href",e),s.setAttribute("download","true"),t&&s.setAttribute("target","_blank"),s.click(),s.remove()}catch(e){}finally{t||(window.onbeforeunload=s)}}var E=l(31027),k=l.n(E),L=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const z=t=>{const s=window.SVG,{className:i}=t,a=L(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:k()},a)):e.React.createElement("svg",Object.assign({className:n},a))};var C=l(62838),U=l.n(C),R=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const P=t=>{const s=window.SVG,{className:i}=t,a=R(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:U()},a)):e.React.createElement("svg",Object.assign({className:n},a))};var Q=l(53921),F=l.n(Q),V=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const G=t=>{const s=window.SVG,{className:i}=t,a=V(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:F()},a)):e.React.createElement("svg",Object.assign({className:n},a))};var Y=l(33443),B=l.n(Y),Z=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const W=t=>{const s=window.SVG,{className:i}=t,a=Z(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:B()},a)):e.React.createElement("svg",Object.assign({className:n},a))};var H=l(43479),J=l.n(H),q=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const _=t=>{const s=window.SVG,{className:i}=t,a=q(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:J()},a)):e.React.createElement("svg",Object.assign({className:n},a))};var $=l(59226),X=l.n($),K=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const ee=t=>{const s=window.SVG,{className:i}=t,a=K(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:X()},a)):e.React.createElement("svg",Object.assign({className:n},a))};var te=l(56915),se=l.n(te),ie=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const ae=t=>{const s=window.SVG,{className:i}=t,a=ie(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:se()},a)):e.React.createElement("svg",Object.assign({className:n},a))};var ne=l(4651),re=l.n(ne),oe=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const le=t=>{const s=window.SVG,{className:i}=t,a=oe(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:re()},a)):e.React.createElement("svg",Object.assign({className:n},a))};var ce=l(68972),pe=l(12046),ue=l.n(pe),de=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const me=t=>{const s=window.SVG,{className:i}=t,a=de(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:ue()},a)):e.React.createElement("svg",Object.assign({className:n},a))};var ge=l(56499),he=l.n(ge),Ie=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const ye=t=>{const s=window.SVG,{className:i}=t,a=Ie(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:he()},a)):e.React.createElement("svg",Object.assign({className:n},a))};var Me=l(93303),je=l.n(Me),xe=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const Ne=t=>{const s=window.SVG,{className:i}=t,a=xe(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:je()},a)):e.React.createElement("svg",Object.assign({className:n},a))};var fe=l(73529),De=l.n(fe),Se=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const Te=t=>{const s=window.SVG,{className:i}=t,a=Se(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:De()},a)):e.React.createElement("svg",Object.assign({className:n},a))};var we=l(26490),ve=l.n(we),be=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const Oe=t=>{const s=window.SVG,{className:i}=t,a=be(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:ve()},a)):e.React.createElement("svg",Object.assign({className:n},a))},{useState:Ae,useRef:Ee,useEffect:ke}=e.React,Le=Object.assign({},r,e.defaultMessages,t.defaultMessages),ze=e.React.forwardRef(((s,i)=>{const{defaultLabel:a,showSettingButton:n,onSettingBtnClick:r,label:o,checked:l,onValueChange:c,onCheckedChange:p,tooltipLabel:u,hideSwitcher:d}=s,m=e.hooks.useTranslation(Le),g=Ee(),[h,I]=Ae(!1),[y,M]=Ae(!1),j=()=>{h||(x&&(x+"").trim()||!a||N(a),I(!0),M(!0),setTimeout((()=>{M(!1)}),10))};ke((()=>{var e;h&&g.current&&(null===(e=g.current)||void 0===e||e.focus())}),[h]);const[x,N]=Ae(o);ke((()=>{N(o)}),[]);const f=e=>{I(!1),e===a&&(e=""),c(e)};return(0,e.jsx)(ce.Fragment,null,(0,e.jsx)("div",{className:"option-setting-item",css:(0,e.css)("height: 20px;")},(0,e.jsx)("div",{className:"d-flex align-items-center mb-0 flex-grow-1",css:e.css`padding-left: 0.125rem`},(0,e.jsx)("div",{className:"flex-grow-1 text-truncate",onDoubleClick:j,css:h?d?e.css`max-width: 12.25rem;`:e.css`max-width: 11.125rem;`:n?e.css`max-width: 8.825rem;`:d?e.css`max-width: 11.25rem;`:e.css`max-width: 10.125rem;`},h?(0,e.jsx)(t.TextInput,{css:e.css`height: 20px;.input-wrapper{height: 24px;}`,size:"sm",className:"jimu-tree-item__editing-input",value:x,onAcceptValue:f,onChange:e=>{N(e.target.value)},onBlur:e=>{(e=>{y||f(e.target.value)})(e)},ref:g,placeholder:a}):(0,e.jsx)("span",{title:x||a},x||a))),!h&&(0,e.jsx)(t.Button,{className:"p-0 mx-1",size:"sm",type:"tertiary",icon:!0,onClick:j},(0,e.jsx)(t.Tooltip,{title:m("editLabel"),interactive:!0,leaveDelay:100},(0,e.jsx)("span",null,(0,e.jsx)(me,{size:"m"})))),h&&(0,e.jsx)(t.Button,{className:"p-0 mx-1",size:"sm",type:"tertiary",icon:!0,onClick:()=>{I(!1)}},(0,e.jsx)(ye,{size:"m"})),n&&!h?(0,e.jsx)("span",null,(0,e.jsx)(t.Tooltip,{title:m("settings"),interactive:!0,leaveDelay:100},(0,e.jsx)(t.Button,{ref:i,className:"mr-1 p-0 border-0",type:"tertiary",icon:!0,size:"sm",onClick:r},(0,e.jsx)(Ne,{size:16})))):"",d||h?"":l?(0,e.jsx)(t.Tooltip,{title:u||m("visible"),interactive:!0,leaveDelay:100},(0,e.jsx)("span",{style:{cursor:"pointer"}},(0,e.jsx)(Te,{onClick:()=>{p(!1)}}))):(0,e.jsx)(t.Tooltip,{title:u||m("invisible"),interactive:!0,leaveDelay:100},(0,e.jsx)("span",{style:{cursor:"pointer"}},(0,e.jsx)(Oe,{onClick:()=>{p(!0)}})))),s.children?(0,e.jsx)("div",{className:"w-100",css:e.css`margin-top: 0.5rem;`},s.children):"")}));var Ce=l(54207),Ue=l.n(Ce);const{useState:Re,useRef:Pe,useEffect:Qe}=e.React,Fe=e.React.forwardRef(((s,a)=>{const{theme:n,dataSources:r,value:o,prefix:l,onChange:c,onBlur:p}=s,u=e.React.createRef(),d=Pe(null),[m,g]=Re(o),[h,I]=Re(null);Qe((()=>{g(o)}),[o]);return(0,e.jsx)("div",{className:"w-100 h-100",css:(t=>e.css`
      .expression-builder-trigger {
        position: relative;
        cursor: pointer;
        height: 26px;
        padding: 0;

        .trigger-dropdown-toggle {
          background: ${t.sys.color.secondary.dark};
          border-radius: 2px 0 0 2px;
          border-color: ${t.sys.color.secondary.dark};
          width: 26px;
          height: 26px;
        }
      }

      .custom-field-selector {
        height: 26px !important;
        position: absolute;
        top: 0;
        left: 0;
        visibility: hidden;
        // button.jimu-dropdown-button {
        //   width: 1px;
        //   height 0;
        // }
      }
      .expression-input {
        position: absolute;
        top: 0;
        left: 26px;
        right: 0;
        height: 1.625rem;
        // width: calc(100% - 26px);
        span {
          height: 1.625rem;
          padding-top: 0;
          padding-bottom: 0;
        }
      }
       `)(n)},(0,e.jsx)("div",{className:"expression-builder-trigger",ref:u},(0,e.jsx)(t.Button,{icon:!0,title:"",onClick:()=>{const e=u.current.querySelector("button.jimu-dropdown-button");null==e||e.click()},className:"text-truncate d-flex justify-content-center align-items-center trigger-dropdown-toggle p-0 jimu-outline-inside"},(0,e.jsx)(t.Icon,{icon:Ue(),className:"m-0 p-0"})),(0,e.jsx)(i.FieldSelector,{className:"custom-field-selector",dataSources:[r],dropdownProps:{size:"sm",buttonProps:{icon:!0}},isDataSourceDropDownHidden:!0,onChange:e=>{const t=l||"{",s=(e||[]).length?e[0].name:"";if(s){let e="";const i=m||"";e=d.current&&null!==h?i.substring(0,h)+t+s+"}"+i.substring(h):i+"{"+s+"}",g(e),c&&c(e),p&&p(e)}},useDefault:!1,useDropdown:!0}),(0,e.jsx)("div",{className:"expression-input"},(0,e.jsx)(t.TextInput,{ref:d,className:"w-100 h-100 ",value:m,onChange:e=>{g(e.target.value),c&&c(e.target.value)},onBlur:e=>{d.current&&I(d.current.selectionStart),p&&p(m)},title:m}))))})),{useState:Ve,useEffect:Ge}=e.React,Ye=Object.assign({},r,e.defaultMessages,t.defaultMessages),Be=i=>{const{hides:a,dataSource:n,onLabelChanged:r,fileOptionsLabel:o,reportNameLabel:l,saveToAGSAccountLabel:c,outputFormatLabel:p,theme:u,onVisibilityChanged:d,onSettingValueChanged:m,mergeFiles:g,reportName:h,outputFormat:I}=i,y=e.hooks.useTranslation(Ye),[M,j]=Ve(h||"");Ge((()=>{j(h)}),[h]);return(0,e.jsx)("div",{className:"option-setting-outter",css:(t=>e.css`
      .jimu-widget-setting--row {
        background: ${t.sys.color.divider.tertiary};
        padding: 0.625rem;
      }
  
      .option-setting-item{
        height: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        // margin-bottom: 8px;
      }`)(u)},(0,e.jsx)(s.SettingSection,null,(0,e.jsx)(s.SettingRow,null,(0,e.jsx)("div",{className:"w-100 option-setting"},(0,e.jsx)(ze,{defaultLabel:y("reportSettingsFileOptions"),label:o||y("reportSettingsFileOptions"),checked:!(a||[]).includes("fileOptions")||!1,onValueChange:e=>{r("fileOptions",e)},onCheckedChange:e=>{d("fileOptions",e)}},(0,e.jsx)("div",null,(0,e.jsx)(t.Select,{size:"sm",className:"w-100",value:g||"",onChange:e=>{m("mergeFiles",e.target.value)}},(0,e.jsx)("option",{value:"",title:y("FileOptionsSplitDesc")},y("FileOptionsSplit")),(0,e.jsx)("option",{value:"nextPage",title:y("FileOptionsMergeNextPageDesc")},y("FileOptionsMergeNextPage")),(0,e.jsx)("option",{value:"continuous",title:y("FileOptionsMergeContinuousDesc")},y("FileOptionsMergeContinuous"))))))),(0,e.jsx)(s.SettingRow,null,(0,e.jsx)("div",{className:"w-100 option-setting"},(0,e.jsx)(ze,{defaultLabel:y("reportSettingsFileName"),label:l||y("reportSettingsFileName"),checked:!(a||[]).includes("reportName")||!1,onValueChange:e=>{r("reportName",e)},onCheckedChange:e=>{d("reportName",e)}},(0,e.jsx)("div",null,n?(0,e.jsx)(Fe,{dataSources:n,theme:u,value:M,prefix:"${",onBlur:e=>{(e=>{j(e||""),m("reportName",e||"")})(e)}}):"")))),(0,e.jsx)(s.SettingRow,null,(0,e.jsx)("div",{className:"w-100 option-setting"},(0,e.jsx)(ze,{defaultLabel:y("reportSettingsSaveLocation"),label:c||y("reportSettingsSaveLocation"),checked:!(a||[]).includes("saveToAGSAccount")||!1,onValueChange:e=>{r("saveToAGSAccount",e)},onCheckedChange:e=>{d("saveToAGSAccount",e)},tooltipLabel:y("saveToAccountTip")}))),(0,e.jsx)(s.SettingRow,null,(0,e.jsx)("div",{className:"w-100 option-setting"},(0,e.jsx)(ze,{defaultLabel:y("reportSettingsFormat"),label:p||y("reportSettingsFormat"),checked:!(a||[]).includes("outputFormat")||!1,onValueChange:e=>{r("outputFormat",e)},onCheckedChange:e=>{d("outputFormat",e)}},(0,e.jsx)("div",null,(0,e.jsx)(t.Select,{size:"sm",className:"w-100",value:I||"docx",onChange:e=>{m("outputFormat",e.target.value)}},(0,e.jsx)("option",{value:"docx"},y("formatDocx")),(0,e.jsx)("option",{value:"pdf"},y("formatPdf")))))))))};var Ze=l(45508),We=l.n(Ze),He=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const Je=t=>{const s=window.SVG,{className:i}=t,a=He(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:We()},a)):e.React.createElement("svg",Object.assign({className:n},a))},{useState:qe,useEffect:_e}=e.React,$e=Object.assign({},r,e.defaultMessages,t.defaultMessages),Xe=i=>{const{onSampleTemplatesCreated:a,theme:n,surveyItemInfo:r,featureLayerUrl:o,editDisabled:l,templates:c}=i,p=e.hooks.useTranslation($e),[u,d]=e.React.useState(!1),[m,g]=qe(c||[]);_e((()=>{g(c)}),[c]);const[h,y]=qe([]),j=(e,t)=>{const s=[].concat(h),i=s.indexOf(t);e?i<0&&s.push(t):i>=0&&s.splice(i,1),y(s)};return(0,e.jsx)(s.SettingRow,{css:(t=>e.css`
      .option-setting {
        // padding: 0.75rem;
        padding: 0.5rem;
        background: ${t.sys.color.action.pressed}; // #181818;
        ul {
          list-style: none;
          padding: 0;
          margin: 0.5rem 0;
          li {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 0.5rem 0;
            >div {
              max-width: calc(100% - 24px);
              display: flex;
              gap: 0.275rem;
              align-items: center;
              span.template-label {
                margin: 0 -2px;
              }
            }
          }
        }
      }
      .jimu-widget-setting--row {
        background: ${t.sys.color.divider.tertiary}  // #3d3d3d
        padding: 0.625rem;
      }
  
      .option-setting-item{
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        // margin-bottom: 8px;
      }`)(n)},(0,e.jsx)("div",{className:"w-100 option-setting"},(0,e.jsx)("p",null,p("reportTemplateTip")),(0,e.jsx)("div",{css:(0,e.css)("position:relative;")},(0,e.jsx)("ul",null,(0,e.jsx)("li",null,(0,e.jsx)("div",null,(0,e.jsx)(t.Checkbox,{className:"can-x-switch",checked:h.includes("individual"),"data-key":"individual",onChange:e=>{j(e.target.checked,"individual")},"aria-label":p("individualRecordTemplate")}),(0,e.jsx)(_,{size:16}),(0,e.jsx)("span",{className:"template-label"},p("individualRecordTemplate"))),(0,e.jsx)(t.Tooltip,{title:p("individualRecordTemplateTip"),placement:"left",interactive:!0},(0,e.jsx)("span",null,(0,e.jsx)(Je,null)))),(0,e.jsx)("li",null,(0,e.jsx)("div",null,(0,e.jsx)(t.Checkbox,{className:"can-x-switch",checked:h.includes("summary"),"data-key":"summary",onChange:e=>{j(e.target.checked,"summary")},"aria-label":p("summaryTemplate")}),(0,e.jsx)(ee,{size:16}),(0,e.jsx)("span",{className:"template-label"},p("summaryTemplate"))),(0,e.jsx)(t.Tooltip,{title:p("summaryTemplateTip"),placement:"left",interactive:!0},(0,e.jsx)("span",null,(0,e.jsx)(Je,null)))),(0,e.jsx)("li",null,(0,e.jsx)("div",null,(0,e.jsx)(t.Checkbox,{className:"can-x-switch",checked:h.includes("summaryIndividual"),"data-key":"summaryIndividual",onChange:e=>{j(e.target.checked,"summaryIndividual")},"aria-label":p("combinedTemplate")}),(0,e.jsx)(ae,{size:16}),(0,e.jsx)("span",{className:"template-label"},p("combinedTemplate"))),(0,e.jsx)(t.Tooltip,{title:p("combinedTemplateTip"),placement:"left",interactive:!0},(0,e.jsx)("span",null,(0,e.jsx)(Je,null))))),(0,e.jsx)(t.Tooltip,{title:l?p("noActions"):"",showArrow:!0,placement:"left",interactive:!0,leaveDelay:100},(0,e.jsx)(t.Button,{type:"default",disabled:!h.length||u||l,className:"w-100 add-template-btn",onClick:()=>{d(!0);let e=[];M(h,r,o,m).then((t=>(e=(t||[]).map((e=>e.id)),I(r.id)))).then((t=>{d(!1);const s=(t||[]).filter((t=>e.includes(t.id)));a(t,s)})).catch((e=>{console.error("Failed to create sample templates",e),d(!1)}))}},p("createSampleTemplate"),u&&(0,e.jsx)(t.Loading,{type:t.LoadingType.Primary}))))))};var Ke=l(5556),et=l(4073),tt=l.n(et),st=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const it=t=>{const s=window.SVG,{className:i}=t,a=st(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:tt()},a)):e.React.createElement("svg",Object.assign({className:n},a))};var at=l(28996),nt=l.n(at),rt=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const ot=t=>{const s=window.SVG,{className:i}=t,a=rt(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:nt()},a)):e.React.createElement("svg",Object.assign({className:n},a))},lt=t=>{const s=e.css`
    &.progress-type-loading {
      @keyframes loading {
        0% {transform: rotate(0deg); };
        100% {transform: rotate(360deg)};
      }
      width: ${t.size+"px"||0};
      height: ${t.size+"px"||0};
      border: 1px solid var(--ref-palette-neutral-800);
      border-radius: 50%;
      border-top: 1px solid var(--ref-palette-neutral-1100);
      box-sizing: border-box;
      animation:loading 2s infinite linear;
      margin-right: auto;
      margin-left: auto;
    }
  `;return(0,e.jsx)("div",{css:s,className:"progress-type-loading"})},{useState:ct,useEffect:pt}=e.React,ut=Object.assign({},r,e.defaultMessages,t.defaultMessages),dt=i=>{const{editTemplate:a,selectedTemplates:n,featureLayerUrl:r,templates:o,onSaveTemplate:l,surveyItemInfo:c,onDeleteTemplate:p,theme:d,editDisabled:m}=i,g=e.i18n.getIntl(),h=e.hooks.useTranslation(ut),[I,y]=ct("select"),M=e=>{y(e),q(""),H(""),Q(""),"select"===e?(v(""),A(""),ie(""),K(""),te(!1),$(!1)):(k(""),v(""),A(""),ie(""),K(""),te(!1),$(!0))},[x,S]=ct(o||[]),[T,v]=ct(null==a?void 0:a.title),[b,A]=ct(null==a?void 0:a.snippet),[E,k]=ct(null==a?void 0:a.id),[L,z]=ct(!1),[C,U]=ct(),[R,Q]=ct(),[F,V]=ct(!1),[G,Y]=ct(!1),[B,Z]=ct(!1),[W,H]=ct(),[J,q]=ct(),[_,$]=ct(!1),[X,K]=ct(),[ee,te]=ct(),[se,ie]=ct();pt((()=>{S(o)}),[o]),pt((()=>{y(a?"upload":"select"),v((null==a?void 0:a.title)||""),A((null==a?void 0:a.snippet)||""),$(!1),k((null==a?void 0:a.id)||""),ie(a?{name:null==a?void 0:a.name,modified:a.modified||new Date(a.created)}:""),U(""),Q(""),K(""),te(!1)}),[a]);const ae=e=>{q(""),H("");const t=e.target.files||e.dataTransfer.files,s=t&&t[0];e.target&&e.target.value&&(e.target.value="");let i="",n=null;if(s){E&&(n=x.find((e=>e.id===E)),i=n.name);const e=s&&s.name&&ne(s&&s.name);s.type&&"application/vnd.openxmlformats-officedocument.wordprocessingml.document"!==s.type||!s.type&&"docx"!==s.name.split(".").pop()?U(h("templateDlgUploadTip")):E&&s.name!==i&&s.name.replace(/ /g,"_")!==i?U(h("templateDlgUpdateFileNameChangedErrMsg")):!E&&e?U(h("templateDlgFileNameExistsErrMsg",{existedTemplateName:e.name})):(ie(s),K(""),te(!1),a||v(s.name),U(""),setTimeout((()=>{le(s)}),0))}},ne=e=>x.find((t=>t.name===e||t.name===e.replace(/ /g,"_"))),re=()=>{ie(""),K(""),te(!1)},oe=()=>{Z(!0),q("");let t=a||{};if(E)t=x.find((e=>e.id===E)),t.file=se;else{t.file=se,t.name=se.name;const e=u.templateItem;t.typeKeywords=[e.typeKeywords.survey123,e.typeKeywords.survey123Hub,e.typeKeywords.printTemplate,e.typeKeywords.featureReportTemplate]}return t.title=T,t.snippet=b,function(e,t,s,i,a){const n={title:e.title,snippet:e.snippet?e.snippet:"",typeKeywords:e.typeKeywords},r=D(e,t);if(e.name||e.file){if(r&&!0!==e.noFile)return Promise.resolve(!0).then((()=>{if(e.id)return i||a?e:e.file?f(s,e,n,e.templateSectionSetting,e.file):f(s,e,n,e.templateSectionSetting);{const t=Object.assign({},n);return t.file=e.file,j(s,t,e.templateSectionSetting)}}))}else e.noFile=!0}(t,x,c,m,!_).then((t=>(Z(!1),q(""),E?t:(k(t.id),function(t){return e.esri.restPortal.getItem(t,w())}(t.id))))).then((e=>{l&&l(e)})).catch((e=>{console.warn(h("templateAddErrMsg"),e),q(h("templateAddErrMsg")),Z(!1)}))},le=e=>{z(!0),K(""),te(!1);const t=e=>{z(!1),K(e)};return function(e,t,s){const i={templateFile:e,featureLayerUrl:t,surveyItemId:s.id};return i.templateFile.slice(0,1).arrayBuffer().catch((()=>{console.warn("This file has changed. Please select this file again.")})).then((()=>{const e=Object.assign(i,{f:"json",portalUrl:O().portalUrl,token:O().token}),t=new FormData;Object.keys(e).forEach((s=>{const i=e[s];t.append(s,i)}));const s=`${N()}/featureReport/checkTemplateSyntax`;return fetch(s,{method:"POST",headers:{"X-Survey123-Request-Source":"website/Data",contentType:"application/x-www-form-urlencoded"},body:t}).then((e=>e.json()))})).then((e=>(e.success||console.error("failed to check the template syntax",e.details&&e.details[0]),e)))}(e||se,r,c).then((e=>{if(e.success)z(!1),te(!0);else{const s=h("checkSyntaxErrMsg",{serverSideErrMsg:e.details&&e.details[0]&&e.details[0].description});t(s)}})).catch((e=>{t("Failed to check the template syntax.")}))},pe=()=>{Y(!0),H("");let t=a||{};return E&&(t=x.find((e=>e.id===E))),function(t,s){const i=t.id;return new Promise(((e,t)=>{if(!s||!i)throw new Error("Failed to delte report template");e(!0)})).then((t=>e.esri.restPortal.removeItem(Object.assign({id:i,owner:s.owner},w())))).then((e=>{if(!e||e.error||!e.success)throw new Error(e.error);return i}))}(t,c).then((e=>{Y(!1),p&&p(e)})).catch((e=>{console.warn(h("templateDeleteErrMsg"),e),H(h("templateDeleteErrMsg")),Y(!1),V(!1)}))};return(0,e.jsx)("div",{className:"template-editor-outter",css:(t=>e.css`
      .jimu-widget-setting--row {
        // padding: 0.625rem
      }
      .upload-label {
        margin-bottom: 0;
      }
      // .upload-template-btn {
      //   overflow: hidden
      //   text-overflow: ellipsis
      //   display: -webkit-box
      //   -webkit-box-orient: vertical
      //   word-break: break-word
      //   -webkit-line-clamp: 2
      // }
      .file-name-box {
        padding: 0.625rem;
        display: flex;
        align-items: center;
        // gap: 6px
        background: var(--sys-color-secondary);
        .file-name {
          overflow: hidden;
          text-overflow: ellipsis;
          display: -webkit-box;
          -webkit-box-orient: vertical;
          word-break: break-word;
          -webkit-line-clamp: 2;
        }
      }
      .existing-file-name {
        overflow: auto;
        word-wrap: break-word;
        overflow: hidden;
      }
      .upload-template-btn {
        position: relative;
      }
      .display-error-tips {
        word-break: break-word;
        margin: 0 4px;
        color: ${t.sys.color.error.main};
      }
      .display-warnning-tips {
        word-break: break-word;
        margin: 0 4px;
      }
      .check-syntax {
        cursor: pointer;
        padding-top: 0;
        padding-bottom: 0;
      }

      input.upload-template-input {
        position: absolute;
        display: block;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        opacity: 0;
     }
      .checking-syntax-status {
        display: flex;
        align-items: center;
        gap: 0.25rem;
      }
      .template-editor-outter{
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        // margin-bottom: 8px
      }`)(d)},a?(0,e.jsx)(s.SettingSection,null,(0,e.jsx)(s.SettingRow,{flow:"wrap",className:"mb-0"},(0,e.jsx)("p",{className:"existing-file-name"},a.name),(0,e.jsx)("div",{css:(0,e.css)("position: relative;")},se&&se.size?(0,e.jsx)("div",{className:"w-100 file-name-box"},(0,e.jsx)("span",{className:"file-name"},se.name),(0,e.jsx)(t.Button,{className:"p-0",icon:!0,type:"tertiary",onClick:()=>{re()}},(0,e.jsx)(P,{size:12}))):(0,e.jsx)("a",{href:"javascript:;"},h("selectAnotherFile"),(0,e.jsx)("input",{type:"file",className:"upload-template-input",multiple:!1,accept:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:e=>{ae(e)}}))),C?(0,e.jsx)("div",{className:"display-error-tips"},C):"")):(0,e.jsx)(s.SettingSection,null,(0,e.jsx)(s.SettingRow,{flow:"wrap",role:"radiogroup",className:"mb-4"},(0,e.jsx)(t.Label,{className:"d-flex align-items-center w-100"},(0,e.jsx)(t.Radio,{className:"mr-2",name:"template-mode",checked:"select"===I,onChange:()=>{M("select")}}),h("selectExistTemplate")),(0,e.jsx)(t.Label,{className:"d-flex align-items-center upload-label w-100"},(0,e.jsx)(t.Tooltip,{title:m?h("noActions"):"",showArrow:!0,placement:"left",interactive:!0,leaveDelay:100},(0,e.jsx)(t.Radio,{className:"mr-2",name:"template-mode",checked:"upload"===I,disabled:m,onChange:()=>{M("upload")}})),(0,e.jsx)(t.Tooltip,{title:m?h("noActions"):"",showArrow:!0,placement:"left",interactive:!0,leaveDelay:100},(0,e.jsx)("span",null,h("uploadNewTemplate"))))),"select"===I?(0,e.jsx)(s.SettingRow,null,(0,e.jsx)(t.Select,{size:"sm",className:"w-100",value:E,onChange:e=>{(e=>{k(e);const t=x.find((t=>t.id===e));v((null==t?void 0:t.title)||""),A((null==t?void 0:t.snippet)||""),$(!1),ie(t?{name:null==t?void 0:t.name}:""),K(""),te(!1),Q("")})(e.target.value)}},(x||[]).length?(x||[]).map((t=>(0,e.jsx)("option",{key:t.id,disabled:n.includes(t),value:t.id},t.title))):"",(x||[]).length?"":(0,e.jsx)("option",{disabled:!0,value:""},h("noData")))):"","upload"===I?se?(0,e.jsx)("div",{className:"w-100 file-name-box"},(0,e.jsx)("span",{className:"file-name"},se.name),(0,e.jsx)(t.Button,{className:"p-0",icon:!0,type:"tertiary",onClick:()=>{re()}},(0,e.jsx)(P,{size:12}))):(0,e.jsx)(ce.Fragment,null,(0,e.jsx)(t.Button,{type:"primary",className:"w-100 upload-template-btn"},h("selectFile"),(0,e.jsx)("input",{type:"file",className:"upload-template-input",multiple:!1,accept:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:e=>{ae(e)}})),C?(0,e.jsx)("div",{className:"display-error-tips"},C):""):""),(0,e.jsx)(s.SettingSection,null,(0,e.jsx)(s.SettingRow,{flow:"wrap",label:h("name")},(0,e.jsx)(t.TextInput,{"aria-label":h("name"),"aria-required":"true",disabled:m,title:h("templateNameHint"),className:"w-100",value:T,onChange:e=>{(e=>{v(e.target.value||""),D({title:e.target.value,id:E},x)?Q(""):e.target.value?Q(h("templateDlgNameExistsMsg")):Q(h("templateEmptyNameMsg"))})(e),$(!0)}}),R?(0,e.jsx)("div",{className:"display-error-tips"},R):""),(0,e.jsx)(s.SettingRow,{flow:"wrap",label:h("templateSummary")},(0,e.jsx)(t.TextArea,{"aria-label":h("templateSummary"),title:h("templateSummaryTip"),disabled:m,className:"w-100 summary",height:134,value:b,onChange:e=>{A(e.target.value||""),$(!0)}})),se?(0,e.jsx)(s.SettingRow,{css:(0,e.css)("margin-top: 0.75rem !important;")},(0,e.jsx)("i",{className:"text-break"},h("templateLastModified")),(0,e.jsx)("i",{className:"text-break",css:(0,e.css)("padding: 0 0.25em;")},g.formatDate(se.modified))):""),(0,e.jsx)(s.SettingSection,null,se&&se.size?(0,e.jsx)(s.SettingRow,{className:"mt-0",css:(0,e.css)("flex-wrap: wrap !important;")},L?(0,e.jsx)("div",{className:"text-break checking-syntax-status"},h("checking"),(0,e.jsx)(lt,{size:16})):(0,e.jsx)(ce.Fragment,null,(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",className:"text-break check-syntax",onClick:()=>{le()}},(0,e.jsx)("a",{href:"javascript:;"},h("checkSyntax")),(0,e.jsx)("span",{css:(0,e.css)("margin: 0 0.25rem;")},ee&&!X?(0,e.jsx)(it,{size:16,color:"var(--success)",css:(0,e.css)("margin: 0 6px;")}):"",X?(0,e.jsx)(ot,{size:16,color:"var(--warning)",css:(0,e.css)("margin: 0 6px;")}):"")),X?(0,e.jsx)("div",{className:"display-warnning-tips font-13 font-dark-800"}," ",X," "):"")):"",(0,e.jsx)(s.SettingRow,{flow:"wrap",css:(0,e.css)("margin-top: 12px;")},(0,e.jsx)(t.Button,{css:(0,e.css)("position: relative;"),"aria-label":h("saveTemplate"),className:"w-100 summary",disabled:!se||!T||B||L||!!R,type:"primary",onClick:()=>{oe()}},(0,e.jsx)("span",{css:(0,e.css)(B?"visibility: hidden":"visibility: visible;")},h("saveTemplate")),B&&(0,e.jsx)(t.Loading,{type:t.LoadingType.DotsSecondary})),J?(0,e.jsx)("div",{className:"display-error-tips"}," ",J," "):""),"select"===I&&E?(0,e.jsx)(s.SettingRow,{flow:"wrap",css:(0,e.css)("margin-top: 12px;")},(0,e.jsx)(t.Tooltip,{title:m?h("noActions"):"",showArrow:!0,placement:"left",interactive:!0,leaveDelay:100},(0,e.jsx)(t.Button,{css:(0,e.css)("position: relative;"),"aria-label":h("deleteTemplatewarningHeader"),className:"w-100 summary",disabled:c.isCoowner||G||m,type:"primary",onClick:()=>{H(""),V(!0)}},h("deleteTemplatewarningHeader"),G&&(0,e.jsx)(t.Loading,{type:t.LoadingType.DotsSecondary}))),W?(0,e.jsx)("div",{className:"display-error-tips"}," ",W," "):"",(0,e.jsx)(t.AlertPopup,{title:h("deleteTemplatewarningHeader"),okLabel:h("deleteTemplate"),cancelLabel:h("cancel"),isOpen:F,onClickOk:()=>{pe()},onClickClose:()=>{V(!1)}},h("deleteTemplateWarning"))):""))};var mt=l(92153),gt=l.n(mt),ht=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};const It=t=>{const s=window.SVG,{className:i}=t,a=ht(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:gt()},a)):e.React.createElement("svg",Object.assign({className:n},a))},yt=Object.assign({},r,t.defaultMessages);var Mt;!function(e){e.outputSetting="OutputSetting",e.templateEditor="TemplateEditor"}(Mt||(Mt={}));class jt extends e.React.PureComponent{constructor(t){super(t),this.dataSourceManager=e.DataSourceManager.getInstance(),this.supportedDsTypes=(0,e.Immutable)([i.AllDataSourceTypes.FeatureLayer]),this.state={dataSource:null,dataSourceInvalid:!0,allowedDsIds:null,showDsInvalidAlert:!1,featureCount:null,showOutputSetting:!1,showTemplateEditor:!1,templateItems:[],surveyItemInfo:null,featureLayerUrl:"",inputFeatureTemplate:"",allowToEdit:!0,seletedTemplateItems:[],activeTemplateIdx:Ke.number,popperFocusNode:null,editingTemplate:null,samplePrintingTemplateIds:[],modalIsOpen:!1,isGeneratingSampleTemplate:!1,isGeneratingSummaryIndividualTemplate:!1,isGeneratingIndividualTemplate:!1,isGeneratingSummaryTemplate:!1,quickReferenceUrl:""},this.unmount=!1,this.closeSidePopper=e=>{const t="show"+e;if(this.state[t]){const e={};e[t]=!1,this.setState(e)}e===Mt.templateEditor&&this.setState({activeTemplateIdx:null,editingTemplate:null})},this.openSidePopper=e=>{const t="show"+e;if(!this.state[t]){const e={};e[t]=!0,this.setState(e)}},this.openTemplateEditor=(e,t=!1,s)=>{const i=Number(e);this.setState({activeTemplateIdx:i,editingTemplate:s}),this.openSidePopper(Mt.templateEditor),this.setTemplateSidePopperAnchor(e,!0)},this.onDataSourceCreated=t=>{this.dataSource=t,this.setState({dataSource:t});const s=g(t),i=s.url;if(!i)return console.error("The selected data source has no url"),void this.setState({featureLayerUrl:null});i!==this.state.featureLayerUrl?(this.setState({datasourceInvalid:!0}),this.props.onSettingChange({id:this.props.id,config:this.props.config.set("surveyItemId",null)}),m(t).then((a=>{if(!a)return console.log("This layer is not a survey's assosiate layer"),this.showDsInvalidAlert(),this.dataSource=null,this.setState({dataSource:null}),this.props.onSettingChange({id:this.props.id,useDataSources:null}),void this.setState({featureLayerUrl:null});if(this.setState({datasourceInvalid:!1}),this.hideDsInvalidAlert(),this.props.onSettingChange({id:this.props.id,config:this.props.config.set("surveyItemId",a)}),this.setState({featureLayerUrl:i}),!this.props.config.inputFeatureTemplate&&!this.state.inputFeatureTemplate){const e=this.getDefaultInputFeatureTemplate(t.getLayerDefinition());this.setState({inputFeatureTemplate:e})}(function(t){const s=Object.assign({id:t,relationshipType:"Survey2Data"},w());return e.esri.restPortal.getItem(t,s).then((t=>{const s=(0,e.getAppStore)().getState().user,i=s?s.username:"";return"admin"===t.itemControl&&(t.isAdmin=!0),"update"===t.itemControl&&(t.isCoowner=!0),t.owner===i&&(t.isOwner=!0),t}))})(a).then((e=>{if(!this.props.config.reportName){const s=this.getDefaultReportName(e,t);this.props.onSettingChange({id:this.props.id,config:this.props.config.set("reportName",s)})}const n=!!(e.isOwner||e.isAdmin||e.isCoowner),r=function(e,t,s){const i=`${x()}/featureReport/quickReference?`,a={surveyItemId:t,featureLayerUrl:e,locale:s||"en",portalUrl:O().portalUrl,token:O().token},n=[],r=["surveyItemId","featureLayerUrl","locale","portalUrl","token"];return Object.keys(a).sort(((e,t)=>r.indexOf(e)-r.indexOf(t))).forEach((e=>{const t=a[e];t&&n.push(`${e}=${t}`)})),i+n.join("&")}(i,a,this.props.locale);return this.setState({surveyItemInfo:e,quickReferenceUrl:r,allowToEdit:n}),h(s,i)})).then((e=>{this.setState({featureCount:e}),I(a).then((e=>{var t;this.setState({templateItems:e});let s=[];(null===(t=this.props.config.reportTemplateIds)||void 0===t?void 0:t.length)&&(s=e.filter((e=>this.props.config.reportTemplateIds.includes(e.id)))),this.setState({seletedTemplateItems:s})}))}))}))):h(s,i).then((e=>{this.setState({featureCount:e})}))},this.onDataSourceChange=t=>{var s,i;if(!t)return;let a=t;(this.props.useDataSources?null===(s=this.props.useDataSources[0])||void 0===s?void 0:s.mainDataSourceId:"")!==(null===(i=t[0])||void 0===i?void 0:i.mainDataSourceId)&&(a=t.map((t=>Object.assign(Object.assign({},t),{dataSourceId:this.dataSourceManager.getDataViewDataSourceId(t.mainDataSourceId,e.CONSTANTS.SELECTION_DATA_VIEW_ID),dataViewId:e.CONSTANTS.SELECTION_DATA_VIEW_ID}))),this.setState({datasourceInvalid:!0}),this.props.onSettingChange({id:this.props.id,config:this.props.config.set("surveyItemId",null)})),this.props.onSettingChange({id:this.props.id,useDataSources:a}),a&&a.length||this.reset()},this.reset=()=>{this.props.onSettingChange({id:this.props.id,config:{}}),this.setState({dataSource:null,dataSourceInvalid:!0,allowedDsIds:null,featureCount:null,showOutputSetting:!1,showTemplateEditor:!1,templateItems:[],surveyItemInfo:null,featureLayerUrl:"",inputFeatureTemplate:"",allowToEdit:!0,seletedTemplateItems:[],activeTemplateIdx:Ke.number,popperFocusNode:null,editingTemplate:null,samplePrintingTemplateIds:[],modalIsOpen:!1,isGeneratingSampleTemplate:!1,isGeneratingSummaryIndividualTemplate:!1,isGeneratingIndividualTemplate:!1,isGeneratingSummaryTemplate:!1,quickReferenceUrl:""}),this.dataSource=null},this.getDefaultInputFeatureTemplate=e=>{if(e.displayField)return"{"+e.displayField+"}";const t=e.fields||[],s=t.find((e=>"esriFieldTypeString"===e.type));if(s)return"{"+s.name+"}";return(t.length>3?t.slice(0,4):t).map((e=>e.name)).map((e=>"{"+e+"}")).join(",")},this.getDefaultReportName=(e,t)=>{const s=t.getIdField()||"objectid";return v(e.title)+(s?"_OID${"+s+"}":"")},this.onOptionChnged=e=>{},this.onClickBody=()=>{this.unmount||this.hideDsInvalidAlert()},this.onDsInvalidAlertClose=()=>{this.hideDsInvalidAlert()},this.i18n=(e,t)=>this.props.intl.formatMessage({id:e,defaultMessage:yt[e]},t),this.onLabelChanged=(e,t)=>{const s=e+"Label";this.props.onSettingChange({id:this.props.id,config:this.props.config.set(s,t)})},this.onVisibilityChanged=(e,t)=>{const s=[].concat(this.props.config.hides||[]),i=s.indexOf(e);t?i>=0&&s.splice(i,1):i<0&&s.push(e),this.props.onSettingChange({id:this.props.id,config:this.props.config.set("hides",s)})},this.onDefaultValueChanged=(e,t)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set(e,t)})},this.updateTemplate=e=>{const t=this.state.templateItems.map((t=>t.id===e.id?e:t));this.state.templateItems.find((t=>t.id===e.id))||t.push(e);const s=this.state.seletedTemplateItems.map((t=>t.id===e.id?e:t));this.state.seletedTemplateItems.find((t=>t.id===e.id))||s.push(e),this.setState({templateItems:t,seletedTemplateItems:s,activeTemplateIdx:null,editingTemplate:null,showTemplateEditor:!1});const i=s.map((e=>e.id));this.props.onSettingChange({id:this.props.id,config:this.props.config.set("reportTemplateIds",i)})},this.generateExamTemplate=e=>{const t={},s="isGenerating"+e+"Template";t[s]=!0,this.setState(t),function(e,t,s){let i=v(t.title)+"_sampleTemplate"+s.replace(/^\S/,(e=>e.toUpperCase()));return i.length>250&&(i=i.substr(0,250)),T(e,t.id,s).then((e=>(e?o.saveAs(e.slice(0,e.size,""),i+".docx"):console.error("Failed to generate sample template"),!0))).catch((e=>new Promise((t=>{let s=S(e);if(e&&500===e.status&&e.response instanceof Blob){const i=new FileReader;i.onload=()=>{const e=i.result;let a={};try{a=JSON.parse(e||"{}"),s=S(a),t(s)}catch(e){t(s)}},i.readAsText(e.response)}else t(s)})).then((e=>{console.error("Failed to generate sample template",e)}))))}(this.state.featureLayerUrl,this.state.surveyItemInfo,e).then((()=>{const e={};e[s]=!1,this.setState(e)}))},this.printSampleTemplate=t=>{const s=g(this.dataSource),i=t.id,a=this.state.samplePrintingTemplateIds||[];a.push(i),this.setState({samplePrintingTemplateIds:[].concat(a)});const n=()=>{const e=this.state.samplePrintingTemplateIds||[],t=(this.state.samplePrintingTemplateIds||[]).indexOf(i);t>=0&&(e.splice(t,1),this.setState({samplePrintingTemplateIds:[].concat(e)}))};y(t,this.state.surveyItemInfo,s,this.props.config,this.props.locale).then((t=>{n(),t&&function(t,s){const i=O().token;if(!t||!t.resultInfo||!t.resultInfo.resultFiles)return;t.resultInfo.resultFiles.forEach(((t,a)=>{const n=t.url;if(!n){const s=t.id||"",a=(0,e.getAppStore)().getState().portalUrl;return`${e.portalUrlUtils.getItemUrl(a,s)}/data?token=${i}`}a>0?setTimeout((()=>{A(n,s)}),3e3):A(n,s)}))}(t)})).catch((()=>{n()}))},this.removeTemplate=(e,t,s)=>{e&&e.stopPropagation();const i=[].concat(this.props.config.reportTemplateIds),a=this.state.seletedTemplateItems.findIndex((e=>e.id===t));if((null==i?void 0:i.length)>a){i.splice(a,1);const e=this.state.seletedTemplateItems.filter((e=>e.id!==t));this.setState({seletedTemplateItems:e}),this.props.onSettingChange({id:this.props.id,config:this.props.config.set("reportTemplateIds",i)})}if(this.setState({activeTemplateIdx:null,editingTemplate:null,showTemplateEditor:!1}),s){if(this.state.templateItems.findIndex((e=>e.id===t))>=0){i.slice(a,1);const e=this.state.templateItems.filter((e=>e.id!==t));this.setState({templateItems:e})}}},this.setTemplateSidePopperAnchor=(e,t=!1)=>{let s;s=t?this.templateEditorPopperTrigger.current.getElementsByClassName("add-template-btn")[0]:this.templateEditorPopperTrigger.current.getElementsByClassName("jimu-tree-item__body")[e],this.setState({popperFocusNode:s})},this.onSampleTemplatesCreated=(e,t)=>{const s=t.map((e=>e.id));this.setState({templateItems:e,seletedTemplateItems:t}),this.props.onSettingChange({id:this.props.id,config:this.props.config.set("reportTemplateIds",s)})},this.innerSettingButtonRef=e.React.createRef(),this.templateEditorPopperTrigger=e.React.createRef(),this.rootRef=e.React.createRef()}componentDidMount(){var e;this.unmount=!1,this.rootRef.current&&this.rootRef.current.addEventListener("click",this.onClickBody,!1),(null===(e=this.props.config)||void 0===e?void 0:e.inputFeatureTemplate)&&this.setState({inputFeatureTemplate:this.props.config.inputFeatureTemplate})}componentWillUnmount(){this.unmount=!0,this.rootRef.current&&(this.rootRef.current.removeEventListener("click",this.onClickBody,!1),this.cancelCloseDsInvalidAlertTimer())}showDsInvalidAlert(){this.unmount||(this.setState({showDsInvalidAlert:!0},(()=>{})),this.startCloseDsInvalidAlertTimer())}hideDsInvalidAlert(){this.cancelCloseDsInvalidAlertTimer(),this.unmount||this.setState({showDsInvalidAlert:!1})}cancelCloseDsInvalidAlertTimer(){this.closeDsInvalidAlertTimer&&(clearTimeout(this.closeDsInvalidAlertTimer),this.closeDsInvalidAlertTimer=null)}startCloseDsInvalidAlertTimer(){this.cancelCloseDsInvalidAlertTimer(),this.closeDsInvalidAlertTimer=setTimeout((()=>{this.unmount||this.setState({showDsInvalidAlert:!1})}),5e3)}render(){var r,o,l;const c={overrideItemBlockInfo:({itemBlockInfo:e},t)=>({name:a.TreeItemActionType.RenderOverrideItem,children:[{name:a.TreeItemActionType.RenderOverrideItemDroppableContainer,children:[{name:a.TreeItemActionType.RenderOverrideItemDraggableContainer,children:[{name:a.TreeItemActionType.RenderOverrideItemBody,children:[{name:a.TreeItemActionType.RenderOverrideItemMainLine,children:[{name:a.TreeItemActionType.RenderOverrideItemDragHandle},{name:a.TreeItemActionType.RenderOverrideItemIcon,autoCollapsed:!0},{name:a.TreeItemActionType.RenderOverrideItemTitle},{name:a.TreeItemActionType.RenderOverrideItemDetailToggle},{name:a.TreeItemActionType.RenderOverrideItemCommands}]}]}]}]}]})},p=this.i18n("setDataSource");let u=null;const d=this.props.useDataSources&&this.props.useDataSources[0];d&&d.dataSourceId&&(u=(0,e.jsx)(e.DataSourceComponent,{useDataSource:d,onDataSourceCreated:this.onDataSourceCreated,query:null}));const m=(0,e.jsx)(ce.Fragment,null,(0,e.jsx)(t.Alert,{closable:!0,className:"ds-invalid-alert",form:"basic",onClose:this.onDsInvalidAlertClose,open:this.state.showDsInvalidAlert,text:this.i18n("dataSourceTip"),type:"warning",withIcon:!0}),(0,e.jsx)(s.SettingSection,{role:"group",className:d?"":"border-0",title:this.i18n("data")},(0,e.jsx)(s.SettingRow,null,(0,e.jsx)(i.DataSourceSelector,{types:this.supportedDsTypes,fromDsIds:this.state.allowedDsIds,useDataSourcesEnabled:!0,mustUseDataSource:!0,useDataSources:this.props.useDataSources,closeDataSourceListOnChange:!0,onChange:this.onDataSourceChange,widgetId:this.props.id}),u),(0,e.jsx)(s.SettingRow,{css:{display:d?"none":"block"},label:(0,e.jsx)("span",{id:"dataSourceTip"},this.i18n("dataSourceTip")),flow:"wrap"})),d?null:(0,e.jsx)("div",{className:"empty-placeholder w-100"},(0,e.jsx)("div",{className:"empty-placeholder-inner"},(0,e.jsx)("div",{className:"empty-placeholder-icon"},(0,e.jsx)(z,{size:48})),(0,e.jsx)("div",{className:"empty-placeholder-text",id:"feature-report-blank-msg",dangerouslySetInnerHTML:{__html:this.i18n("selectDataPlaceholder",{ButtonString:p})}})))),g=(0,e.jsx)(s.SettingSection,{role:"group",className:"template-setting-outter"},(0,e.jsx)("div",{ref:this.templateEditorPopperTrigger},(0,e.jsx)(s.SettingRow,{level:1,label:this.i18n("reportTemplateTitle"),flow:"no-wrap"},(0,e.jsx)(t.Button,{className:"p-0 help-btn",icon:!0,type:"tertiary",onClick:()=>{this.setState({modalIsOpen:!0})}},this.i18n("help"),(0,e.jsx)(It,null)),(0,e.jsx)(t.Modal,{isOpen:this.state.modalIsOpen,className:"bg-default w-75 d-flex justify-content-between",role:"dialog","aria-label":this.i18n("reportTemplateHelpTitle"),css:(h=this.props.theme,e.css`
  .template-list {
    // padding: 0.75rem;
    padding: 0.5rem;
    // background: ${h.ref.palette.neutral[300]}; //#181818;
    ul {
      list-style: none;
      padding: 0;
      margin: 0.5rem 0;
      li {
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 0.5rem 0;
        gap: 0.5rem;
        background: ${h.ref.palette.secondary[400]};
        >div {
          max-width: 100%; // calc(100% - 24px);
          display: flex;
          gap: 0.275rem;
          align-items: center;
          position:relative;
          p{
            margin:0;
          }
          span.template-label {
            margin: 0 -2px;
          }
        }
      }
    }
  }
  `)},(0,e.jsx)(t.ModalHeader,{className:"d-flex justify-content-between border-color-gray-300 py-4 font-16 font-dark-600",title:this.i18n("reportTemplateHelpTitle"),toggle:()=>{this.setState({modalIsOpen:!1})}},this.i18n("reportTemplateHelpTitle")),(0,e.jsx)(t.ModalBody,null,(0,e.jsx)("div",{className:"px-2 py-0 template-list"},(0,e.jsx)("p",{className:"font-13 font-dark-600 mt-4"},this.i18n("reportTemplateHelpDesc"),(0,e.jsx)("a",{href:"https://doc.arcgis.com/"+(this.props.locale||"en")+"/survey123/browser/analyze-results/featurereporttemplates.htm",target:"_blank"},this.i18n("reportTemplateHelpLearnMore"))),(0,e.jsx)("p",{className:"font-14 font-dark-800 mt-4"},this.i18n("quickReferencePage"),(0,e.jsx)("a",{href:this.state.quickReferenceUrl,target:"_blank"},(0,e.jsx)(W,{css:(0,e.css)("margin: 0 6px")}))),(0,e.jsx)("p",{className:"font-14 font-dark-800 mt-4"},this.i18n("sampleTemplate")),(0,e.jsx)("div",{css:(0,e.css)("position:relative;")},(0,e.jsx)("ul",null,(0,e.jsx)("li",{className:"px-2"},(0,e.jsx)("div",null,(0,e.jsx)("div",null,(0,e.jsx)(_,{size:32})),(0,e.jsx)("div",null,(0,e.jsx)("p",null,this.i18n("individualRecordTemplate")),(0,e.jsx)("p",null,this.i18n("individualRecordTemplateTip"))),(0,e.jsx)(t.Button,{className:"p-0",icon:!0,type:"tertiary",title:this.i18n("download"),disabled:this.state.isGeneratingIndividualTemplate,onClick:e=>{this.generateExamTemplate("individual")}},this.state.isGeneratingIndividualTemplate?(0,e.jsx)(lt,{size:16}):(0,e.jsx)(G,{size:16})))),(0,e.jsx)("li",{className:"px-2"},(0,e.jsx)("div",null,(0,e.jsx)("div",null,(0,e.jsx)(ee,{size:32})),(0,e.jsx)("div",null,(0,e.jsx)("p",null,this.i18n("summaryTemplate")),(0,e.jsx)("p",null,this.i18n("summaryTemplateTip"))),(0,e.jsx)(t.Button,{className:"p-0",icon:!0,type:"tertiary",title:this.i18n("download"),disabled:this.state.isGeneratingSummaryTemplate,onClick:e=>{e.stopPropagation(),this.generateExamTemplate("summary")}},this.state.isGeneratingSummaryTemplate?(0,e.jsx)(lt,{size:16}):(0,e.jsx)(G,{size:16})))),(0,e.jsx)("li",{className:"px-2"},(0,e.jsx)("div",null,(0,e.jsx)("div",null,(0,e.jsx)(ae,{size:32})),(0,e.jsx)("div",null,(0,e.jsx)("p",null,this.i18n("combinedTemplate")),(0,e.jsx)("p",null,this.i18n("combinedTemplateTip"))),(0,e.jsx)(t.Button,{className:"p-0",icon:!0,type:"tertiary",title:this.i18n("download"),disabled:this.state.isGeneratingSummaryIndividualTemplate,onClick:e=>{e.stopPropagation(),this.generateExamTemplate("summaryIndividual")}},this.state.isGeneratingSummaryIndividualTemplate?(0,e.jsx)(lt,{size:16}):(0,e.jsx)(G,{size:16})))))))),(0,e.jsx)(t.ModalFooter,null,(0,e.jsx)("div",{className:"d-flex justify-content-end mt10"},(0,e.jsx)(t.Button,{type:"primary",className:"mr-2",onClick:()=>{this.setState({modalIsOpen:!1})},"aria-label":this.i18n("ok")},this.i18n("ok")))))),(0,e.jsx)(s.SettingRow,null,(0,e.jsx)(t.Button,{type:"primary",className:"w-100 add-template-btn",onClick:()=>{this.openTemplateEditor(this.state.seletedTemplateItems.length)}},(0,e.jsx)("span",{css:(0,e.css)(" padding: 0 10px;font-weight: 800;")},"+"),this.i18n("newTemplate"))),this.state.seletedTemplateItems.length?"":(0,e.jsx)(Xe,{templates:this.state.templateItems,theme:this.props.theme,onSampleTemplatesCreated:this.onSampleTemplatesCreated,surveyItemInfo:this.state.surveyItemInfo,featureLayerUrl:this.state.featureLayerUrl,editDisabled:!this.state.allowToEdit}),(0,e.jsx)(s.SettingRow,{className:"pt-0 border-0 template-list-container "},(0,e.jsx)("div",{className:"setting-ui-template-list w-100"},(null===(r=this.state.seletedTemplateItems)||void 0===r?void 0:r.length)?(0,e.jsx)(a.List,Object.assign({className:"setting-ui-template-list-exsiting",itemsJson:Array.from(this.state.seletedTemplateItems||[]).map(((e,t)=>({itemStateDetailContent:e,itemKey:`${t}`,itemStateChecked:this.state.showTemplateEditor&&t===this.state.activeTemplateIdx,itemStateTitle:e.title}))),renderOverrideItemCommands:(s,i)=>{var a;const{itemJsons:[n]}=i.props,r=n.itemStateDetailContent.id;return(0,e.jsx)("div",{css:(0,e.css)("display: flex; align-items: center;position:relative"),className:"jimu-tree-command-list jimu-tree-item__commands "},(0,e.jsx)(t.Dropdown,{onClick:e=>{e.stopPropagation()}},(0,e.jsx)(t.DropdownButton,{className:"p-0",icon:!0,disabled:(this.state.samplePrintingTemplateIds||[]).indexOf(r)>=0,arrow:!1,type:"tertiary",title:this.i18n("more")},(this.state.samplePrintingTemplateIds||[]).indexOf(r)>=0?(0,e.jsx)(lt,{size:12}):(0,e.jsx)(le,{size:12,className:"group-dropdown-icon"})),(0,e.jsx)(t.DropdownMenu,null,(0,e.jsx)(t.DropdownItem,{disabled:!this.state.featureCount,className:"dropdown-item-group",onClick:e=>{e.stopPropagation(),this.printSampleTemplate(n.itemStateDetailContent)}},(0,e.jsx)(t.Tooltip,{title:this.state.featureCount?"":(null===(a=this.state.dataSource)||void 0===a?void 0:a.dataViewId)===e.CONSTANTS.SELECTION_DATA_VIEW_ID?this.i18n("noSelectedFeature"):this.i18n("noRecordsErr"),showArrow:!0,placement:"left",interactive:!0,leaveDelay:100},(0,e.jsx)("div",{title:this.i18n("printSampleReportTip",{previewCount:20})},this.i18n("printSampleReport")))),(0,e.jsx)(t.DropdownItem,{className:"dropdown-item-group"},(0,e.jsx)("div",{css:(0,e.css)("position: relative;")},this.i18n("downloadTemplate"),(0,e.jsx)("a",{css:(0,e.css)("position: absolute; display: block; width: 100%; left: 0; top: 0; bottom: 0;"),href:n.itemStateDetailContent.url,onClick:e=>{e.stopPropagation()},download:!0,target:"_blank"}))))),(0,e.jsx)(t.Button,{className:"p-0",icon:!0,type:"tertiary",disabled:(this.state.samplePrintingTemplateIds||[]).indexOf(r)>=0,title:this.i18n("removeTemplate"),onClick:e=>{this.removeTemplate(e,r)}},(0,e.jsx)(P,{size:12})))},renderOverrideItemDetailToggle:(e,t)=>"",onClickItemBody:(e,t)=>{const{itemJsons:[s]}=t.props;this.openTemplateEditor(s.itemKey,!0,s.itemStateDetailContent)}},c)):"",(null===(o=this.state.seletedTemplateItems)||void 0===o?void 0:o.length)===this.state.activeTemplateIdx&&this.state.showTemplateEditor&&(0,e.jsx)(a.List,Object.assign({className:"setting-ui-template-list-new w-100",itemsJson:[{name:"......"}].map(((e,t)=>({itemStateDetailContent:e,itemKey:`${this.state.activeTemplateIdx}`,itemStateChecked:!0,itemStateTitle:e.name,itemStateCommands:[]}))),dndEnabled:!1,renderOverrideItemDetailToggle:()=>""},c))),(0,e.jsx)(s.SidePopper,{position:"right",title:this.i18n("manageTempate"),"aria-label":this.i18n("manageTempate"),isOpen:this.state.showTemplateEditor,toggle:()=>{this.closeSidePopper(Mt.templateEditor)},trigger:null===(l=this.templateEditorPopperTrigger)||void 0===l?void 0:l.current,backToFocusNode:this.state.popperFocusNode},(0,e.jsx)(dt,{featureLayerUrl:this.state.featureLayerUrl,editTemplate:this.state.editingTemplate,selectedTemplates:this.state.seletedTemplateItems,theme:this.props.theme,templates:this.state.templateItems,surveyItemInfo:this.state.surveyItemInfo,editDisabled:!this.state.allowToEdit,onDeleteTemplate:e=>{this.removeTemplate(null,e,!0)},onSaveTemplate:e=>{this.updateTemplate(e)}})))));var h;const I=(0,e.jsx)("div",{className:"option-setting-outter"},(0,e.jsx)(s.SettingSection,{title:this.i18n("configration")},(0,e.jsx)(s.SettingRow,null,(0,e.jsx)("div",{className:"w-100 option-setting"},(0,e.jsx)(ze,{label:this.props.config.inputFeaturesLabel,defaultLabel:this.i18n("inputFeatures"),checked:!(this.props.config.hides||[]).includes("inputFeatures")||!1,onValueChange:e=>{this.onLabelChanged("inputFeatures",e)},onCheckedChange:e=>{this.onVisibilityChanged("inputFeatures",e)}},(0,e.jsx)("div",null,this.state.dataSource?(0,e.jsx)(Fe,{dataSources:this.state.dataSource,theme:this.props.theme,value:this.state.inputFeatureTemplate,onBlur:e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("inputFeatureTemplate",e)})}}):"")))),(0,e.jsx)(s.SettingRow,null,(0,e.jsx)("div",{className:"w-100 option-setting"},(0,e.jsx)(ze,{label:this.props.config.selectTemplateLabel,defaultLabel:this.i18n("selectTemplate"),checked:!(this.props.config.hides||[]).includes("selectTemplate")||!1,onValueChange:e=>{this.onLabelChanged("selectTemplate",e)},onCheckedChange:e=>{this.onVisibilityChanged("selectTemplate",e)}}))),(0,e.jsx)(s.SettingRow,null,(0,e.jsx)("div",{className:"w-100 option-setting"},(0,e.jsx)(ze,{showSettingButton:!0,ref:this.innerSettingButtonRef,onSettingBtnClick:()=>{this.openSidePopper(Mt.outputSetting)},label:this.props.config.reportSettingLabel,defaultLabel:this.i18n("reportSettings"),checked:!(this.props.config.hides||[]).includes("reportSetting")||!1,onValueChange:e=>{this.onLabelChanged("reportSetting",e)},onCheckedChange:e=>{this.onVisibilityChanged("reportSetting",e)}}),(0,e.jsx)(s.SidePopper,{position:"right",title:this.i18n("reportSettings"),"aria-label":this.i18n("reportSettings"),isOpen:this.state.showOutputSetting,toggle:()=>{this.closeSidePopper(Mt.outputSetting)},trigger:this.innerSettingButtonRef.current},(0,e.jsx)(Be,{dataSource:this.state.dataSource,fileOptionsLabel:this.props.config.fileOptionsLabel,reportNameLabel:this.props.config.reportNameLabel,saveToAGSAccountLabel:this.props.config.saveToAGSAccountLabel,outputFormatLabel:this.props.config.outputFormatLabel,theme:this.props.theme,hides:this.props.config.hides,mergeFiles:this.props.config.mergeFiles,reportName:this.props.config.reportName,outputFormat:this.props.config.outputFormat,onLabelChanged:(e,t)=>{this.onLabelChanged(e,t)},onVisibilityChanged:(e,t)=>{this.onVisibilityChanged(e,t)},onSettingValueChanged:(e,t)=>{this.onDefaultValueChanged(e,t)}})))),(0,e.jsx)(s.SettingRow,null,(0,e.jsx)("div",{className:"w-100 option-setting"},(0,e.jsx)(ze,{label:this.props.config.showCreditsLabel,defaultLabel:this.i18n("showCredits"),checked:!(this.props.config.hides||[]).includes("showCredits")||!1,onValueChange:e=>{this.onLabelChanged("showCredits",e)},onCheckedChange:e=>{this.onVisibilityChanged("showCredits",e)}}))),(0,e.jsx)(s.SettingRow,null,(0,e.jsx)("div",{className:"w-100 option-setting"},(0,e.jsx)(ze,{label:this.props.config.generateReportLabel,defaultLabel:this.i18n("generateReports"),onValueChange:e=>{this.onLabelChanged("generateReport",e)},hideSwitcher:!0}))),(0,e.jsx)(s.SettingRow,null,(0,e.jsx)("div",{className:"w-100 option-setting"},(0,e.jsx)(ze,{label:this.props.config.recentReportsLabel,defaultLabel:this.i18n("recentReports"),onValueChange:e=>{this.onLabelChanged("recentReports",e)},hideSwitcher:!0})))));return(0,e.jsx)("div",{ref:this.rootRef,css:n(this.props.theme),className:"jimu-widget-setting widget-setting-feature-report h-100 "},m,!d||this.state.datasourceInvalid?null:g,!d||this.state.datasourceInvalid?null:I)}}function xt(e){l.p=e}})(),c})())}}}));
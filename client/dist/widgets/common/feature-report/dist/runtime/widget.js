/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-ui"],(function(e,t){var r={},o={};return{setters:[function(e){r.CONSTANTS=e.CONSTANTS,r.DataSourceComponent=e.DataSourceComponent,r.DataSourceManager=e.DataSourceManager,r.React=e.React,r.css=e.css,r.jsx=e.jsx,r.moduleLoader=e.moduleLoader,r.urlUtils=e.urlUtils},function(e){o.WidgetPlaceholder=e.WidgetPlaceholder}],execute:function(){e((()=>{var e,t,n={98612:(e,t,r)=>{"use strict";r.d(t,{F:()=>ie,H:()=>v,a:()=>S,b:()=>ae,c:()=>j,g:()=>s,h:()=>h,r:()=>ce});const o="hydrated";var n=Object.defineProperty,s=e=>{const t=new URL(e,ve.$resourcesUrl$);return t.origin!==he.location.origin?t.href:t.pathname},a={},i=e=>"object"===(e=typeof e)||"function"===e;function l(e){var t,r,o;return null!=(o=null==(r=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:r.getAttribute("content"))?o:void 0}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})({},{err:()=>c,map:()=>d,ok:()=>u,unwrap:()=>f,unwrapErr:()=>$});var u=e=>({isOk:!0,isErr:!1,value:e}),c=e=>({isOk:!1,isErr:!0,value:e});function d(e,t){if(e.isOk){const r=t(e.value);return r instanceof Promise?r.then((e=>u(e))):u(r)}if(e.isErr){const t=e.value;return c(t)}throw"should never get here"}var m,p,f=e=>{if(e.isOk)return e.value;throw e.value},$=e=>{if(e.isErr)return e.value;throw e.value},g="slot-fb{display:contents}slot-fb[hidden]{display:none}",h=(e,t,...r)=>{let o=null,n=null,s=!1,a=!1;const l=[],u=t=>{for(let r=0;r<t.length;r++)o=t[r],Array.isArray(o)?u(o):null!=o&&"boolean"!=typeof o&&((s="function"!=typeof e&&!i(o))&&(o=String(o)),s&&a?l[l.length-1].$text$+=o:l.push(s?_(null,o):o),a=s)};if(u(r),t){t.key&&(n=t.key);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,l,y);const c=_(e,null);return c.$attrs$=t,l.length>0&&(c.$children$=l),c.$key$=n,c},_=(e,t)=>{const r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null};return r},v={},y={forEach:(e,t)=>e.map(w).forEach(t),map:(e,t)=>e.map(w).map(t).map(b)},w=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),b=e=>{if("function"==typeof e.vtag){const t={...e.vattrs};return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),h(e.vtag,t,...e.vchildren||[])}const t=_(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},S=e=>ue(e).$hostElement$,j=(e,t,r)=>{const o=S(e);return{emit:e=>x(o,t,{bubbles:!!(4&r),composed:!!(2&r),cancelable:!!(1&r),detail:e})}},x=(e,t,r)=>{const o=ve.ce(t,r);return e.dispatchEvent(o),o},k=new WeakMap,C=e=>{const t=e.$cmpMeta$,r=e.$hostElement$,o=t.$flags$,n=(t.$tagName$,()=>{}),s=((e,t,r)=>{var o;const n=R(t),s=ge.get(n);if(e=11===e.nodeType?e:_e,s)if("string"==typeof s){e=e.head||e;let r,a=k.get(e);if(a||k.set(e,a=new Set),!a.has(n)){{r=_e.createElement("style"),r.innerHTML=s;const t=null!=(o=ve.$nonce$)?o:l(_e);null!=t&&r.setAttribute("nonce",t),e.insertBefore(r,e.querySelector("link"))}4&t.$flags$&&(r.innerHTML+=g),a&&a.add(n)}}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return n})(r.shadowRoot?r.shadowRoot:r.getRootNode(),t);10&o&&(r["s-sc"]=s,r.classList.add(s+"-h")),n()},R=(e,t)=>"sc-"+e.$tagName$,E=(e,t,r,o,n,s)=>{if(r!==o){let a=me(e,t),l=t.toLowerCase();if("class"===t){const t=e.classList,n=I(r),s=I(o);t.remove(...n.filter((e=>e&&!s.includes(e)))),t.add(...s.filter((e=>e&&!n.includes(e))))}else if("style"===t){for(const t in r)o&&null!=o[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in o)r&&o[t]===r[t]||(t.includes("-")?e.style.setProperty(t,o[t]):e.style[t]=o[t])}else if("key"===t);else if("ref"===t)o&&o(e);else if(a||"o"!==t[0]||"n"!==t[1]){const l=i(o);if((a||l&&null!==o)&&!n)try{if(e.tagName.includes("-"))e[t]=o;else{const n=null==o?"":o;"list"===t?a=!1:null!=r&&e[t]==n||(e[t]=n)}}catch(e){}null==o||!1===o?!1===o&&""!==e.getAttribute(t)||e.removeAttribute(t):(!a||4&s||n)&&!l&&(o=!0===o?"":o,e.setAttribute(t,o))}else if(t="-"===t[2]?t.slice(3):me(he,l)?l.slice(2):l[2]+t.slice(3),r||o){const n=t.endsWith(L);t=t.replace(M,""),r&&ve.rel(e,t,r,n),o&&ve.ael(e,t,o,n)}}},T=/\s/,I=e=>e?e.split(T):[],L="Capture",M=new RegExp(L+"$"),O=(e,t,r)=>{const o=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,n=e&&e.$attrs$||a,s=t.$attrs$||a;for(const e of N(Object.keys(n)))e in s||E(o,e,n[e],void 0,r,t.$flags$);for(const e of N(Object.keys(s)))E(o,e,n[e],s[e],r,t.$flags$)};function N(e){return e.includes("ref")?[...e.filter((e=>"ref"!==e)),"ref"]:e}var P=!1,A=(e,t,r,o)=>{const n=t.$children$[r];let s,a,i=0;if(null!==n.$text$)s=n.$elm$=_e.createTextNode(n.$text$);else if(s=n.$elm$=_e.createElement(n.$tag$),O(null,n,false),null!=m&&s["s-si"]!==m&&s.classList.add(s["s-si"]=m),n.$children$)for(i=0;i<n.$children$.length;++i)a=A(e,n,i),a&&s.appendChild(a);return s["s-hn"]=p,s},F=(e,t,r,o,n,s)=>{let a,i=e;for(i.shadowRoot&&i.tagName===p&&(i=i.shadowRoot);n<=s;++n)o[n]&&(a=A(null,r,n),a&&(o[n].$elm$=a,B(i,a,t)))},D=(e,t,r)=>{for(let o=t;o<=r;++o){const t=e[o];if(t){const e=t.$elm$;q(t),e&&e.remove()}}},U=(e,t,r=!1)=>e.$tag$===t.$tag$&&(!!r||e.$key$===t.$key$),z=(e,t,r=!1)=>{const o=t.$elm$=e.$elm$,n=e.$children$,s=t.$children$,a=t.$tag$,i=t.$text$;null===i?(("slot"!==a||P)&&O(e,t,false),null!==n&&null!==s?((e,t,r,o,n=!1)=>{let s,a,i=0,l=0,u=0,c=0,d=t.length-1,m=t[0],p=t[d],f=o.length-1,$=o[0],g=o[f];for(;i<=d&&l<=f;)if(null==m)m=t[++i];else if(null==p)p=t[--d];else if(null==$)$=o[++l];else if(null==g)g=o[--f];else if(U(m,$,n))z(m,$,n),m=t[++i],$=o[++l];else if(U(p,g,n))z(p,g,n),p=t[--d],g=o[--f];else if(U(m,g,n))z(m,g,n),B(e,m.$elm$,p.$elm$.nextSibling),m=t[++i],g=o[--f];else if(U(p,$,n))z(p,$,n),B(e,p.$elm$,m.$elm$),p=t[--d],$=o[++l];else{for(u=-1,c=i;c<=d;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===$.$key$){u=c;break}u>=0?(a=t[u],a.$tag$!==$.$tag$?s=A(t&&t[l],r,u):(z(a,$,n),t[u]=void 0,s=a.$elm$),$=o[++l]):(s=A(t&&t[l],r,l),$=o[++l]),s&&B(m.$elm$.parentNode,s,m.$elm$)}i>d?F(e,null==o[f+1]?null:o[f+1].$elm$,r,o,l,f):l>f&&D(t,i,d)})(o,n,t,s,r):null!==s?(null!==e.$text$&&(o.textContent=""),F(o,null,t,s,0,s.length-1)):null!==n&&D(n,0,n.length-1)):e.$text$!==i&&(o.data=i)},q=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(q)},B=(e,t,r)=>null==e?void 0:e.insertBefore(t,r),H=(e,t,r=!1)=>{const o=e.$hostElement$,n=e.$cmpMeta$,s=e.$vnode$||_(null,null),a=(i=t)&&i.$tag$===v?t:h(null,null,t);var i;if(p=o.tagName,n.$attrsToReflect$&&(a.$attrs$=a.$attrs$||{},n.$attrsToReflect$.map((([e,t])=>a.$attrs$[t]=o[e]))),r&&a.$attrs$)for(const e of Object.keys(a.$attrs$))o.hasAttribute(e)&&!["key","ref","style","class"].includes(e)&&(a.$attrs$[e]=o[e]);a.$tag$=null,a.$flags$|=4,e.$vnode$=a,a.$elm$=s.$elm$=o.shadowRoot||o,m=o["s-sc"],P=0!=(1&n.$flags$),z(s,a,r)},W=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((t=>e.$onRenderResolve$=t)))},V=(e,t)=>{if(e.$flags$|=16,4&e.$flags$)return void(e.$flags$|=512);W(e,e.$ancestorComponent$);return Re((()=>G(e,t)))},G=(e,t)=>{const r=e.$hostElement$,o=(e.$cmpMeta$.$tagName$,()=>{}),n=e.$lazyInstance$;if(!n)throw new Error(`Can't render component <${r.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let s;return t&&(s=ee(n,"componentWillLoad")),o(),J(s,(()=>X(e,n,t)))},J=(e,t)=>Q(e)?e.then(t):t(),Q=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,X=async(e,t,r)=>{var o;const n=e.$hostElement$,s=(e.$cmpMeta$.$tagName$,()=>{}),a=n["s-rc"];r&&C(e);const i=(e.$cmpMeta$.$tagName$,()=>{});K(e,t,n,r),a&&(a.map((e=>e())),n["s-rc"]=void 0),i(),s();{const t=null!=(o=n["s-p"])?o:[],r=()=>Y(e);0===t.length?r():(Promise.all(t).then(r),e.$flags$|=4,t.length=0)}},K=(e,t,r,o)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,H(e,t,o)}catch(t){pe(t,e.$hostElement$)}return null},Y=e=>{e.$cmpMeta$.$tagName$;const t=e.$hostElement$,r=()=>{},o=e.$lazyInstance$,n=e.$ancestorComponent$;ee(o,"componentDidRender"),64&e.$flags$?r():(e.$flags$|=64,te(t),r(),e.$onReadyResolve$(t),n||Z()),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Ce((()=>V(e,!1))),e.$flags$&=-517},Z=e=>{te(_e.documentElement),Ce((()=>x(he,"appload",{detail:{namespace:"web-components"}})))},ee=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(e){pe(e)}},te=e=>{var t;return e.classList.add(null!=(t=o)?t:"hydrated")},re=(e,t,r,o)=>{const n=ue(e);if(!n)throw new Error(`Couldn't find host element for "${o.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const s=n.$hostElement$,a=n.$instanceValues$.get(t),l=n.$flags$,u=n.$lazyInstance$;var c,d;c=r,d=o.$members$[t][0],r=null==c||i(c)?c:4&d?"false"!==c&&(""===c||!!c):1&d?String(c):c;const m=Number.isNaN(a)&&Number.isNaN(r);if((!(8&l)||void 0===a)&&(r!==a&&!m)&&(n.$instanceValues$.set(t,r),u)){if(o.$watchers$&&128&l){const e=o.$watchers$[t];e&&e.map((e=>{try{u[e](r,a,t)}catch(e){pe(e,s)}}))}2==(18&l)&&V(n,!1)}},oe=(e,t,r)=>{var o;const n=e.prototype;if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const s=Object.entries(t.$members$);if(s.map((([e,[o]])=>{(31&o||2&r&&32&o)&&Object.defineProperty(n,e,{get(){return t=e,ue(this).$instanceValues$.get(t);var t},set(r){re(this,e,r,t)},configurable:!0,enumerable:!0})})),1&r){const r=new Map;n.attributeChangedCallback=function(e,o,s){ve.jmp((()=>{var a;const i=r.get(e);if(this.hasOwnProperty(i))s=this[i],delete this[i];else{if(n.hasOwnProperty(i)&&"number"==typeof this[i]&&this[i]==s)return;if(null==i){const r=ue(this),n=null==r?void 0:r.$flags$;if(n&&!(8&n)&&128&n&&s!==o){const n=r.$lazyInstance$,i=null==(a=t.$watchers$)?void 0:a[e];null==i||i.forEach((t=>{null!=n[t]&&n[t].call(n,s,o,e)}))}return}}this[i]=(null!==s||"boolean"!=typeof this[i])&&s}))},e.observedAttributes=Array.from(new Set([...Object.keys(null!=(o=t.$watchers$)?o:{}),...s.filter((([e,t])=>15&t[0])).map((([e,o])=>{var n;const s=o[1]||e;return r.set(s,e),512&o[0]&&(null==(n=t.$attrsToReflect$)||n.push([e,s])),s}))]))}}return e},ne=async(e,t,r,o)=>{let n;if(0==(32&t.$flags$)){t.$flags$|=32;if(r.$lazyBundleId$){const e=$e(r);if(e&&"then"in e){const t=()=>{};n=await e,t()}else n=e;if(!n)throw new Error(`Constructor for "${r.$tagName$}#${t.$modeName$}" was not found`);n.isProxied||(r.$watchers$=n.watchers,oe(n,r,2),n.isProxied=!0);const o=(r.$tagName$,()=>{});t.$flags$|=8;try{new n(t)}catch(e){pe(e)}t.$flags$&=-9,t.$flags$|=128,o()}else{n=e.constructor;const r=e.localName;customElements.whenDefined(r).then((()=>t.$flags$|=128))}if(n&&n.style){let e=n.style;const t=R(r);if(!ge.has(t)){const o=(r.$tagName$,()=>{});((e,t,r)=>{let o=ge.get(e);ye&&r?(o=o||new CSSStyleSheet,"string"==typeof o?o=t:o.replaceSync(t)):o=t,ge.set(e,o)})(t,e,!!(1&r.$flags$)),o()}}}const s=t.$ancestorComponent$,a=()=>V(t,!0);s&&s["s-rc"]?s["s-rc"].push(a):a()},se=e=>{ee(e,"disconnectedCallback")},ae=(e,t={})=>{var r;const o=()=>{},n=[],s=t.exclude||[],a=he.customElements,i=_e.head,u=i.querySelector("meta[charset]"),c=_e.createElement("style"),d=[];let m,p=!0;Object.assign(ve,t),ve.$resourcesUrl$=new URL(t.resourcesUrl||"./",_e.baseURI).href;let f=!1;if(e.map((e=>{e[1].map((t=>{var r;const o={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};4&o.$flags$&&(f=!0),o.$members$=t[2],o.$attrsToReflect$=[],o.$watchers$=null!=(r=t[4])?r:{};const i=o.$tagName$,l=class extends HTMLElement{constructor(e){super(e),de(e=this,o),1&o.$flags$&&e.attachShadow({mode:"open"})}connectedCallback(){m&&(clearTimeout(m),m=null),p?d.push(this):ve.jmp((()=>(e=>{if(0==(1&ve.$flags$)){const t=ue(e),r=t.$cmpMeta$,o=(r.$tagName$,()=>{});if(1&t.$flags$)(null==t?void 0:t.$lazyInstance$)||(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>{}));else{t.$flags$|=1;{let r=e;for(;r=r.parentNode||r.host;)if(r["s-p"]){W(t,t.$ancestorComponent$=r);break}}r.$members$&&Object.entries(r.$members$).map((([t,[r]])=>{if(31&r&&e.hasOwnProperty(t)){const r=e[t];delete e[t],e[t]=r}})),ne(e,t,r)}o()}})(this)))}disconnectedCallback(){ve.jmp((()=>(async e=>{if(0==(1&ve.$flags$)){const t=ue(e);(null==t?void 0:t.$lazyInstance$)?se(t.$lazyInstance$):(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>se(t.$lazyInstance$)))}})(this)))}componentOnReady(){return ue(this).$onReadyPromise$}};o.$lazyBundleId$=e[0],s.includes(i)||a.get(i)||(n.push(i),a.define(i,oe(l,o,1)))}))})),n.length>0&&(f&&(c.textContent+=g),c.textContent+=n+"{visibility:hidden}.hydrated{visibility:inherit}",c.innerHTML.length)){c.setAttribute("data-styles","");const e=null!=(r=ve.$nonce$)?r:l(_e);null!=e&&c.setAttribute("nonce",e),i.insertBefore(c,u?u.nextSibling:i.firstChild)}p=!1,d.length?d.map((e=>e.connectedCallback())):ve.jmp((()=>m=setTimeout(Z,30))),o()},ie=(e,t)=>t,le=new WeakMap,ue=e=>le.get(e),ce=(e,t)=>le.set(t.$lazyInstance$=e,t),de=(e,t)=>{const r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return r.$onReadyPromise$=new Promise((e=>r.$onReadyResolve$=e)),e["s-p"]=[],e["s-rc"]=[],le.set(e,r)},me=(e,t)=>t in e,pe=(e,t)=>(0,console.error)(e,t),fe=new Map,$e=(e,t,o)=>{const n=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$,a=fe.get(s);return a?a[n]:r(81620)(`./${s}.entry.js`).then((e=>(fe.set(s,e),e[n])),pe)},ge=new Map,he="undefined"!=typeof window?window:{},_e=he.document||{head:{}},ve={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,o)=>e.addEventListener(t,r,o),rel:(e,t,r,o)=>e.removeEventListener(t,r,o),ce:(e,t)=>new CustomEvent(e,t)},ye=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1})(),we=!1,be=[],Se=[],je=(e,t)=>r=>{e.push(r),we||(we=!0,t&&4&ve.$flags$?Ce(ke):ve.raf(ke))},xe=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){pe(e)}e.length=0},ke=()=>{xe(be),xe(Se),(we=be.length>0)&&ve.raf(ke)},Ce=e=>{return Promise.resolve(t).then(e);var t},Re=je(Se,!0)},81620:(e,t,r)=>{var o={"./credit-estimator.entry.js":[22102,"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-1ff989"],"./detail-table_3.entry.js":[7618,"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-037dbd","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-213a12","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-ee47fb","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-95ce93"],"./error-detail-modal_2.entry.js":[48833,"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-213a12","extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-2040c9"],"./feature-report.entry.js":[49491,"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-037dbd","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-213a12","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-ee47fb","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-d3c1a4"],"./features-preview_5.entry.js":[45402,"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-037dbd","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-213a12","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-ee47fb","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-08dfc7"],"./file-option-chooser.entry.js":[85178,"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-037dbd","extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-fb2c56"],"./report-base.entry.js":[93282,"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-5fb91c"],"./sample-report-generator.entry.js":[70513,"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-46081b"],"./view-report-link.entry.js":[53013,"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-037dbd","extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-903671"]};function n(e){if(!r.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],n=t[0];return Promise.all(t.slice(1).map(r.e)).then((()=>r(n)))}n.keys=()=>Object.keys(o),n.id=81620,e.exports=n},4213:function(e,t,r){var o,n,s;n=[],void 0===(s="function"==typeof(o=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function o(e,t,r){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){l(o.response,t,r)},o.onerror=function(){console.error("could not download file")},o.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r.g&&r.g.global===r.g?r.g:void 0,i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,r){var i=a.URL||a.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):n(l.href)?o(e,t,r):s(l,l.target="_blank")):(l.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,r,a){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),r);else if(n(e))o(e,r,a);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){s(i)}))}}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return o(e,t,r);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&l||i)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},c.readAsDataURL(e)}else{var d=a.URL||a.webkitURL,m=d.createObjectURL(e);n?n.location=m:location.href=m,n=null,setTimeout((function(){d.revokeObjectURL(m)}),4e4)}});a.saveAs=l.saveAs=l,e.exports=l})?o.apply(t,n):o)||(e.exports=s)},32815:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path fill="#000" d="M4.5 3a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zM4.5 5a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1z"></path><path fill="#000" fill-rule="evenodd" d="M4 7.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5zM5 11v2h3v-2zm4 0v2h2v-2zm0 3h2v2H9zm6 0v2h-3v-2zm-3-3v2h3v-2zm3-3v2h-3V8zM9 8h2v2H9zm-1 6H5v2h3zm0-6v2H5V8z" clip-rule="evenodd"></path><path fill="#000" fill-rule="evenodd" d="M3.5 0A1.5 1.5 0 0 0 2 1.5v17A1.5 1.5 0 0 0 3.5 20h13a1.5 1.5 0 0 0 1.5-1.5v-14a.5.5 0 0 0-.146-.354l-4-4A.5.5 0 0 0 13.5 0zM3 1.5a.5.5 0 0 1 .5-.5H13v3a1 1 0 0 0 1 1h3v13.5a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5zM16.293 4 14 1.707V4z" clip-rule="evenodd"></path></svg>'},79244:e=>{"use strict";e.exports=r},14321:e=>{"use strict";e.exports=o}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return n[e].call(r.exports,r,r.exports,a),r.exports}a.m=n,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,r)=>(a.f[r](e,t),t)),[])),a.u=e=>"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-1ff989"===e?"widgets/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-compone-1ff989.js":"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-037dbd"===e?"widgets/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-037dbd.js":"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-213a12"===e?"widgets/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-213a12.js":"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-ee47fb"===e?"widgets/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-ee47fb.js":"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-95ce93"===e?"widgets/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-95ce93.js":"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-2040c9"===e?"widgets/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-compone-2040c9.js":"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-d3c1a4"===e?"widgets/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-d3c1a4.js":"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-08dfc7"===e?"widgets/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-08dfc7.js":"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-fb2c56"===e?"widgets/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-compone-fb2c56.js":"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-5fb91c"===e?"widgets/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-compone-5fb91c.js":"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-46081b"===e?"widgets/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-compone-46081b.js":"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-903671"===e?"widgets/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-compone-903671.js":void 0,a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="exb-client:",a.l=(r,o,n,s)=>{if(e[r])e[r].push(o);else{var i,l;if(void 0!==n)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+n){i=d;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+n),i.src=r),e[r]=[o];var m=(t,o)=>{i.onerror=i.onload=null,clearTimeout(p);var n=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(o))),t)return t(o)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="",(()=>{var e={"widgets/common/feature-report/dist/runtime/widget":0};a.f.j=(t,r)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var n=new Promise(((r,n)=>o=e[t]=[r,n]));r.push(o[2]=n);var s=a.p+a.u(t),i=new Error;a.l(s,(r=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var n=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",i.name="ChunkLoadError",i.type=n,i.request=s,o[1](i)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,n,[s,i,l]=r,u=0;if(s.some((t=>0!==e[t]))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(l)l(a)}for(t&&t(r);u<s.length;u++)n=s[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0},r=self.webpackChunkexb_client=self.webpackChunkexb_client||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i={};return a.p=window.jimuConfig.baseUrl,(()=>{"use strict";a.r(i),a.d(i,{__set_webpack_public_path__:()=>c,default:()=>u});var e=a(79244),t=a(14321);const r="Feature Report";var o=a(32815),n=a.n(o);a(4213);var s=a(98612);!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}(),(async(e,t)=>{if("undefined"!=typeof window)await void 0,(0,s.b)([["feature-report",[[1,"feature-report",{token:[1],portalUrl:[1,"portal-url"],apiUrl:[1,"api-url"],featureLayerUrl:[1,"feature-layer-url"],surveyItemId:[1,"survey-item-id"],templateItemId:[1,"template-item-id"],queryParameters:[1,"query-parameters"],mergeFiles:[1,"merge-files"],outputFormat:[1,"output-format"],outputReportName:[1,"output-report-name"],outputPackageName:[1,"output-package-name"],packageFiles:[8,"package-files"],uploadInfo:[1,"upload-info"],webmapItemId:[1,"webmap-item-id"],mapScale:[1,"map-scale"],locale:[1],utcOffset:[1,"utc-offset"],show:[1],hide:[1],inputFeatureTemplate:[1,"input-feature-template"],label:[1],reportTemplateIds:[1,"report-template-ids"],clientId:[1,"client-id"],requestSource:[1,"request-source"],where:[32],username:[32],state:[32],visibleConf:[32],checkingList:[32],jobs:[32],error:[32],langTasks:[32],langCommon:[32],langCustomPrint:[32],surveyItemInfo:[32]},null,{templateItemId:["templateItemIdChanged"],queryParameters:["queryParametersChanged"],mergeFiles:["mergeFilesChanged"],outputFormat:["outputFormatChanged"],locale:["localeChanged"],show:["showChanged"],hide:["hideChanged"],inputFeatureTemplate:["inputFeatureTemplateChanged"],label:["labelChanged"],reportTemplateIds:["reportTemplateIdsChanged"],requestSource:["requestSourceChanged"]}]]],["credit-estimator",[[1,"credit-estimator"]]],["report-base",[[1,"report-base",{featureLayerUrl:[1,"feature-layer-url"],token:[1],url:[1],username:[1],surveyItemId:[1,"survey-item-id"],portalUrl:[1,"portal-url"],f:[1],locale:[1]}]]],["sample-report-generator",[[1,"sample-report-generator"]]],["view-report-link",[[1,"view-report-link",{checkingList:[16],langTasks:[32]}]]],["file-option-chooser",[[1,"file-option-chooser",{fileOption:[513,"file-option"],translator:[32],langReport:[32]}]]],["error-detail-modal_2",[[1,"error-detail-modal",{job:[8],open:[4],maxFailedOIDLength:[32]}],[1,"success-detail-modal",{job:[8],open:[4]}]]],["detail-table_3",[[1,"task-info",{job:[8],showDetail:[1,"show-detail"],detailedStatus:[1,"detailed-status"],detailedStatusEle:[1,"detailed-status-ele"],isWaitingToConfirmRemove:[32],isRemoving:[32],isCanceling:[32]}],[1,"detail-table",{job:[8],errorMsg:[32]}],[1,"report-icon",{icon:[8],size:[8],pathData:[32]}]]],["features-preview_5",[[1,"task-list",{jobs:[16],langReport:[32],langCommon:[32],langTasks:[32],state:[32]}],[1,"report-settings",{mergeFiles:[1,"merge-files"],outputFormat:[1,"output-format"],fileName:[1,"file-name"],visibleElems:[16],translator:[32],langReport:[32]},null,{fileName:["onFileNameChange"]}],[1,"features-preview",{queryParameters:[1,"query-parameters"],inputFeatureTemplate:[1,"input-feature-template"],featureCount:[32],featureStr:[32],translator:[32],reportLang:[32],commonLang:[32]}],[1,"report-generator",{langObj:[8,"lang-obj"],visibleConf:[8,"visible-conf"],templateItemId:[1,"template-item-id"],featureCount:[32],supportShowCredits:[32],printTemplates:[32],creditsInfo:[32],creditStatus:[32],testModeJobObj:[32],isTestModePrinting:[32],isPrinting:[32],translator:[32]}],[1,"template-chooser",{langObj:[8,"lang-obj"],selectedTemplateId:[8,"selected-template-id"],templateIds:[1,"template-ids"],templates:[32],translator:[32]},null,{selectedTemplateId:["selectedTemplateIdChanged"],templateIds:["templateIdsChanged"]}]]]],t)})(window,{resourcesUrl:`${e.urlUtils.getFixedRootPath()}widgets/common/feature-report/dist/runtime/report-component/`});class l extends e.React.PureComponent{constructor(t){super(t),this._dsManager=e.DataSourceManager.getInstance(),this.paramStore=null,this.calciteLoaded=!1,this.prepare=()=>this.loadCalcite(),this.loadCalcite=()=>this.calciteLoaded?Promise.resolve(!0):e.moduleLoader.loadModule("../calcite-components/index.js").then((e=>(this.calciteLoaded=!0,!0))),this.onDataSourceCreated=e=>{},this.onDataSourceInfoChange=t=>{var r;if(!t||"LOADED"!==t.status)return;const o={},n=this._dsManager.getDataSource(this.props.useDataSources[0].dataSourceId);if(n){const t=function(t){let r="",o="",n="";if(!t)return{};if(r=t.url,t.isDataView){if(r=t.getMainDataSource().url,t.dataViewId===e.CONSTANTS.SELECTION_DATA_VIEW_ID){o="";const e=t.getSelectedRecords(),s=t.getIdField()||"objectid";return n=e.map((e=>{const t=e.feature,r=s;return t.attributes[r]})).join(","),{url:r,objectIds:n}}{const e=t.getCurrentQueryParams();return o=e.where||"1=1",{url:r,where:o,orderByFields:e.orderByFields}}}{const e=t.getCurrentQueryParams();return o=e.where||"1=1",{url:r,where:o,orderByFields:e.orderByFields}}}(n);"where"in t&&(o.where=t.where),"objectIds"in t&&(o.objectIds=t.objectIds),(null===(r=t.orderByFields)||void 0===r?void 0:r.length)&&(o.orderByFields=t.orderByFields.join(",")),this.setState({featureLayerUrl:t.url,queryParameters:JSON.stringify(o)}),this.updateReportParams()}},this.updateReportParams=()=>{var e,t;const r=this.props.config,o=[].concat(r.hides)||[];this.paramStore={"survey-item-id":r.surveyItemId,"feature-layer-url":null===(e=this.state)||void 0===e?void 0:e.featureLayerUrl,hide:o.join(","),"merge-files":r.mergeFiles,"output-format":r.outputFormat,"output-report-name":r.reportName,locale:this.props.locale,"report-template-ids":(r.reportTemplateIds||[]).join(","),"query-parameters":null===(t=this.state)||void 0===t?void 0:t.queryParameters,"input-feature-template":r.inputFeatureTemplate,"portal-url":this.props.portalUrl||"https://www.arcgis.com"};const n=window.jimuConfig.hostEnv;["dev","qa","beta"].includes(n)&&(this.paramStore["api-url"]=`https://survey123${n}.arcgis.com/api/featureReport`),o.includes("reportSetting")&&(["fileOptions","reportName","saveToAGSAccount","outputFormat"].forEach((e=>{o.includes(e)||o.push(e)})),this.paramStore.hide=o.join(","));const s={};return["inputFeatures","selectTemplate","fileOptions","reportName","saveToAGSAccount","generateReport","showCredits","recentReports","outputFormat","reportSetting"].forEach((e=>{const t=e+"Label";r[t]&&r[t].trim()&&(s[e]=r[t])})),this.paramStore.label=JSON.stringify(s),this.paramStore.hide||delete this.paramStore.hide,this.paramStore.label&&"{}"!==this.paramStore.label||delete this.paramStore.label,"https://www.arcgis.com"===this.paramStore["portal-url"]&&delete this.paramStore["portal-url"],this.paramStore},this.state={featureLayerUrl:"",queryParameters:""}}componentDidMount(){this.prepare()}renderDS(){return(0,e.jsx)("div",null)}render(){var o;const s=this.props.token,a=this.props.config,i=this.props.useDataSources&&this.props.useDataSources[0];let l=null;return i&&a.surveyItemId&&(null===(o=this.state)||void 0===o?void 0:o.featureLayerUrl)?(this.updateReportParams(),l=(0,e.jsx)("div",{className:"widget-featureReport"},(0,e.jsx)("feature-report",Object.assign({},this.paramStore,{token:s,"request-source":"ExB/FeatureReportWidget"})))):l=(0,e.jsx)("div",{className:"widget-featureReport"},(0,e.jsx)(t.WidgetPlaceholder,{icon:n(),message:this.props.intl.formatMessage({id:"_widgetLabel",defaultMessage:r}),widgetId:this.props.id})),(0,e.jsx)("div",{css:(this.props.theme,e.css`
  .widget-featureReport{
    // min-width: min-content;
    width: 100%;
    height: 100%;
    overflow: auto;
    feature-report{
      height: 100%;
    }
  }
  `),className:"jimu-widget"},l,(0,e.jsx)("div",{style:{position:"absolute",display:"none"}},(0,e.jsx)(e.DataSourceComponent,{useDataSource:i,query:{},widgetId:this.props.widgetId,onDataSourceCreated:this.onDataSourceCreated,onDataSourceInfoChange:this.onDataSourceInfoChange})))}}l.mapExtraStateProps=e=>({queryObject:e.queryObject});const u=l;function c(e){a.p=e}})(),i})())}}}));
/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-arcgis","jimu-core","jimu-ui","esri/Graphic","jimu-core/react","esri/geometry/Circle","esri/layers/GraphicsLayer"],(function(e,t){var r={},n={},i={},s={},o={},a={},l={};return{setters:[function(e){r.JimuMapViewComponent=e.JimuMapViewComponent,r.MapViewManager=e.MapViewManager,r.zoomToUtils=e.zoomToUtils},function(e){n.DataSourceComponent=e.DataSourceComponent,n.DataSourceStatus=e.DataSourceStatus,n.EsriFieldType=e.EsriFieldType,n.Immutable=e.Immutable,n.JimuFieldType=e.JimuFieldType,n.React=e.React,n.TimezoneConfig=e.TimezoneConfig,n.classNames=e.classNames,n.css=e.css,n.dataSourceUtils=e.dataSourceUtils,n.dateUtils=e.dateUtils,n.getAppStore=e.getAppStore,n.hooks=e.hooks,n.indexedDBUtils=e.indexedDBUtils,n.injectIntl=e.injectIntl,n.jsx=e.jsx,n.utils=e.utils},function(e){i.Alert=e.Alert,i.Button=e.Button,i.ConfirmDialog=e.ConfirmDialog,i.DataActionList=e.DataActionList,i.DataActionListStyle=e.DataActionListStyle,i.Icon=e.Icon,i.Loading=e.Loading,i.Tab=e.Tab,i.Tabs=e.Tabs,i.Tooltip=e.Tooltip,i.WidgetPlaceholder=e.WidgetPlaceholder},function(e){s.default=e.default},function(e){o.Children=e.Children,o.Fragment=e.Fragment,o.useRef=e.useRef},function(e){a.default=e.default},function(e){l.default=e.default}],execute:function(){e((()=>{var e={17390:(e,t,r)=>{var n;!function(){"use strict";var i=function e(t){var r,n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),i=60103,s={use_static:!1};function o(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function a(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r})}"object"!=typeof(r=t)||Array.isArray(r)||null===r||void 0!==t.use_static&&(s.use_static=Boolean(t.use_static));var l="__immutable_invariants_hold";function c(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,l)))}function u(e,t){return e===t||e!=e&&t!=t}function h(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var d=["setPrototypeOf"],p=(d.concat(["push","pop","sort","splice","shift","unshift","reverse"]),["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]));function f(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function m(e,t){return a(e,l,!0),e}function g(e,t){var r=e[t];a(e,t,(function(){return V(r.apply(e,arguments))}))}function v(e,t,r){var n=r&&r.deep;if(e in this&&(n&&this[e]!==t&&h(t)&&h(this[e])&&(t=V.merge(this[e],t,{deep:!0,mode:"replace"})),u(this[e],t)))return this;var i=A.call(this);return i[e]=V(t),y(i)}d.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]),f.prototype=new Error,f.prototype.constructor=Error;var S=V([]);function E(e,t,r){var n=e[0];if(1===e.length)return v.call(this,n,t,r);var i,s=e.slice(1),o=this[n];if("object"==typeof o&&null!==o)i=V.setIn(o,s,t);else{var a=s[0];i=""!==a&&isFinite(a)?E.call(S,s,t):_.call(D,s,t)}if(n in this&&o===i)return this;var l=A.call(this);return l[n]=i,y(l)}function y(e){for(var t in p){if(p.hasOwnProperty(t))g(e,p[t])}s.use_static||(a(e,"flatMap",w),a(e,"asObject",b),a(e,"asMutable",A),a(e,"set",v),a(e,"setIn",E),a(e,"update",j),a(e,"updateIn",U),a(e,"getIn",B));for(var r=0,n=e.length;r<n;r++)e[r]=V(e[r]);return m(e)}function I(){return new Date(this.getTime())}function w(e){if(0===arguments.length)return this;var t,r=[],n=this.length;for(t=0;t<n;t++){var i=e(this[t],t,this);Array.isArray(i)?r.push.apply(r,i):r.push(i)}return y(r)}function T(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,r){"number"==typeof e&&(r[t]=e.toString())})),e=function(e,r){return-1!==t.indexOf(r)}}var r=o(this);for(var n in this)this.hasOwnProperty(n)&&!1===e(this[n],n)&&(r[n]=this[n]);return G(r)}function A(e){var t,r,n=[];if(e&&e.deep)for(t=0,r=this.length;t<r;t++)n.push(O(this[t]));else for(t=0,r=this.length;t<r;t++)n.push(this[t]);return n}function b(e){"function"!=typeof e&&(e=function(e){return e});var t,r={},n=this.length;for(t=0;t<n;t++){var i=e(this[t],t,this),s=i[0],o=i[1];r[s]=o}return G(r)}function O(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,l)||e instanceof Date?e:V.asMutable(e,{deep:!0})}function R(e,t){for(var r in e)Object.getOwnPropertyDescriptor(e,r)&&(t[r]=e[r]);return t}function N(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var r,n,i=Array.isArray(e),s=t&&t.deep,a=t&&t.mode||"merge",l=t&&t.merger;function c(e,n,i){var a,c=V(n[i]),d=l&&l(e[i],c,t),p=e[i];void 0===r&&void 0===d&&e.hasOwnProperty(i)&&u(c,p)||(u(p,a=void 0!==d?d:s&&h(p)&&h(c)?V.merge(p,c,t):c)&&e.hasOwnProperty(i)||(void 0===r&&(r=R(e,o(e))),r[i]=a))}if(i)for(var d=0,p=e.length;d<p;d++){var f=e[d];for(n in f)f.hasOwnProperty(n)&&c(void 0!==r?r:this,f,n)}else{for(n in e)Object.getOwnPropertyDescriptor(e,n)&&c(this,e,n);"replace"===a&&function(e,t){for(var n in e)t.hasOwnProperty(n)||(void 0===r&&(r=R(e,o(e))),delete r[n])}(this,e)}return void 0===r?this:G(r)}function L(e,t){var r=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return V.merge(this,e,{deep:r,mode:"replace"})}var P,x,C,D=V({});function _(e,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var n=e[0];if(1===e.length)return M.call(this,n,t,r);var i,s=e.slice(1),a=this[n];if(i=this.hasOwnProperty(n)&&"object"==typeof a&&null!==a?V.setIn(a,s,t):_.call(D,s,t),this.hasOwnProperty(n)&&a===i)return this;var l=R(this,o(this));return l[n]=i,G(l)}function M(e,t,r){var n=r&&r.deep;if(this.hasOwnProperty(e)&&(n&&this[e]!==t&&h(t)&&h(this[e])&&(t=V.merge(this[e],t,{deep:!0,mode:"replace"})),u(this[e],t)))return this;var i=R(this,o(this));return i[e]=V(t),G(i)}function j(e,t){var r=Array.prototype.slice.call(arguments,2),n=this[e];return V.set(this,e,t.apply(n,[n].concat(r)))}function k(e,t){for(var r=0,n=t.length;null!=e&&r<n;r++)e=e[t[r]];return r&&r==n?e:void 0}function U(e,t){var r=Array.prototype.slice.call(arguments,2),n=k(this,e);return V.setIn(this,e,t.apply(n,[n].concat(r)))}function B(e,t){var r=k(this,e);return void 0===r?t:r}function H(e){var t,r=o(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(r[t]=O(this[t]));else for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r}function F(){return{}}function G(e){return s.use_static||(a(e,"merge",N),a(e,"replace",L),a(e,"without",T),a(e,"asMutable",H),a(e,"set",M),a(e,"setIn",_),a(e,"update",j),a(e,"updateIn",U),a(e,"getIn",B)),m(e)}function V(e,t,r){if(c(e)||function(e){return"object"==typeof e&&null!==e&&(e.$$typeof===i||e.$$typeof===n)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(V);if(Array.isArray(e))return y(e.slice());if(e instanceof Date)return o=new Date(e.getTime()),s.use_static||a(o,"asMutable",I),m(o);var o,l=t&&t.prototype,u=(l&&l!==Object.prototype?function(){return Object.create(l)}:F)();for(var h in e)Object.getOwnPropertyDescriptor(e,h)&&(u[h]=V(e[h],void 0,r));return G(u)}function W(e){return function(){var t=[].slice.call(arguments),r=t.shift();return e.apply(r,t)}}function z(e,t){return function(){var r=[].slice.call(arguments),n=r.shift();return Array.isArray(n)?t.apply(n,r):e.apply(n,r)}}return V.from=V,V.isImmutable=c,V.ImmutableError=f,V.merge=W(N),V.replace=W(L),V.without=W(T),V.asMutable=(P=H,x=A,C=I,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?x.apply(t,e):t instanceof Date?C.apply(t,e):P.apply(t,e)}),V.set=z(M,v),V.setIn=z(_,E),V.update=W(j),V.updateIn=W(U),V.getIn=W(B),V.flatMap=W(w),V.asObject=W(b),s.use_static||(V.static=e({use_static:!0})),Object.freeze(V),V}();void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},93904:(e,t,r)=>{const n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new h(e.value,t).test(this.value):""===e.operator?""===e.value||new h(this.value,t).test(e.semver):(!(t=s(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=i;const s=r(98587),{safeRe:o,t:a}=r(99718),l=r(72111),c=r(57272),u=r(53908),h=r(78311)},78311:(e,t,r)=>{class n{constructor(e,t){if(t=s(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!g(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&f)|(this.options.loose&&m))+":"+e,r=i.get(t);if(r)return r;const n=this.options.loose,s=n?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];e=e.replace(s,L(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(c[u.COMPARATORTRIM],h),a("comparator trim",e),e=e.replace(c[u.TILDETRIM],d),a("tilde trim",e),e=e.replace(c[u.CARETTRIM],p),a("caret trim",e);let l=e.split(" ").map((e=>E(e,this.options))).join(" ").split(/\s+/).map((e=>N(e,this.options)));n&&(l=l.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(c[u.COMPARATORLOOSE]))))),a("range list",l);const v=new Map,S=l.map((e=>new o(e,this.options)));for(const e of S){if(g(e))return[e];v.set(e.value,e)}v.size>1&&v.has("")&&v.delete("");const y=[...v.values()];return i.set(t,y),y}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some((r=>S(r,t)&&e.set.some((e=>S(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}e.exports=n;const i=new(r(38357))({max:1e3}),s=r(98587),o=r(93904),a=r(57272),l=r(53908),{safeRe:c,t:u,comparatorTrimReplace:h,tildeTrimReplace:d,caretTrimReplace:p}=r(99718),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:m}=r(16874),g=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,S=(e,t)=>{let r=!0;const n=e.slice();let i=n.pop();for(;r&&n.length;)r=n.every((e=>i.intersects(e,t))),i=n.pop();return r},E=(e,t)=>(a("comp",e,t),e=T(e,t),a("caret",e),e=I(e,t),a("tildes",e),e=b(e,t),a("xrange",e),e=R(e,t),a("stars",e),e),y=e=>!e||"x"===e.toLowerCase()||"*"===e,I=(e,t)=>e.trim().split(/\s+/).map((e=>w(e,t))).join(" "),w=(e,t)=>{const r=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(r,((t,r,n,i,s)=>{let o;return a("tilde",e,t,r,n,i,s),y(r)?o="":y(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:y(i)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(a("replaceTilde pr",s),o=`>=${r}.${n}.${i}-${s} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,a("tilde return",o),o}))},T=(e,t)=>e.trim().split(/\s+/).map((e=>A(e,t))).join(" "),A=(e,t)=>{a("caret",e,t);const r=t.loose?c[u.CARETLOOSE]:c[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,i,s,o)=>{let l;return a("caret",e,t,r,i,s,o),y(r)?l="":y(i)?l=`>=${r}.0.0${n} <${+r+1}.0.0-0`:y(s)?l="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:o?(a("replaceCaret pr",o),l="0"===r?"0"===i?`>=${r}.${i}.${s}-${o} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}-${o} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s}-${o} <${+r+1}.0.0-0`):(a("no pr"),l="0"===r?"0"===i?`>=${r}.${i}.${s}${n} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s} <${+r+1}.0.0-0`),a("caret return",l),l}))},b=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>O(e,t))).join(" ")),O=(e,t)=>{e=e.trim();const r=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(r,((r,n,i,s,o,l)=>{a("xRange",e,r,n,i,s,o,l);const c=y(i),u=c||y(s),h=u||y(o),d=h;return"="===n&&d&&(n=""),l=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(s=0),o=0,">"===n?(n=">=",u?(i=+i+1,s=0,o=0):(s=+s+1,o=0)):"<="===n&&(n="<",u?i=+i+1:s=+s+1),"<"===n&&(l="-0"),r=`${n+i}.${s}.${o}${l}`):u?r=`>=${i}.0.0${l} <${+i+1}.0.0-0`:h&&(r=`>=${i}.${s}.0${l} <${i}.${+s+1}.0-0`),a("xRange return",r),r}))},R=(e,t)=>(a("replaceStars",e,t),e.trim().replace(c[u.STAR],"")),N=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),L=e=>(t,r,n,i,s,o,a,l,c,u,h,d,p)=>`${r=y(n)?"":y(i)?`>=${n}.0.0${e?"-0":""}`:y(s)?`>=${n}.${i}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`} ${l=y(c)?"":y(u)?`<${+c+1}.0.0-0`:y(h)?`<${c}.${+u+1}.0-0`:d?`<=${c}.${u}.${h}-${d}`:e?`<${c}.${u}.${+h+1}-0`:`<=${l}`}`.trim(),P=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==o.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},53908:(e,t,r)=>{const n=r(57272),{MAX_LENGTH:i,MAX_SAFE_INTEGER:s}=r(16874),{safeRe:o,t:a}=r(99718),l=r(98587),{compareIdentifiers:c}=r(61123);class u{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return c(r,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],i=e.build[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return c(r,i)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},57414:(e,t,r)=>{const n=r(30144);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},72111:(e,t,r)=>{const n=r(94641),i=r(13999),s=r(35580),o=r(54089),a=r(7059),l=r(25200);e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,c);case"!=":return i(e,r,c);case">":return s(e,r,c);case">=":return o(e,r,c);case"<":return a(e,r,c);case"<=":return l(e,r,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},46170:(e,t,r)=>{const n=r(53908),i=r(30144),{safeRe:s,t:o}=r(99718);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?s[o.COERCERTLFULL]:s[o.COERCERTL];let i;for(;(i=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&i.index+i[0].length===r.index+r[0].length||(r=i),n.lastIndex=i.index+i[1].length+i[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[o.COERCEFULL]:s[o.COERCE]);if(null===r)return null;const a=r[2],l=r[3]||"0",c=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",h=t.includePrerelease&&r[6]?`+${r[6]}`:"";return i(`${a}.${l}.${c}${u}${h}`,t)}},40909:(e,t,r)=>{const n=r(53908);e.exports=(e,t,r)=>{const i=new n(e,r),s=new n(t,r);return i.compare(s)||i.compareBuild(s)}},11763:(e,t,r)=>{const n=r(50560);e.exports=(e,t)=>n(e,t,!0)},50560:(e,t,r)=>{const n=r(53908);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},51832:(e,t,r)=>{const n=r(30144);e.exports=(e,t)=>{const r=n(e,null,!0),i=n(t,null,!0),s=r.compare(i);if(0===s)return null;const o=s>0,a=o?r:i,l=o?i:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c)return l.patch||l.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=c?"pre":"";return r.major!==i.major?u+"major":r.minor!==i.minor?u+"minor":r.patch!==i.patch?u+"patch":"prerelease"}},94641:(e,t,r)=>{const n=r(50560);e.exports=(e,t,r)=>0===n(e,t,r)},35580:(e,t,r)=>{const n=r(50560);e.exports=(e,t,r)=>n(e,t,r)>0},54089:(e,t,r)=>{const n=r(50560);e.exports=(e,t,r)=>n(e,t,r)>=0},93007:(e,t,r)=>{const n=r(53908);e.exports=(e,t,r,i,s)=>{"string"==typeof r&&(s=i,i=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,i,s).version}catch(e){return null}}},7059:(e,t,r)=>{const n=r(50560);e.exports=(e,t,r)=>n(e,t,r)<0},25200:(e,t,r)=>{const n=r(50560);e.exports=(e,t,r)=>n(e,t,r)<=0},32938:(e,t,r)=>{const n=r(53908);e.exports=(e,t)=>new n(e,t).major},46254:(e,t,r)=>{const n=r(53908);e.exports=(e,t)=>new n(e,t).minor},13999:(e,t,r)=>{const n=r(50560);e.exports=(e,t,r)=>0!==n(e,t,r)},30144:(e,t,r)=>{const n=r(53908);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},24493:(e,t,r)=>{const n=r(53908);e.exports=(e,t)=>new n(e,t).patch},31729:(e,t,r)=>{const n=r(30144);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},9970:(e,t,r)=>{const n=r(50560);e.exports=(e,t,r)=>n(t,e,r)},74277:(e,t,r)=>{const n=r(40909);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},97638:(e,t,r)=>{const n=r(78311);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},43927:(e,t,r)=>{const n=r(40909);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},56953:(e,t,r)=>{const n=r(30144);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},99589:(e,t,r)=>{const n=r(99718),i=r(16874),s=r(53908),o=r(61123),a=r(30144),l=r(56953),c=r(57414),u=r(93007),h=r(51832),d=r(32938),p=r(46254),f=r(24493),m=r(31729),g=r(50560),v=r(9970),S=r(11763),E=r(40909),y=r(43927),I=r(74277),w=r(35580),T=r(7059),A=r(94641),b=r(13999),O=r(54089),R=r(25200),N=r(72111),L=r(46170),P=r(93904),x=r(78311),C=r(97638),D=r(77631),_=r(19628),M=r(270),j=r(41261),k=r(13874),U=r(97075),B=r(75571),H=r(5342),F=r(76780),G=r(72525),V=r(75032);e.exports={parse:a,valid:l,clean:c,inc:u,diff:h,major:d,minor:p,patch:f,prerelease:m,compare:g,rcompare:v,compareLoose:S,compareBuild:E,sort:y,rsort:I,gt:w,lt:T,eq:A,neq:b,gte:O,lte:R,cmp:N,coerce:L,Comparator:P,Range:x,satisfies:C,toComparators:D,maxSatisfying:_,minSatisfying:M,minVersion:j,validRange:k,outside:U,gtr:B,ltr:H,intersects:F,simplifyRange:G,subset:V,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},16874:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},57272:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},61123:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),i=t.test(r);return n&&i&&(e=+e,r=+r),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},98587:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},99718:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:s}=r(16874),o=r(57272),a=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={};let h=0;const d="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",s],[d,i]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of p)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),i=h++;o(e,i,t),u[e]=i,c[i]=t,a[i]=new RegExp(t,r?"g":void 0),l[i]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),f("FULL",`^${c[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),f("LOOSE",`^${c[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),f("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",c[u.COERCE],!0),f("COERCERTLFULL",c[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},38357:(e,t,r)=>{"use strict";const n=r(4927),i=Symbol("max"),s=Symbol("length"),o=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),h=Symbol("lruList"),d=Symbol("cache"),p=Symbol("updateAgeOnGet"),f=()=>1;const m=(e,t,r)=>{const n=e[d].get(t);if(n){const t=n.value;if(g(e,t)){if(S(e,n),!e[a])return}else r&&(e[p]&&(n.value.now=Date.now()),e[h].unshiftNode(n));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},v=e=>{if(e[s]>e[i])for(let t=e[h].tail;e[s]>e[i]&&null!==t;){const r=t.prev;S(e,t),t=r}},S=(e,t)=>{if(t){const r=t.value;e[c]&&e[c](r.key,r.value),e[s]-=r.length,e[d].delete(r.key),e[h].removeNode(t)}};class E{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const y=(e,t,r,n)=>{let i=r.value;g(e,i)&&(S(e,r),e[a]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||f;if(this[o]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,v(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,v(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[o]&&(this[o]=e,this[s]=0,this[h].forEach((e=>{e.length=this[o](e.value,e.key),this[s]+=e.length}))),v(this)}get lengthCalculator(){return this[o]}get length(){return this[s]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let r=this[h].tail;null!==r;){const n=r.prev;y(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[h].head;null!==r;){const n=r.next;y(this,e,r,t),r=n}}keys(){return this[h].toArray().map((e=>e.key))}values(){return this[h].toArray().map((e=>e.value))}reset(){this[c]&&this[h]&&this[h].length&&this[h].forEach((e=>this[c](e.key,e.value))),this[d]=new Map,this[h]=new n,this[s]=0}dump(){return this[h].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[h]}set(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[o](t,e);if(this[d].has(e)){if(a>this[i])return S(this,this[d].get(e)),!1;const o=this[d].get(e).value;return this[c]&&(this[u]||this[c](e,o.value)),o.now=n,o.maxAge=r,o.value=t,this[s]+=a-o.length,o.length=a,this.get(e),v(this),!0}const p=new E(e,t,a,n,r);return p.length>this[i]?(this[c]&&this[c](e,t),!1):(this[s]+=p.length,this[h].unshift(p),this[d].set(e,this[h].head),v(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!g(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[h].tail;return e?(S(this,e),e.value):null}del(e){S(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[d].forEach(((e,t)=>m(this,t,!1)))}}},50723:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},4927:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function s(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)r.push(s.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)r.push(s.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;var o=[];for(n=0;s&&n<t;n++)o.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(n=0;n<r.length;n++)s=i(this,s,r[n]);return o},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(50723)(n)}catch(e){}},75571:(e,t,r)=>{const n=r(97075);e.exports=(e,t,r)=>n(e,t,">",r)},76780:(e,t,r)=>{const n=r(78311);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},5342:(e,t,r)=>{const n=r(97075);e.exports=(e,t,r)=>n(e,t,"<",r)},19628:(e,t,r)=>{const n=r(53908),i=r(78311);e.exports=(e,t,r)=>{let s=null,o=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==o.compare(e)||(s=e,o=new n(s,r)))})),s}},270:(e,t,r)=>{const n=r(53908),i=r(78311);e.exports=(e,t,r)=>{let s=null,o=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==o.compare(e)||(s=e,o=new n(s,r)))})),s}},41261:(e,t,r)=>{const n=r(53908),i=r(78311),s=r(35580);e.exports=(e,t)=>{e=new i(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const i=e.set[t];let o=null;i.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!s(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!o||r&&!s(r,o)||(r=o)}return r&&e.test(r)?r:null}},97075:(e,t,r)=>{const n=r(53908),i=r(93904),{ANY:s}=i,o=r(78311),a=r(97638),l=r(35580),c=r(7059),u=r(25200),h=r(54089);e.exports=(e,t,r,d)=>{let p,f,m,g,v;switch(e=new n(e,d),t=new o(t,d),r){case">":p=l,f=u,m=c,g=">",v=">=";break;case"<":p=c,f=h,m=l,g="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let o=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new i(">=0.0.0")),o=o||e,a=a||e,p(e.semver,o.semver,d)?o=e:m(e.semver,a.semver,d)&&(a=e)})),o.operator===g||o.operator===v)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===v&&m(e,a.semver))return!1}return!0}},72525:(e,t,r)=>{const n=r(97638),i=r(50560);e.exports=(e,t,r)=>{const s=[];let o=null,a=null;const l=e.sort(((e,t)=>i(e,t,r)));for(const e of l){n(e,t,r)?(a=e,o||(o=e)):(a&&s.push([o,a]),a=null,o=null)}o&&s.push([o,null]);const c=[];for(const[e,t]of s)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const u=c.join(" || "),h="string"==typeof t.raw?t.raw:String(t);return u.length<h.length?u:t}},75032:(e,t,r)=>{const n=r(78311),i=r(93904),{ANY:s}=i,o=r(97638),a=r(50560),l=[new i(">=0.0.0-0")],c=[new i(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?l:c}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=c}const n=new Set;let i,u,p,f,m,g,v;for(const t of e)">"===t.operator||">="===t.operator?i=h(i,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(i&&u){if(p=a(i.semver,u.semver,r),p>0)return null;if(0===p&&(">="!==i.operator||"<="!==u.operator))return null}for(const e of n){if(i&&!o(e,String(i),r))return null;if(u&&!o(e,String(u),r))return null;for(const n of t)if(!o(e,String(n),r))return!1;return!0}let S=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,E=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver;S&&1===S.prerelease.length&&"<"===u.operator&&0===S.prerelease[0]&&(S=!1);for(const e of t){if(v=v||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,i)if(E&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===E.major&&e.semver.minor===E.minor&&e.semver.patch===E.patch&&(E=!1),">"===e.operator||">="===e.operator){if(f=h(i,e,r),f===e&&f!==i)return!1}else if(">="===i.operator&&!o(i.semver,String(e),r))return!1;if(u)if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),"<"===e.operator||"<="===e.operator){if(m=d(u,e,r),m===e&&m!==u)return!1}else if("<="===u.operator&&!o(u.semver,String(e),r))return!1;if(!e.operator&&(u||i)&&0!==p)return!1}return!(i&&g&&!u&&0!==p)&&(!(u&&v&&!i&&0!==p)&&(!E&&!S))},h=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let i=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},77631:(e,t,r)=>{const n=r(78311);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},13874:(e,t,r)=>{const n=r(78311);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},48932:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path fill="#fff" fill-rule="evenodd" d="M17.5 5a2.5 2.5 0 1 0-2.45-3H4.75a4.25 4.25 0 0 0 0 8.5h10.5a3.25 3.25 0 0 1 0 6.5H4.95a2.5 2.5 0 1 0 0 1h10.3a4.25 4.25 0 0 0 0-8.5H4.75a3.25 3.25 0 1 1 0-6.5h10.3a2.5 2.5 0 0 0 2.45 2m0-1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M4 17.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" clip-rule="evenodd"></path></svg>'},35737:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m14 4-6 8-6-8z"></path></svg>'},23001:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m4 2 8 6-8 6z"></path></svg>'},26490:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M3.154 3.154a.527.527 0 0 1 .746 0l1.317 1.317A8.6 8.6 0 0 1 8 4c2.667 0 5.667 1.333 7 4-.696 1.393-1.847 2.422-3.168 3.087l1.014 1.013a.527.527 0 1 1-.746.746l-1.317-1.317A8.6 8.6 0 0 1 8 12c-2.667 0-5.667-1.333-7-4 .696-1.393 1.847-2.422 3.168-3.087L3.154 3.9a.527.527 0 0 1 0-.746m1.698 2.443C3.726 6.087 2.782 6.882 2 8c1.422 2.033 3.382 3 6 3a8.7 8.7 0 0 0 2.03-.225l-.675-.674A2.5 2.5 0 0 1 5.9 6.644zm6.296 4.805C12.275 9.913 13.218 9.119 14 8c-1.422-2.033-3.382-3-6-3q-1.088 0-2.03.225l.675.674a2.5 2.5 0 0 1 3.457 3.456zM6.5 8c0-.221.048-.431.134-.62l1.987 1.986A1.5 1.5 0 0 1 6.5 8m.88-1.366 1.986 1.987a1.5 1.5 0 0 0-1.987-1.987" clip-rule="evenodd"></path></svg>'},73529:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 12c-2.667 0-5.667-1.333-7-4 1.333-2.667 4.333-4 7-4s5.667 1.333 7 4c-1.333 2.667-4.333 4-7 4m0-7c-2.618 0-4.578.967-6 3 1.422 2.033 3.382 3 6 3s4.578-.967 6-3c-1.422-2.033-3.382-3-6-3m0 5.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5m0-1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3" clip-rule="evenodd"></path></svg>'},98427:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M15 3.5v9c0 1.933-3.134 3.5-7 3.5s-7-1.567-7-3.5v-9C1 1.567 4.134 0 8 0s7 1.567 7 3.5M2 5.304V6.5C2 7.692 4.615 9 8 9s6-1.308 6-2.5V5.304C12.775 6.32 10.546 7 8 7s-4.775-.68-6-1.696M8 10c2.546 0 4.775-.68 6-1.696V9.5c0 1.192-2.615 2.5-6 2.5s-6-1.308-6-2.5V8.304C3.225 9.32 5.454 10 8 10m6 1.304C12.775 12.32 10.546 13 8 13s-4.775-.68-6-1.696V12.5C2 13.692 4.615 15 8 15s6-1.308 6-2.5zM14 3.5C14 4.692 11.385 6 8 6S2 4.692 2 3.5 4.615 1 8 1s6 1.308 6 2.5" clip-rule="evenodd"></path></svg>'},18249:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M1 2h14v12H1zm13 1H2v4h12zm0 5h-3v2h3zm0 3h-3v2h3zm-4 2v-2H6v2zm-5 0v-2H2v2zm-3-3h3V8H2zm8-2v2H6V8z" clip-rule="evenodd"></path></svg>'},31795:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M14 8A6 6 0 1 1 2 8a6 6 0 0 1 12 0m1 0A7 7 0 1 1 1 8a7 7 0 0 1 14 0M5.172 5.879a.5.5 0 0 1 .707-.707L8 7.292l2.121-2.12a.5.5 0 1 1 .707.707L8.708 8l2.12 2.121a.5.5 0 1 1-.707.707L8 8.708l-2.121 2.12a.5.5 0 1 1-.707-.707L7.292 8z" clip-rule="evenodd"></path></svg>'},40904:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M5 1H4v14h1zm7 0h-1v14h1z" clip-rule="evenodd"></path></svg>'},97408:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="m2 1 12 7-12 7zm9.983 6.999L3 2.723v10.553z" clip-rule="evenodd"></path></svg>'},9044:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M6 6.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0zM9.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 1 0v-6a.5.5 0 0 0-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M11 0H5a1 1 0 0 0-1 1v2H.5a.5.5 0 0 0 0 1h1.6l.81 11.1a1 1 0 0 0 .995.9h8.19a1 1 0 0 0 .995-.9L13.9 4h1.6a.5.5 0 0 0 0-1H12V1a1 1 0 0 0-1-1m0 3V1H5v2zm1.895 1h-9.79l.8 11h8.19z" clip-rule="evenodd"></path></svg>'},4644:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M4 3H3v1h1z"></path><path fill="#000" fill-rule="evenodd" d="M1 7V1h6v6zm1-5h4v4H2z" clip-rule="evenodd"></path><path fill="#000" d="M4 10H3v1h1zM4 12H3v1h1zM10 8h1v1h-1zM10 12h1v1h-1z"></path><path fill="#000" fill-rule="evenodd" d="M1 8v6H0v1h16v-1h-2V6H8v8H7V8zm5 6V9H2v5zm7-7v7H9V7z" clip-rule="evenodd"></path><path fill="#000" d="M10 10h1v1h-1z"></path></svg>'},70880:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2 2h5v12H2zM1 14V1h7v13h2.5V4H9V3h2.5v11H14V7h-1.5V6H15v8h1v1H0v-1zM3 3h1v1H3zm1 3H3v1h1zM3 9h1v1H3zm3-6H5v1h1zM5 6h1v1H5zm1 3H5v1h1z" clip-rule="evenodd"></path></svg>'},93509:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2H3v12h5zM2 1v13H0v1h16v-1h-3V8.69l-4-2V1zm7 6.809V14h3V9.309zM5 3H4v1h1zM4 6h1v1H4zm1 3H4v1h1zm1-6h1v1H6zm1 3H6v1h1zM6 9h1v1H6z" clip-rule="evenodd"></path></svg>'},6374:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#151515" fill-rule="evenodd" d="M2 0v9h1V1h7v4h4v4h1V3.6L11.4 0zm12 4h-3V1h.31L14 3.69zM1.5 13.5a1 1 0 1 1 0 2 1 1 0 0 1 0-2M14.57 10h1.05l-1.615 5.059h-.994L11.421 10h1.047l1.044 3.317zM4 11v3h2v1H3v-5h3v1zm4 0v1h2v3H7v-1h2v-1H7v-3h3v1z" clip-rule="evenodd"></path></svg>'},80914:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="m8 0 8 6-8 6-8-6zM1.887 6 8 10.82 14.113 6 8 1.18zM0 9.81.563 9 8 14.775 15.437 9l.563.81L8 16z" clip-rule="evenodd"></path></svg>'},62773:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M16 1.5a1.5 1.5 0 0 1-2.147 1.354l-11 11a1.5 1.5 0 1 1-.707-.707l11-11A1.5 1.5 0 1 1 16 1.5" clip-rule="evenodd"></path></svg>'},53195:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M0 3.307V15l5.722-2.117 4.528 1.937L16 12.693V1l-5.722 2.117L5.75 1.18zm1 10.286V3.974l4-1.48v9.619zm5-1.65 4 1.711V4.057L6 2.346zm5 1.563V3.887l4-1.48v9.619z" clip-rule="evenodd"></path></svg>'},64203:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M4.5 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3m-2 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M15 10.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" clip-rule="evenodd"></path></svg>'},90819:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2.915 1A1.5 1.5 0 1 0 1 2.915v10.17A1.5 1.5 0 1 0 2.915 15h10.17a1.5 1.5 0 1 0 1.276-1.994l-2.272-3.975c.255-.269.411-.632.411-1.031 0-.4-.156-.762-.41-1.031l2.27-3.975q.07.006.14.006a1.5 1.5 0 1 0-1.415-2zm0 13h10.17q.076-.211.207-.389l-2.204-4.114L11 9.5a1.5 1.5 0 1 1 .088-2.997l2.204-4.114A1.5 1.5 0 0 1 13.085 2H2.915c-.151.426-.489.764-.915.915v10.17c.426.151.764.489.915.915" clip-rule="evenodd"></path></svg>'},72529:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8.027 0A8 8 0 1 1 0 8a8 8 0 0 1 8.027-8m-2.07 1.303A7 7 0 0 0 2.256 4h1.6a8.3 8.3 0 0 1 2.103-2.697M3.453 5H1.674a7 7 0 0 0-.656 2.5H3.01q.06-1.336.441-2.5m.56 2.5a8.1 8.1 0 0 1 .5-2.5H7.5v2.5zm-1.001 1H1.018c.062.89.291 1.733.656 2.5h1.778a9.3 9.3 0 0 1-.441-2.5M4.512 11a8.1 8.1 0 0 1-.5-2.5H7.5V11zm-.657 1h-1.6a7 7 0 0 0 3.702 2.697A8.3 8.3 0 0 1 3.855 12M7.5 14.61V12H4.985q.869 1.516 2.515 2.61M7.5 4V1.39Q5.854 2.484 4.985 4zm2.543 10.697A7 7 0 0 0 13.745 12h-1.6a8.3 8.3 0 0 1-2.102 2.697M12.548 11h1.778c.365-.767.594-1.61.656-2.5H12.99a9.3 9.3 0 0 1-.441 2.5m-.56-2.5a8.1 8.1 0 0 1-.5 2.5H8.5V8.5zm1.001-1h1.993a7 7 0 0 0-.656-2.5h-1.778q.381 1.164.441 2.5M11.488 5q.434 1.146.5 2.5H8.5V5zm.657-1h1.6a7 7 0 0 0-3.703-2.697Q11.408 2.473 12.145 4M8.5 1.39Q10.146 2.484 11.015 4H8.5zM8.5 12h2.515q-.869 1.516-2.515 2.61z" clip-rule="evenodd"></path></svg>'},64931:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="m9.513 3.47 4.324 8.03H2.224l3.158-6.948L7.43 7.113zM7.79 8.5h3.296L9.487 5.53zm3.834 1H4.231l-.454 1h8.386zm-4.364-1H4.686l.932-2.052z" clip-rule="evenodd"></path><path fill="#000" fill-rule="evenodd" d="M16 14.29s-3.2-1.6-8 0-8 0-8 0L2.133 1.487a9.74 9.74 0 0 0 5.867 0 9.76 9.76 0 0 1 5.867 0zm-8.316-.95a14.3 14.3 0 0 1 4.524-.762c.853-.002 1.704.088 2.538.267l-1.76-10.559a10.3 10.3 0 0 0-2.28-.272 6.3 6.3 0 0 0-2.334.402 8.3 8.3 0 0 1-3.078.547 12 12 0 0 1-2.353-.24L1.123 13.636c.868.247 1.767.37 2.67.363a12.3 12.3 0 0 0 3.891-.66" clip-rule="evenodd"></path></svg>'},11330:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><g fill="#000" clip-path="url(#a)"><path d="M8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path><path fill-rule="evenodd" d="m11.002 7.002-3 3-3-3v-4a2.893 2.893 0 0 1 3-3 2.893 2.893 0 0 1 3 3zm-3-6h-.038a1.893 1.893 0 0 0-1.963 1.962l.001.018v3.606l2 2 2-2V2.964A1.894 1.894 0 0 0 8.04 1z" clip-rule="evenodd"></path><path d="M4.072 1.908a10.4 10.4 0 0 1-1.939-.433L0 13.077c1.2.504 2.493.746 3.793.711A10.7 10.7 0 0 0 7 13.31v1.678H2v1h11v-1H8v-2a11.9 11.9 0 0 1 4.207-.8A6.62 6.62 0 0 1 16 13.277L13.867 1.674a8.2 8.2 0 0 0-2.236-.61 3.5 3.5 0 0 1 .336 1.066q.514.097 1.009.27l1.72 9.163a8.3 8.3 0 0 0-2.489-.376 12.8 12.8 0 0 0-4.526.852l-.604.204-.363.108a9.7 9.7 0 0 1-2.921.436 9.5 9.5 0 0 1-2.668-.363l1.81-9.697q.53.115 1.068.18v-.173a3.4 3.4 0 0 1 .069-.826"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"></path></clipPath></defs></svg>'},81219:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#151515" fill-rule="evenodd" d="M15 3.6 11.4 0H2v16h13zM14 15H3V1h7v4h4zM11 4h3v-.31L11.31 1H11zM7 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0M5 7.5h7v-1H5z" clip-rule="evenodd"></path><path fill="#000" fill-rule="evenodd" d="M9 10H6v2h3zM5 9v4h5V9z" clip-rule="evenodd"></path></svg>'},54882:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="m13 11-1-6H4l-1 6zM4.847 6l-.25 1.5h1.7l.15-1.5zm-.667 4 .25-1.5h1.768l-.15 1.5zm2.872 0 .15-1.5h1.595l.15 1.5zm2.9 0-.15-1.5h1.768l.25 1.5zm-.25-2.5h1.7l-.25-1.5h-1.6zm-2.4 0h1.396L8.548 6H7.451z" clip-rule="evenodd"></path><path fill="#000" fill-rule="evenodd" d="M8 14.29c4.8-1.6 8 0 8 0L13.867 1.487a9.76 9.76 0 0 0-5.867 0 9.74 9.74 0 0 1-5.867 0L0 14.29s3.2 1.6 8 0m4.208-1.712c-1.54.01-3.067.267-4.524.762-1.253.428-2.567.65-3.891.66a9.5 9.5 0 0 1-2.67-.363L2.941 2.722a12 12 0 0 0 2.353.241 8.3 8.3 0 0 0 3.078-.547 6.3 6.3 0 0 1 2.334-.402c.768.006 1.533.097 2.28.272l1.76 10.56c-.834-.18-1.685-.27-2.538-.268" clip-rule="evenodd"></path></svg>'},71539:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M4 2H2v2h2zM2 1H1v4h4V1H2m-.619 5L0 14.29s3.2 1.6 8 0 8 0 8 0L13.867 1.487a9.76 9.76 0 0 0-5.867 0 9.7 9.7 0 0 1-2 .408v1.048a8.3 8.3 0 0 0 2.372-.527 6.3 6.3 0 0 1 2.334-.402c.768.006 1.533.097 2.28.272l1.76 10.56c-.834-.18-1.685-.27-2.538-.268-1.54.01-3.067.267-4.524.762-1.253.428-2.567.65-3.891.66a9.5 9.5 0 0 1-2.67-.363L2.395 6zM10 5H8v2h2zM7 4v3H4v4h7V4zm-2 6V8h2v2zm3-2h2v2H8z" clip-rule="evenodd"></path></svg>'},78030:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#151515" fill-rule="evenodd" d="M3.793 14.8A9.2 9.2 0 0 1 0 14.089l1.01-5.97v1.866a.99.99 0 0 0 .55.88l-.435 2.572a9.5 9.5 0 0 0 2.668.363 11 11 0 0 0 3.888-.748 12.8 12.8 0 0 1 4.526-.852 8.3 8.3 0 0 1 2.489.376l-.284-1.674c.393-.14.664-.501.688-.917v-.63a1.09 1.09 0 0 0-1.1-1h-.018l-.197-1.162V6a1 1 0 0 0-.326-.73l-.483-2.857a7.2 7.2 0 0 0-2.27-.4 5.9 5.9 0 0 0-2.367.435A7.8 7.8 0 0 1 5.294 3a11.4 11.4 0 0 1-2.359-.26L2.553 5H2.01a.97.97 0 0 0-.497.152l.62-3.664A10.4 10.4 0 0 0 5.294 2c2.688 0 2.721-.986 5.412-.986a8.2 8.2 0 0 1 3.161.674L16 14.29a6.62 6.62 0 0 0-3.793-1.09c-3.665 0-4.749 1.6-8.414 1.6M2.01 9.985h.785v-1.85h.011l1.407 1.85H5v-.3L3.563 7.877 5 6.2v-.18q.002-.01.004-.021h-.796L2.795 7.713V6H2.01zm11.99 0v-.628h-1.215V6H12v3.985zM6 6.02V10h.865V6.73l.013-.012L8.09 10h.865l1.188-3.282h.013V10H11V6.02H9.601l-1.07 3.02h-.014L7.446 6.02z" clip-rule="evenodd"></path></svg>'},52443:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M14 2v12H2V2zm-1 1H3v10h10zm-5 7.5L6 9l-2 1.5L6 12zm2-3.833 2 1.5-2 1.5-2-1.5zM8 5.5 6 4 4 5.5 6 7z" clip-rule="evenodd"></path></svg>'},92618:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#040303" fill-rule="evenodd" d="M7 13v2H2v1h11v-1H8v-2h8L14 1H2L0 13zM2.847 2 1.18 12h3.697a1.58 1.58 0 0 1 .107-1.323A1.37 1.37 0 0 1 4 9.387c0-.165.03-.303.07-.424.032-.094.07-.178.105-.257a1.1 1.1 0 0 0 .115-.34c.029-.282-.084-.321-.084-.575a1.62 1.62 0 0 1 1.591-1.643 1.44 1.44 0 0 1 1.086.47A1.45 1.45 0 0 1 8.266 5.53a1.5 1.5 0 0 1 .453.073q.114.037.221.093a2 2 0 0 1 .555-.606l.094-.064a3 3 0 0 0-.066-.414 1.32 1.32 0 0 1 .32-1.09l.068-.078a1.7 1.7 0 0 1 .468-.353 1.4 1.4 0 0 1 .074-.442c.086-.246.231-.466.422-.643L10.872 2zm3.46 10h3.479l.062-.035c.223-.125.447-.251.447-.541 0-.174-.184-.24-.184-.41 0-.213.127-.341.253-.468.064-.064.127-.127.174-.201a.5.5 0 0 0 .079-.265v-.502a.2.2 0 0 1 .035-.115c.075-.116.26-.178.41-.178a.7.7 0 0 1 .3.088c.095.044.19.089.299.089.242 0 .372-.17.502-.339s.26-.338.501-.338c.11 0 .185.052.245.13.056.073.099.172.142.273.06.141.123.287.23.38a1.48 1.48 0 0 0 .906.432h.3l-1.334-8h-1.175a.5.5 0 0 1 .018.133.43.43 0 0 1-.057.219 1 1 0 0 1-.065.091 1 1 0 0 1-.082.086l-.104.092c-.07.06-.14.12-.195.188a.5.5 0 0 0-.092.16l-.008.028-.008.038a.4.4 0 0 0-.006.076q0 .045.008.097l.017.093.005.026c.016.086.033.176.035.26a.5.5 0 0 1-.011.129c-.035.141-.154.24-.466.218a.3.3 0 0 0-.16.052c-.16.099-.328.31-.304.435l.011.054c.082.397.22 1.069-.371 1.386-.22.12-.34.333-.454.535-.145.257-.28.495-.599.495-.174 0-.293-.09-.413-.18-.119-.09-.238-.18-.411-.18a.45.45 0 0 0-.184.052.47.47 0 0 0-.253.436c0 .367-.308.977-.798.977a.64.64 0 0 1-.617-.308l-.007-.011a1.7 1.7 0 0 0-.252-.375.48.48 0 0 0-.359-.154.617.617 0 0 0-.59.643q.002.11.022.202l.029.12c.026.098.051.196.051.32 0 .194-.077.336-.154.477-.077.142-.154.283-.154.476a.405.405 0 0 0 .437.36q.13-.002.223-.028.085-.024.158-.055a.8.8 0 0 1 .416-.071c.108.01.185.077.237.162a.7.7 0 0 1 .094.289l.003.063c0 .274-.196.47-.392.665-.141.141-.282.283-.35.454-.06.153-.062.33.049.553.06.118.234.173.432.222m8.513 0h-3.645a1.5 1.5 0 0 0 .12-.576q0-.183-.053-.358c.152-.176.263-.383.326-.607l.093.003c.3.002.593-.09.836-.266q.06.066.126.124c.42.411.977.654 1.564.68h.43v-.215z" clip-rule="evenodd"></path></svg>'},14041:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M5.53 6.937v4.356l5.386-1.905-.604-.45.604-.805 2.368 1.479-8.753 3.095V6.888a1.5 1.5 0 1 1 2.055-1.183l.827.482-.731.731-.556-.324c-.167.157-.37.276-.595.343M5.6 5.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0" clip-rule="evenodd"></path><path fill="#000" d="m8.307 7.414-.707.707.707.707.707-.707.707.707.707-.707-.707-.707.707-.707L9.721 6l-.707.707L8.307 6l-.707.707z"></path><path fill="#000" fill-rule="evenodd" d="M8 14.29c4.8-1.6 8 0 8 0L13.867 1.487a9.76 9.76 0 0 0-5.867 0 9.74 9.74 0 0 1-5.867 0L0 14.29s3.2 1.6 8 0m4.208-1.712c-1.54.01-3.067.267-4.524.762-1.253.428-2.567.65-3.891.66a9.5 9.5 0 0 1-2.67-.363L2.941 2.722a12 12 0 0 0 2.353.241 8.3 8.3 0 0 0 3.078-.547 6.3 6.3 0 0 1 2.334-.402c.768.006 1.533.097 2.28.272l1.76 10.56c-.834-.18-1.685-.27-2.538-.268" clip-rule="evenodd"></path></svg>'},74919:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M7 2h2a2 2 0 0 1 2 2v7.817l-3 2.812-3-2.812V4a2 2 0 0 1 2-2m5 2v8.25L8 16l-4-3.75V4a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3M9 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0m1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0" clip-rule="evenodd"></path></svg>'},87442:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 3H3v10h5zM3 2H2v12h7V2H3m1.833 2.834h2.75v.916h-2.75zm2.75 1.833h-2.75v.916h2.75zm2.75 2.75h1.833v.916h-1.833zm1.833 1.833h-1.833v.917h1.833zM4.833 8.5h2.75v.917h-2.75zM14 7.583H9.416V8.5h3.667v4.583H9.416V14H14V7.583" clip-rule="evenodd"></path></svg>'},48964:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="m9.5.332-.641.189-7.5 2.5L1 3.126V12H0v1h7v2H2v1h11v-1H8v-2h8v-1H9.5V6H14v6h1V5H9.5zM8.5 12V1.67L2 3.874V12z" clip-rule="evenodd"></path></svg>'},56431:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 15"><path fill="#fff" fill-rule="evenodd" d="M5 0 1.5.5l1.261 1.261L.867 3.655l-.008.01-.076.08c-.162.168-.454.473-.624.857-.226.511-.243 1.139.16 1.87.408.74 1.084 1.089 1.818 1.064.703-.024 1.41-.386 1.974-.951l4.137-4.363c.134-.132.367-.223.64-.222.278 0 .515.095.651.23.2.196.378.477.42.775.038.269-.023.617-.422 1.016-.81.81-4.006 4.304-5.67 6.134-.263.265-.652.706-.864 1.24-.225.568-.254 1.271.282 1.922.43.524.982.839 1.606.84.614 0 1.193-.305 1.692-.804.414-.414 1.342-1.454 2.172-2.394l.89-1.01.229-.261.53-.597V9.09c.143-.143.415-.366.731-.474a.95.95 0 0 1 .95.159c.095.072.307.309.38.618.06.264.038.647-.428 1.113-.205.204-.46.47-.702.721l-.03.032c-.234.243-.453.47-.608.625l.707.708c.163-.163.387-.396.616-.635l.036-.037c.244-.254.492-.511.688-.707.694-.694.839-1.424.694-2.046-.134-.577-.503-1.001-.744-1.186a1.95 1.95 0 0 0-1.882-.311 3.04 3.04 0 0 0-1.115.713c-.06.06-.403.45-.857.966-.253.288-.541.616-.835.948-.84.951-1.743 1.963-2.129 2.349-.377.378-.717.51-.984.51-.257 0-.546-.123-.835-.474-.25-.304-.25-.601-.124-.92.137-.346.414-.673.65-.909l.009-.008.008-.01c1.672-1.838 4.855-5.318 5.644-6.107.601-.601.791-1.256.705-1.863-.082-.579-.404-1.049-.707-1.348-.365-.359-.877-.516-1.35-.517s-.99.152-1.355.519L3.4 5.882c-.434.432-.91.642-1.297.655-.359.012-.683-.14-.908-.547-.262-.476-.213-.776-.121-.984.091-.207.231-.355.391-.525l.127-.136 1.876-1.877L4.5 3.5z" clip-rule="evenodd"></path></svg>'},67414:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#151515" fill-rule="evenodd" d="M0 14.09 1.2 7h1.014l-1.09 6.437a9.5 9.5 0 0 0 2.669.363 11 11 0 0 0 3.888-.748 12.8 12.8 0 0 1 4.526-.852 8.3 8.3 0 0 1 2.489.376l-1.72-10.163a7.2 7.2 0 0 0-2.27-.399 5.9 5.9 0 0 0-2.367.434q-.165.06-.339.12V1.506a6.9 6.9 0 0 1 2.706-.493 8.2 8.2 0 0 1 3.161.674L16 14.29a6.62 6.62 0 0 0-3.793-1.089c-3.665 0-4.749 1.6-8.414 1.6A9.2 9.2 0 0 1 0 14.089zM4 11V7h4V4h4v7zm4-2.5a.954.954 0 0 1-.995 1.062h-.002L7 10h1zm3 1.5v-.487A2.96 2.96 0 0 1 9.5 10zM9 7h2V5H9zm0 1v1h.5a2.7 2.7 0 0 0 1.5-.721V8zm-4 2h1v-.5c0-.574.312-.889.93-.936l.068-.005L7 8.5c.002-.173.043-.344.119-.5H5zM2 6V1h5v5zm1.564-2.19c.075-.288.228-.55.442-.756a.9.9 0 0 1 .74-.179c.077-.32.226-.62.436-.875H3v2.34a.56.56 0 0 0 .336-.09 1 1 0 0 0 .228-.44M6 2.56a1.26 1.26 0 0 0-.297.609 1 1 0 0 1-.279.544.87.87 0 0 1-.756.161l-.05-.009q-.065.135-.11.276c-.09.328-.268.625-.516.859H6z" clip-rule="evenodd"></path></svg>'},8816:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M5 1H2v1h3zM0 14.09 1.2 7h1.014l-1.09 6.437a9.5 9.5 0 0 0 2.669.363 11 11 0 0 0 3.888-.748 12.8 12.8 0 0 1 4.526-.852 8.3 8.3 0 0 1 2.489.376l-1.72-10.163a7.2 7.2 0 0 0-2.27-.399 5.9 5.9 0 0 0-2.367.434q-.165.06-.339.12V1.506a6.9 6.9 0 0 1 2.706-.493 8.2 8.2 0 0 1 3.161.674L16 14.29a6.62 6.62 0 0 0-3.793-1.089c-1.833 0-3.02.4-4.207.8s-2.375.8-4.207.8A9.2 9.2 0 0 1 0 14.09M2 3h5v1H2zm6 3V5H2v1z" clip-rule="evenodd"></path></svg>'},68629:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M6 3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m1 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0M0 14.09 1.2 7h1.014l-1.09 6.437a9.5 9.5 0 0 0 2.669.363 11 11 0 0 0 3.888-.748 12.8 12.8 0 0 1 4.526-.852 8.3 8.3 0 0 1 2.489.376l-1.72-10.163a7.2 7.2 0 0 0-2.27-.399 5.9 5.9 0 0 0-2.367.434q-.165.06-.339.12V1.506a6.9 6.9 0 0 1 2.706-.493 8.2 8.2 0 0 1 3.161.674L16 14.29a6.62 6.62 0 0 0-3.793-1.089c-1.833 0-3.02.4-4.207.8s-2.375.8-4.207.8A9.2 9.2 0 0 1 0 14.09M10 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 1a2 2 0 1 0 0-4 2 2 0 0 0 0 4m-3.223.916 1.5-1-.554-.832-1.5 1zm.444-5.798 1.092.898-.635.773-1.093-.899zM5 11.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m1 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" clip-rule="evenodd"></path></svg>'},70133:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M6 2H3v3h3zM2 1v5h5V1zM0 14.09c1.2.503 2.493.746 3.793.711 1.832 0 3.02-.4 4.207-.8s2.374-.8 4.207-.8A6.62 6.62 0 0 1 16 14.291L13.867 1.686a8.2 8.2 0 0 0-3.161-.674A6.9 6.9 0 0 0 8 1.506v1.062q.174-.06.339-.12a5.9 5.9 0 0 1 2.367-.434c.773.01 1.54.146 2.27.4l1.72 10.162a8.3 8.3 0 0 0-2.489-.376 12.8 12.8 0 0 0-4.526.852c-1.24.484-2.557.737-3.888.748a9.5 9.5 0 0 1-2.669-.363L2.214 7H1.2zM11 5H9v2h2zM8 4v3H5v4h7V4zm-2 6V8h2v2zm3-2h2v2H9z" clip-rule="evenodd"></path></svg>'},45508:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14" clip-rule="evenodd"></path></svg>'},30563:e=>{e.exports="data:image/png;base64,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"},95684:e=>{e.exports="data:image/png;base64,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"},22089:e=>{"use strict";e.exports=s},50152:e=>{"use strict";e.exports=a},59620:e=>{"use strict";e.exports=l},62686:e=>{"use strict";e.exports=r},79244:e=>{"use strict";e.exports=n},68972:e=>{"use strict";e.exports=o},14321:e=>{"use strict";e.exports=i},30430:e=>{"use strict";e.exports=JSON.parse('{"Dateline Standard Time":-12,"UTC-11":-11,"Hawaiian Standard Time":-10,"Alaskan Standard Time":-9,"Pacific Standard Time":-8,"Pacific Standard Time (Mexico)":-8,"Mountain Standard Time":-7,"Mountain Standard Time (Mexico)":-7,"US Mountain Standard Time":-7,"Canada Central Standard Time":-6,"Central America Standard Time":-6,"Central Standard Time":-6,"Central Standard Time (Mexico)":-6,"Eastern Standard Time":-5,"SA Pacific Standard Time":-5,"US Eastern Standard Time":-5,"Venezuela Standard Time":-3.5,"Atlantic Standard Time":-4,"Central Brazilian Standard Time":-4,"Pacific SA Standard Time":-4,"SA Western Standard Time":-4,"Paraguay Standard Time":-4,"Newfoundland Standard Time":-2.5,"E. South America Standard Time":-3,"Greenland Standard Time":-3,"Montevideo Standard Time":-3,"SA Eastern Standard Time":-3,"Argentina Standard Time":-3,"Mid-Atlantic Standard Time":-2,"UTC-2":-2,"Azores Standard Time":-1,"Cabo Verde Standard Time":-1,"GMT Standard Time":0,"Greenwich Standard Time":0,"Morocco Standard Time":0,"UTC":0,"Central Europe Standard Time":1,"Central European Standard Time":1,"Romance Standard Time":1,"W. Central Africa Standard Time":1,"W. Europe Standard Time":1,"Namibia Standard Time":1,"E. Europe Standard Time":2,"Egypt Standard Time":2,"FLE Standard Time":2,"GTB Standard Time":2,"Israel Standard Time":2,"Jordan Standard Time":2,"Middle East Standard Time":2,"South Africa Standard Time":2,"Syria Standard Time":2,"Turkey Standard Time":2,"Arab Standard Time":3,"Arabic Standard Time":3,"E. Africa Standard Time":3,"Kaliningrad Standard Time":3,"Iran Standard Time":3.5,"Russian Standard Time":4,"Arabian Standard Time":4,"Azerbaijan Standard Time":4,"Caucasus Standard Time":4,"Georgian Standard Time":4,"Mauritius Standard Time":4,"Afghanistan Standard Time":4.5,"West Asia Standard Time":5,"Pakistan Standard Time":5,"India Standard Time":5.5,"Sri Lanka Standard Time":5.5,"Nepal Standard Time":5,"Ekaterinburg Standard Time":6,"Central Asia Standard Time":6,"Bangladesh Standard Time":6,"Myanmar Standard Time":6.5,"N. Central Asia Standard Time":7,"SE Asia Standard Time":7,"North Asia Standard Time":8,"China Standard Time":8,"Singapore Standard Time":8,"Taipei Standard Time":8,"W. Australia Standard Time":8,"Ulaanbaatar Standard Time":8,"North Asia East Standard Time":9,"Korea Standard Time":9,"Tokyo Standard Time":9,"AUS Central Standard Time":9.5,"Cen. Australia Standard Time":9.5,"Yakutsk Standard Time":10,"AUS Eastern Standard Time":10,"E. Australia Standard Time":10,"Tasmania Standard Time":10,"West Pacific Standard Time":10,"Vladivostok Standard Time":11,"Central Pacific Standard Time":11,"Magadan Standard Time":12,"Fiji Standard Time":12,"New Zealand Standard Time":12,"UTC+12":12,"Tonga Standard Time":13,"Samoa Standard Time":-11}')},32528:e=>{"use strict";e.exports=JSON.parse('{"exbVersion":"1.15.0","exbBuildNum":"VERSION_NAME_FROM_JENKINS","exbBuildCommit":"EXB_GIT_COMMIT_HASH","exbBuildBranch":"EXB_BRANCH","exbExtensionsBuildCommit":"EXB_EXT_GIT_COMMIT_HASH","exbExtensionsBuildBranch":"EXB_EXT_BRANCH","exbBuildDate":"BUILD_DATE_FROM_JENKINS","productVersion":"ArcGIS Experience Builder"}')}},t={};function c(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,c),i.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="";var u={};return c.p=window.jimuConfig.baseUrl,(()=>{"use strict";c.r(u),c.d(u,{__set_webpack_public_path__:()=>wu,default:()=>Iu});var e,t,r,n,i,s=c(62686),o=c(79244),a=c(14321);function l(e,t,r,n){const i=e.sys.color.surface.paper;return o.css`
    .empty-content{
        height:100%;
        width:100%;
        display: flex;
        flex-direction:column;
        align-items: center;
        justify-content:center;
        .info-txt{
          margin-top: 6px;
          color:${e.sys.color.surface.paperHint};
          text-align: center;
        }
    }
    .widget-track-panel{
      height:40px;
      line-height: 40px;
      width:100%;
      background-color: ${i};
      display:flex;
      align-items: center;
      justify-content:space-between;
    }
    .tool-dividing-line{
        height: 16px;
        width: 1px;
        display: inline-flex;
        background-color: ${e.sys.color.divider.secondary};
        margin: 8px 4px;
    }
    .header-section{
        position: relative;
        width: 100%;
        height: 32px;
        display: flex;
        flex: 0 0 auto;
        justify-content: space-between;
        .left,.right{
          display:flex;
          justify-content: left;
          align-items: center;
          .track-name{
            margin-left:8px;
            font-weight: 500;
            font-size: 16px;
            color:${e.sys.color.surface.paperText};
          }
          .track-icon{
            width:16px;
            height:16px;
            color:${e.sys.color.surface.paperText};
          }
        } 
        .del-icon{
          height: 16px;
          width:16px;
          cursor: pointer;
        }
    }
    .widget-track{
        width: calc(100% - 32px);
        height: calc(100% - 24px);
        display: inline-block;
        ${n&&"min-height: 430px;"};
        ${r&&"min-width: 360px;"};
        display: flex;
        flex-direction: column;
        height: 100%;
        width:100%;
        background-color: ${i};
      .warning-inaccessible{
        position: absolute;
        left: 0.25rem;
        right: 0.25rem;
        top: 0.25rem;
        width: auto;
        z-index:100;
      }
      .btn-content{
        flex: 0 0 auto;
        width: 100%;
        height: 30px;
        margin-top: 16px;
        .btn{
          height: 30px;
          line-height: 30px;
          width: 100%;
          padding: 0;
        }
      }
      .track-list-items{
        padding-top:16px;
        padding-bottom: 16px;
        margin:0;
      }
    }  
`}!function(e){e.Panel="PANEL",e.Toolbar="TOOLBAR"}(e||(e={})),function(e){e.Distance="DISTANCE",e.Time="TIME"}(t||(t={})),function(e){e.ft="FT",e.m="M"}(r||(r={})),function(e){e.sec="S"}(n||(n={})),function(e){e.DD="DD",e.DMS="DMS"}(i||(i={}));const h="My Location (beta)",d="Locations",p="The location cannot be retrieved.",f="The path cannot be generated.",m="Activate the widget to retrieve records.",g="No paths have been generated at this time.",v="Clear results",S="Delete the record",E="Show from the Map",y="Hide from the Map",I="Locations",w="Paths",T="Path",A="Trace a path",b="Get location",O="Start watching",R="End watching",N="Are you sure you wish to delete the record(s)?",L="Timestamp",P="Longitude",x="Latitude",C="Altitude",D="Orientation",_="Speed",M="Accuracy",j="Start Time",k="End Time",U="Average Altitude",B="Average Speed",H="Average Accuracy",F="m/s",G="\xb0",V="meters";var W,z=c(22089),$=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){e.CREATE="CREATE",e.ADD="ADD",e.DELETE="DELETE",e.UPDATE="UPDATE",e.CLEAR="CLEAR",e.REFRESH="REFRESH"}(W||(W={}));const K={jimuName:"ObjectID",name:"ObjectID",type:o.JimuFieldType.Number,esriType:o.EsriFieldType.GUID,alias:"ObjectID"},q={jimuName:"Time",name:"Time",type:o.JimuFieldType.Date,esriType:o.EsriFieldType.Date,alias:"Time",format:{dateFormat:"shortDateLongTime24"}},X={jimuName:"Longitude",name:"Longitude",type:o.JimuFieldType.Number,esriType:o.EsriFieldType.Double,alias:"Longitude"},Y={jimuName:"Latitude",name:"Latitude",type:o.JimuFieldType.Number,esriType:o.EsriFieldType.Double,alias:"Latitude"},J={jimuName:"Altitude",name:"Altitude",type:o.JimuFieldType.Number,esriType:o.EsriFieldType.Double,alias:"Altitude"},Q={jimuName:"Orientation",name:"Orientation",type:o.JimuFieldType.Number,esriType:o.EsriFieldType.Double,alias:"Orientation"},Z={jimuName:"Speed",name:"Speed",type:o.JimuFieldType.Number,esriType:o.EsriFieldType.Double,alias:"Speed"},ee={jimuName:"Accuracy",name:"Accuracy",type:o.JimuFieldType.Number,esriType:o.EsriFieldType.Double,alias:"Accuracy"},te={jimuName:"LineId",name:"LineId",type:o.JimuFieldType.Number,esriType:o.EsriFieldType.Integer,alias:"LineID"},re={jimuName:"StartTime",name:"StartTime",type:o.JimuFieldType.Date,esriType:o.EsriFieldType.Date,alias:"StartTime",format:{dateFormat:"shortDateLongTime24"}},ne={jimuName:"EndTime",name:"EndTime",type:o.JimuFieldType.Date,esriType:o.EsriFieldType.Date,alias:"EndTime",format:{dateFormat:"shortDateLongTime24"}},ie={jimuName:"AverageAltitude",name:"AverageAltitude",type:o.JimuFieldType.Number,esriType:o.EsriFieldType.Double,alias:"AverageAltitude"},se={jimuName:"AverageSpeed",name:"averageSpeed",type:o.JimuFieldType.Number,esriType:o.EsriFieldType.Double,alias:"AverageSpeed"},oe={jimuName:"AverageAccuracy",name:"AverageAccuracy",type:o.JimuFieldType.Number,esriType:o.EsriFieldType.Double,alias:"AverageAccuracy"},ae=(e,t="",r="")=>{const n=((e,t)=>{let r;return q.alias=t.formatMessage({id:"trackTime",defaultMessage:L}),X.alias=t.formatMessage({id:"trackLongitude",defaultMessage:P}),Y.alias=t.formatMessage({id:"trackLatitude",defaultMessage:x}),J.alias=t.formatMessage({id:"trackAltitude",defaultMessage:C}),Q.alias=t.formatMessage({id:"trackOrientation",defaultMessage:D}),Z.alias=t.formatMessage({id:"trackSpeed",defaultMessage:_}),ee.alias=t.formatMessage({id:"trackAccuracy",defaultMessage:M}),re.alias=t.formatMessage({id:"trackStartTime",defaultMessage:j}),ne.alias=t.formatMessage({id:"trackEndTime",defaultMessage:k}),ie.alias=t.formatMessage({id:"averageAltitude",defaultMessage:U}),se.alias=t.formatMessage({id:"averageSpeed",defaultMessage:B}),oe.alias=t.formatMessage({id:"averageAccuracy",defaultMessage:H}),"track"===e?r={[K.jimuName]:K,[q.jimuName]:q,[X.jimuName]:X,[Y.jimuName]:Y,[J.jimuName]:J,[Q.jimuName]:Q,[Z.jimuName]:Z,[ee.jimuName]:ee}:"trackline_point"===e?r={[K.jimuName]:K,[te.jimuName]:te,[q.jimuName]:q,[X.jimuName]:X,[Y.jimuName]:Y,[J.jimuName]:J,[Q.jimuName]:Q,[Z.jimuName]:Z,[ee.jimuName]:ee}:"trackline"===e&&(r={[K.jimuName]:K,[re.jimuName]:re,[ne.jimuName]:ne,[ie.jimuName]:ie,[se.jimuName]:se,[oe.jimuName]:oe}),r})(r,e);return{label:t,idField:K.jimuName,fields:n}},le=(e,t,r,n,i,...s)=>$(void 0,[e,t,r,n,i,...s],void 0,(function*(e,t,r,n,i,s=!0){if(!t||!r)return;let o=r.getJimuLayerViewByDataSourceId(t);if(o)if(e===W.ADD)yield o.layer.applyEdits({addFeatures:n});else if(e===W.DELETE){const e=yield o.layer.queryFeatures(),t=n.map((e=>e.attributes.ObjectID));if(e.features.length>0){const r=e.features.filter((e=>t.includes(e.getObjectId())));r.length>0&&(yield o.layer.applyEdits({deleteFeatures:r}))}}else if(e===W.UPDATE)yield o.layer.applyEdits({updateFeatures:n});else if(e===W.CLEAR){const e=o.getLayerDataSource().getRecords().map((e=>e.toJson()));yield o.layer.applyEdits({deleteFeatures:e.map((e=>z.default.fromJSON(e)))})}else{const e=o.getLayerDataSource().getRecords().map((e=>e.toJson()));yield o.layer.applyEdits({addFeatures:n,deleteFeatures:e.map((e=>z.default.fromJSON(e)))})}else o=yield r.addLayerToMap(t,t+"__layer"),o.layer.visible=s,i&&(o.layer.renderer=i)})),ce=(e,t)=>{if(t&&e){const r=e.getJimuLayerViewByDataSourceId(t);if(r){const t=r.getLayerDataSource();e.removeJimuLayerView(r),t&&(t.clearRecords(),null==t||t.setStatus(o.DataSourceStatus.NotReady),null==t||t.setCountStatus(o.DataSourceStatus.NotReady))}}},ue=(e,t,r)=>0===t.length?(e.clearRecords(),null==e||e.setStatus(o.DataSourceStatus.NotReady),void(null==e||e.setCountStatus(o.DataSourceStatus.NotReady))):null==e?void 0:e.setSourceFeatures(t,{geometryType:r}),he=(e,t,r)=>{e&&s.zoomToUtils.zoomTo(e.view,t,{scale:r})},de=e=>{const t=e,r={type:"point",x:e.Longitude,y:e.Latitude};return z.default.fromJSON({geometry:r,attributes:t})},pe=(e,t)=>{const r=e,n=t.map((e=>[e.Longitude,e.Latitude]));1===t.length&&n.push([t[0].Longitude,t[0].Latitude]);const i={type:"polyline",paths:[n]};return z.default.fromJSON({geometry:i,attributes:r})};var fe=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const me=e=>{const{widgetId:t,dataSourceId:r,onCreate:n,jimuMapView:i,layerVisible:s}=e,[a,l]=o.React.useState(null),[c,u]=o.React.useState(e.highlightLocation),h=o.hooks.useLatest(n),d={type:"simple",symbol:{type:"simple-marker",size:10,color:e.symbolColor||"#007AC2",outline:null}};o.React.useEffect((()=>{f(a,e.operation)}),[e.records]),o.React.useEffect((()=>{const t={type:"simple",symbol:{type:"simple-marker",size:10,color:e.symbolColor,outline:null}};if(i){const e=i.getJimuLayerViewByDataSourceId(r);e&&(e.layer.renderer=t)}}),[e.symbolColor]);const p=o.React.useMemo((()=>{if(r)return(0,o.Immutable)({dataSourceId:r,mainDataSourceId:r})}),[r]),f=(t,n)=>fe(void 0,void 0,void 0,(function*(){if(!t)return;if(0===e.records.length)return void(e.highlightLocation&&ce(i,r));const a=[];if(e.records.forEach((e=>fe(void 0,void 0,void 0,(function*(){const t=de(e);a.push(t)})))),yield ue(t,a,"point"),e.highlightLocation){const t=e.operRecords.map((e=>de(e)));n!==W.DELETE&&n!==W.UPDATE||(n=W.DELETE),e.highlightLocation!==c?(le(W.CREATE,r,i,t,d,s),u(e.highlightLocation)):le(n,r,i,t,d,s)}else ce(i,r);null==t||t.setStatus(o.DataSourceStatus.Unloaded),null==t||t.setCountStatus(o.DataSourceStatus.Unloaded)}));return o.React.createElement(o.DataSourceComponent,{query:{where:"1=1",outFields:["*"],returnGeometry:!0},queryCount:!0,widgetId:t,useDataSource:p,onDataSourceCreated:e=>{var t;l(e),f(e,W.CREATE),null===(t=h.current)||void 0===t||t.call(h,e)},onSelectionChange:t=>{t&&e.onHandleSelection(Array.from(t),"point")},onDataSourceStatusChange:t=>{if(t===o.DataSourceStatus.Loaded&&a){const t=a.getRecords().map((e=>e.getData().ObjectID));e.onHandleFilter(t,"point")}}})},ge=!1,ve=e.Panel,Se=!0,Ee=5e4,ye=!0,Ie={TYPE:t.Distance,UNIT:r.ft,INTERVAL:15};var we;!function(e){e[e.Time=0]="Time",e[e.Longitude=1]="Longitude",e[e.Latitude=2]="Latitude",e[e.Altitude=3]="Altitude",e[e.Orientation=4]="Orientation",e[e.Speed=5]="Speed",e[e.Accuracy=6]="Accuracy"}(we||(we={}));const Te=["Time","Altitude","Orientation","Speed","Accuracy","Latitude","Longitude"],Ae=["StartTime","EndTime","AverageAltitude","AverageSpeed","AverageAccuracy"],be=[{storeName:"location",indexName:"timeIndex",indexKey:"Time",keyPath:"ObjectID"},{storeName:"path-point",indexName:"lineIdIndex",indexKey:"LineId",keyPath:"ObjectID"},{storeName:"path",indexName:"timeIndex",indexKey:"EndTime",keyPath:"ObjectID"}];var Oe,Re,Ne,Le,Pe,xe,Ce,De;c(17390);!function(e){e.Small="SMALL",e.Medium="MEDIUM",e.Large="LARGE"}(Oe||(Oe={})),function(e){e.String="STRING",e.Number="NUMBER",e.Date="DATE"}(Re||(Re={})),function(e){e.Blob="esriFieldTypeBlob",e.Date="esriFieldTypeDate",e.Double="esriFieldTypeDouble",e.Geometry="esriFieldTypeGeometry",e.GlobalID="esriFieldTypeGlobalID",e.GUID="esriFieldTypeGUID",e.Integer="esriFieldTypeInteger",e.OID="esriFieldTypeOID",e.Raster="esriFieldTypeRaster",e.Single="esriFieldTypeSingle",e.SmallInteger="esriFieldTypeSmallInteger",e.String="esriFieldTypeString",e.XML="esriFieldTypeXML"}(Ne||(Ne={})),function(e){e.Fetching="FETCHING",e.Success="SUCCESS",e.Error="ERROR"}(Le||(Le={})),function(e){e.Design="DESIGN",e.Run="RUN",e.Express="EXPRESS"}(Pe||(Pe={})),function(e){e.Opened="OPENED",e.Active="ACTIVE",e.Closed="CLOSED"}(xe||(xe={})),function(e){e.None="NONE",e.Page="PAGE",e.Dialog="DIALOG",e.View="VIEW",e.WebAddress="WEB_ADDRESS",e.Block="BLOCK",e.Screen="SCREEN",e.PageTop="PAGE_TOP",e.PrintPreview="PRINT_PREVIEW",e.CookieBanner="COOKIE_BANNER"}(Ce||(Ce={})),function(e){e.Normal="NORMAL",e.Layout="LAYOUT"}(De||(De={}));var _e,Me;!function(e){e.Header="HEADER",e.Footer="FOOTER",e.Body="BODY"}(_e||(_e={})),function(e){e.Http="http:",e.Https="https:"}(Me||(Me={}));var je,ke,Ue,Be,He;!function(e){e.Image="IMAGE",e.Config="CONFIG"}(je||(je={})),function(e){e.Primary="PRIMARY",e.Secondary="SECONDARY",e.Donut="DONUT",e.Bar="BAR",e.DotsPrimary="DOTS_PRIMARY",e.DotsSecondary="DOTS_SECONDARY"}(ke||(ke={})),function(e){e.NotCreated="NOT_CREATED",e.Created="CREATED",e.CreateError="CREATE_ERROR",e.NotReady="NOT_READY",e.Unloaded="UNLOADED",e.Loading="LOADING",e.Loaded="LOADED",e.LoadError="LOAD_ERROR",e.Saving="SAVING",e.Saved="SAVED",e.SaveError="SAVE_ERROR",e.Closed="CLOSED",e.Connecting="CONNECTING",e.Connected="CONNECTED",e.Closing="CLOSING"}(Ue||(Ue={})),function(e){e.Error="ERROR",e.SimpleLocal="SIMPLE_LOCAL",e.CSV="CSV",e.FeatureLayer="FEATURE_LAYER",e.SceneLayer="SCENE_LAYER",e.GroupLayer="GROUP_LAYER",e.FeatureService="FEATURE_SERVICE",e.MapService="MAP_SERVICE",e.SceneService="SCENE_SERVICE",e.VectorTileService="VECTOR_TILE_SERVICE",e.GeoJSON="GEO_JSON",e.KML="KML",e.WFS="WFS",e.WMS="WMS",e.WMTS="WMTS",e.BuildingSceneLayer="building-scene",e.BuildingGroupSubLayer="building-group",e.BuildingComponentSubLayer="building-component",e.OrientedImageryLayer="ORIENTED_IMAGERY_LAYER",e.ImageryLayer="IMAGERY_LAYER",e.ImageryTileLayer="IMAGERY_TILE_LAYER",e.ElevationLayer="ELEVATION_LAYER"}(Be||(Be={})),function(e){e.Map="MAP",e.WebMap="WEB_MAP",e.WebScene="WEB_SCENE"}(He||(He={}));Object.assign(Object.assign({},Be),He);var Fe,Ge,Ve,We,ze,$e,Ke,qe,Xe,Ye;!function(e){e.FeatureLayer="Feature Layer",e.Table="Table",e.GroupLayer="Group Layer",e.OrientedImageryLayer="Oriented Imagery Layer",e.SceneLayerPoint="Point",e.SceneLayer3DObject="3DObject",e.BuildingSceneLayer="Building",e.BuildingGroupSubLayer="building-group",e.BuildingComponentSubLayer="building-component"}(Fe||(Fe={})),function(e){e.FeatureService="FeatureServer",e.MapService="MapServer",e.SceneService="SceneServer",e.ImageService="ImageServer",e.VectorTileService="VectorTileServer"}(Ge||(Ge={})),function(e){e.WebMap="Web Map",e.WebScene="Web Scene",e.FeatureService="Feature Service",e.MapService="Map Service",e.SceneService="Scene Service",e.ImageService="Image Service",e.VectorTileService="Vector Tile Service",e.FeatureCollection="Feature Collection",e.GroupLayer="Group Layer",e.CSV="CSV",e.GeoJSON="GeoJson",e.KML="KML",e.WFS="WFS",e.WMS="WMS",e.WMTS="WMTS",e.GeometryService="Geometry Service",e.GeocodingService="Geocoding Service",e.GeoprocessingService="Geoprocessing Service",e.NetworkAnalysisService="Network Analysis Service",e.GeoenrichmentService="Geoenrichment service"}(Ve||(Ve={})),function(e){e.FeatureLayer="feature",e.MapImageLayer="map-image",e.TileLayer="tile",e.GroupLayer="group",e.SceneLayer="scene",e.ImageryLayer="imagery",e.ImageryTileLayer="imagery-tile",e.ElevationLayer="elevation",e.OrientedImageryLayer="oriented-imagery",e.VectorTileLayer="vector-tile",e.KMLLayer="kml",e.CSVLayer="csv",e.GeoJSONLayer="geojson",e.WFSLayer="wfs",e.WMSLayer="wms",e.WMTSLayer="wmts",e.BuildingSceneLayer="building-scene",e.BuildingComponentSubLayer="building-component",e.BuildingGroupSubLayer="building-group"}(We||(We={})),function(e){e.FeatureLayer="ArcGISFeatureLayer",e.SceneLayer="ArcGISSceneServiceLayer",e.GroupLayer="GroupLayer",e.MapService="ArcGISMapServiceLayer",e.TiledMapService="ArcGISTiledMapServiceLayer",e.VectorTileService="VectorTileLayer",e.ImageService="ArcGISImageServiceLayer",e.TiledImageService="ArcGISTiledImageServiceLayer",e.CSV="CSV",e.GeoJSON="GeoJSON",e.KML="KML",e.WFS="WFS",e.WMS="WMS"}(ze||(ze={}));Error;!function(e){e.InAllData="IN_ALL_DATA",e.InRemoteConfigView="IN_REMOTE_CONFIG_VIEW",e.InConfigView="IN_CONFIG_VIEW",e.InRuntimeView="IN_RUNTIME_VIEW"}($e||($e={})),function(e){e.New="New",e.AddToCurrent="AddToCurrent",e.RemoveFromCurrent="RemoveFromCurrent",e.SelectFromCurrent="SelectFromCurrent"}(Ke||(Ke={})),function(e){e.DataSelection="dataSelection"}(qe||(qe={})),function(e){e.Widgets="widgets",e.Data_s="data_s"}(Xe||(Xe={})),function(e){e.Id="id",e.Where="where",e.Geometry="geometry",e.SpatialRel="spatialRel"}(Ye||(Ye={}));const Je={};Je[Oe.Large]=[{width:1024,height:768},{width:1280,height:800},{width:1280,height:1024},{width:1366,height:768},{width:1440,height:900},{width:1536,height:864},{width:1600,height:900},{width:1920,height:1080}],Je[Oe.Medium]=[{width:601,height:962},{width:600,height:1024},{width:768,height:1024},{width:800,height:1280},{width:834,height:1112}],Je[Oe.Small]=[{width:360,height:640},{width:360,height:720},{width:360,height:740},{width:375,height:667},{width:414,height:736}];const Qe="exb_user_locale";var Ze,et;!function(e){e.Now="NOW",e.Min="MIN",e.Max="MAX",e.Today="TODAY",e.Tomorrow="TOMORROW",e.Yesterday="YESTERDAY",e.ThisWeek="THIS_WEEK",e.ThisMonth="THIS_MONTH",e.ThisQuarter="THIS_QUARTER",e.ThisYear="THIS_YEAR"}(Ze||(Ze={})),function(e){e.Minute="MINUTE",e.Hour="HOUR",e.Day="DAY",e.Week="WEEK",e.Month="MONTH",e.Year="YEAR"}(et||(et={}));var tt=function(e,t){return tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},tt(e,t)};function rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}tt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var nt=function(){return nt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nt.apply(this,arguments)};function it(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}Object.create;function st(e,t,r){if(r||2===arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var ot,at,lt;function ct(e){return e.type===at.literal}function ut(e){return e.type===at.argument}function ht(e){return e.type===at.number}function dt(e){return e.type===at.date}function pt(e){return e.type===at.time}function ft(e){return e.type===at.select}function mt(e){return e.type===at.plural}function gt(e){return e.type===at.pound}function vt(e){return e.type===at.tag}function St(e){return!(!e||"object"!=typeof e||e.type!==lt.number)}function Et(e){return!(!e||"object"!=typeof e||e.type!==lt.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(ot||(ot={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(at||(at={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(lt||(lt={}));var yt=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,It=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function wt(e){var t={};return e.replace(It,(function(e){var r=e.length;switch(e[0]){case"G":t.era=4===r?"long":5===r?"narrow":"short";break;case"y":t.year=2===r?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===r?"long":5===r?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][r-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][r-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][r-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][r-1];break;case"s":t.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var Tt=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var At=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,bt=/^(@+)?(\+|#+)?[rs]?$/g,Ot=/(\*)(0+)|(#+)(0+)|(0+)/g,Rt=/^(0+)$/;function Nt(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(bt,(function(e,r,n){return"string"!=typeof n?(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length):"+"===n?t.minimumSignificantDigits=r.length:"#"===r[0]?t.maximumSignificantDigits=r.length:(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length+("string"==typeof n?n.length:0)),""})),t}function Lt(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Pt(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var r=e.slice(0,2);if("+!"===r?(t.signDisplay="always",e=e.slice(2)):"+?"===r&&(t.signDisplay="exceptZero",e=e.slice(2)),!Rt.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function xt(e){var t=Lt(e);return t||{}}function Ct(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=nt(nt(nt({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return nt(nt({},e),xt(t))}),{}));continue;case"engineering":t=nt(nt(nt({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return nt(nt({},e),xt(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"rounding-mode-floor":t.roundingMode="floor";continue;case"rounding-mode-ceiling":t.roundingMode="ceil";continue;case"rounding-mode-down":t.roundingMode="trunc";continue;case"rounding-mode-up":t.roundingMode="expand";continue;case"rounding-mode-half-even":t.roundingMode="halfEven";continue;case"rounding-mode-half-down":t.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":t.roundingMode="halfExpand";continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(Ot,(function(e,r,n,i,s,o){if(r)t.minimumIntegerDigits=n.length;else{if(i&&s)throw new Error("We currently do not support maximum integer digits");if(o)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(Rt.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(At.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(At,(function(e,r,n,i,s,o){return"*"===n?t.minimumFractionDigits=r.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:s&&o?(t.minimumFractionDigits=s.length,t.maximumFractionDigits=s.length+o.length):(t.minimumFractionDigits=r.length,t.maximumFractionDigits=r.length),""}));var s=i.options[0];"w"===s?t=nt(nt({},t),{trailingZeroDisplay:"stripIfInteger"}):s&&(t=nt(nt({},t),Nt(s)))}else if(bt.test(i.stem))t=nt(nt({},t),Nt(i.stem));else{var o=Lt(i.stem);o&&(t=nt(nt({},t),o));var a=Pt(i.stem);a&&(t=nt(nt({},t),a))}}return t}var Dt,_t={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function Mt(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var r,n=e.language;return"root"!==n&&(r=e.maximize().region),(_t[r||""]||_t[n||""]||_t["".concat(n,"-001")]||_t["001"])[0]}var jt=new RegExp("^".concat(yt.source,"*")),kt=new RegExp("".concat(yt.source,"*$"));function Ut(e,t){return{start:e,end:t}}var Bt=!!String.prototype.startsWith&&"_a".startsWith("a",1),Ht=!!String.fromCodePoint,Ft=!!Object.fromEntries,Gt=!!String.prototype.codePointAt,Vt=!!String.prototype.trimStart,Wt=!!String.prototype.trimEnd,zt=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},$t=!0;try{$t="a"===(null===(Dt=er("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===Dt?void 0:Dt[0])}catch(e){$t=!1}var Kt,qt=Bt?function(e,t,r){return e.startsWith(t,r)}:function(e,t,r){return e.slice(r,r+t.length)===t},Xt=Ht?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r,n="",i=e.length,s=0;i>s;){if((r=e[s++])>1114111)throw RangeError(r+" is not a valid code point");n+=r<65536?String.fromCharCode(r):String.fromCharCode(55296+((r-=65536)>>10),r%1024+56320)}return n},Yt=Ft?Object.fromEntries:function(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r],s=i[0],o=i[1];t[s]=o}return t},Jt=Gt?function(e,t){return e.codePointAt(t)}:function(e,t){var r=e.length;if(!(t<0||t>=r)){var n,i=e.charCodeAt(t);return i<55296||i>56319||t+1===r||(n=e.charCodeAt(t+1))<56320||n>57343?i:n-56320+(i-55296<<10)+65536}},Qt=Vt?function(e){return e.trimStart()}:function(e){return e.replace(jt,"")},Zt=Wt?function(e){return e.trimEnd()}:function(e){return e.replace(kt,"")};function er(e,t){return new RegExp(e,t)}if($t){var tr=er("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Kt=function(e,t){var r;return tr.lastIndex=t,null!==(r=tr.exec(e)[1])&&void 0!==r?r:""}}else Kt=function(e,t){for(var r=[];;){var n=Jt(e,t);if(void 0===n||ir(n)||sr(n))break;r.push(n),t+=n>=65536?2:1}return Xt.apply(void 0,r)};var rr=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,r){for(var n=[];!this.isEOF();){var i=this.char();if(123===i){if((s=this.parseArgument(e,r)).err)return s;n.push(s.val)}else{if(125===i&&e>0)break;if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(r)break;return this.error(ot.UNMATCHED_CLOSING_TAG,Ut(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&nr(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;n.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;n.push(s.val)}}else{var o=this.clonePosition();this.bump(),n.push({type:at.pound,location:Ut(o,this.clonePosition())})}}}return{val:n,err:null}},e.prototype.parseTag=function(e,t){var r=this.clonePosition();this.bump();var n=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:at.literal,value:"<".concat(n,"/>"),location:Ut(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var s=i.val,o=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!nr(this.char()))return this.error(ot.INVALID_TAG,Ut(o,this.clonePosition()));var a=this.clonePosition();return n!==this.parseTagName()?this.error(ot.UNMATCHED_CLOSING_TAG,Ut(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:at.tag,value:n,children:s,location:Ut(r,this.clonePosition())},err:null}:this.error(ot.INVALID_TAG,Ut(o,this.clonePosition())))}return this.error(ot.UNCLOSED_TAG,Ut(r,this.clonePosition()))}return this.error(ot.INVALID_TAG,Ut(r,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var r=this.clonePosition(),n="";;){var i=this.tryParseQuote(t);if(i)n+=i;else{var s=this.tryParseUnquoted(e,t);if(s)n+=s;else{var o=this.tryParseLeftAngleBracket();if(!o)break;n+=o}}}var a=Ut(r,this.clonePosition());return{val:{type:at.literal,value:n,location:a},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(nr(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(39===r){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(r);this.bump()}return Xt.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var r=this.char();return 60===r||123===r||35===r&&("plural"===t||"selectordinal"===t)||125===r&&e>0?null:(this.bump(),Xt(r))},e.prototype.parseArgument=function(e,t){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(ot.EXPECT_ARGUMENT_CLOSING_BRACE,Ut(r,this.clonePosition()));if(125===this.char())return this.bump(),this.error(ot.EMPTY_ARGUMENT,Ut(r,this.clonePosition()));var n=this.parseIdentifierIfPossible().value;if(!n)return this.error(ot.MALFORMED_ARGUMENT,Ut(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(ot.EXPECT_ARGUMENT_CLOSING_BRACE,Ut(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:at.argument,value:n,location:Ut(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(ot.EXPECT_ARGUMENT_CLOSING_BRACE,Ut(r,this.clonePosition())):this.parseArgumentOptions(e,t,n,r);default:return this.error(ot.MALFORMED_ARGUMENT,Ut(r,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),r=Kt(this.message,t),n=t+r.length;return this.bumpTo(n),{value:r,location:Ut(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,r,n){var i,s=this.clonePosition(),o=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(o){case"":return this.error(ot.EXPECT_ARGUMENT_TYPE,Ut(s,a));case"number":case"date":case"time":this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((v=this.parseSimpleArgStyleIfPossible()).err)return v;if(0===(p=Zt(v.val)).length)return this.error(ot.EXPECT_ARGUMENT_STYLE,Ut(this.clonePosition(),this.clonePosition()));l={style:p,styleLocation:Ut(c,this.clonePosition())}}if((S=this.tryParseArgumentClose(n)).err)return S;var u=Ut(n,this.clonePosition());if(l&&qt(null==l?void 0:l.style,"::",0)){var h=Qt(l.style.slice(2));if("number"===o)return(v=this.parseNumberSkeletonFromString(h,l.styleLocation)).err?v:{val:{type:at.number,value:r,location:u,style:v.val},err:null};if(0===h.length)return this.error(ot.EXPECT_DATE_TIME_SKELETON,u);var d=h;this.locale&&(d=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e.charAt(n);if("j"===i){for(var s=0;n+1<e.length&&e.charAt(n+1)===i;)s++,n++;var o=1+(1&s),a=s<2?1:3+(s>>1),l=Mt(t);for("H"!=l&&"k"!=l||(a=0);a-- >0;)r+="a";for(;o-- >0;)r=l+r}else r+="J"===i?"H":i}return r}(h,this.locale));var p={type:lt.dateTime,pattern:d,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?wt(d):{}};return{val:{type:"date"===o?at.date:at.time,value:r,location:u,style:p},err:null}}return{val:{type:"number"===o?at.number:"date"===o?at.date:at.time,value:r,location:u,style:null!==(i=null==l?void 0:l.style)&&void 0!==i?i:null},err:null};case"plural":case"selectordinal":case"select":var f=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(ot.EXPECT_SELECT_ARGUMENT_OPTIONS,Ut(f,nt({},f)));this.bumpSpace();var m=this.parseIdentifierIfPossible(),g=0;if("select"!==o&&"offset"===m.value){if(!this.bumpIf(":"))return this.error(ot.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ut(this.clonePosition(),this.clonePosition()));var v;if(this.bumpSpace(),(v=this.tryParseDecimalInteger(ot.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ot.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return v;this.bumpSpace(),m=this.parseIdentifierIfPossible(),g=v.val}var S,E=this.tryParsePluralOrSelectOptions(e,o,t,m);if(E.err)return E;if((S=this.tryParseArgumentClose(n)).err)return S;var y=Ut(n,this.clonePosition());return"select"===o?{val:{type:at.select,value:r,options:Yt(E.val),location:y},err:null}:{val:{type:at.plural,value:r,options:Yt(E.val),offset:g,pluralType:"plural"===o?"cardinal":"ordinal",location:y},err:null};default:return this.error(ot.INVALID_ARGUMENT_TYPE,Ut(s,a))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(ot.EXPECT_ARGUMENT_CLOSING_BRACE,Ut(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("'"))return this.error(ot.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Ut(r,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var r=[];try{r=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],r=0,n=e.split(Tt).filter((function(e){return e.length>0}));r<n.length;r++){var i=n[r].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var s=i[0],o=i.slice(1),a=0,l=o;a<l.length;a++)if(0===l[a].length)throw new Error("Invalid number skeleton");t.push({stem:s,options:o})}return t}(e)}catch(e){return this.error(ot.INVALID_NUMBER_SKELETON,t)}return{val:{type:lt.number,tokens:r,location:t,parsedOptions:this.shouldParseSkeletons?Ct(r):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,r,n){for(var i,s=!1,o=[],a=new Set,l=n.value,c=n.location;;){if(0===l.length){var u=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var h=this.tryParseDecimalInteger(ot.EXPECT_PLURAL_ARGUMENT_SELECTOR,ot.INVALID_PLURAL_ARGUMENT_SELECTOR);if(h.err)return h;c=Ut(u,this.clonePosition()),l=this.message.slice(u.offset,this.offset())}if(a.has(l))return this.error("select"===t?ot.DUPLICATE_SELECT_ARGUMENT_SELECTOR:ot.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===l&&(s=!0),this.bumpSpace();var d=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?ot.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:ot.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Ut(this.clonePosition(),this.clonePosition()));var p=this.parseMessage(e+1,t,r);if(p.err)return p;var f=this.tryParseArgumentClose(d);if(f.err)return f;o.push([l,{value:p.val,location:Ut(d,this.clonePosition())}]),a.add(l),this.bumpSpace(),l=(i=this.parseIdentifierIfPossible()).value,c=i.location}return 0===o.length?this.error("select"===t?ot.EXPECT_SELECT_ARGUMENT_SELECTOR:ot.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ut(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(ot.MISSING_OTHER_CLAUSE,Ut(this.clonePosition(),this.clonePosition())):{val:o,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var r=1,n=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var i=!1,s=0;!this.isEOF();){var o=this.char();if(!(o>=48&&o<=57))break;i=!0,s=10*s+(o-48),this.bump()}var a=Ut(n,this.clonePosition());return i?zt(s*=r)?{val:s,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Jt(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(qt(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),r=this.message.indexOf(e,t);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&ir(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),r=this.message.charCodeAt(t+(e>=65536?2:1));return null!=r?r:null},e}();function nr(e){return e>=97&&e<=122||e>=65&&e<=90}function ir(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function sr(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function or(e){e.forEach((function(e){if(delete e.location,ft(e)||mt(e))for(var t in e.options)delete e.options[t].location,or(e.options[t].value);else ht(e)&&St(e.style)||(dt(e)||pt(e))&&Et(e.style)?delete e.style.location:vt(e)&&or(e.children)}))}function ar(e,t){void 0===t&&(t={}),t=nt({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var r=new rr(e,t).parse();if(r.err){var n=SyntaxError(ot[r.err.kind]);throw n.location=r.err.location,n.originalMessage=r.err.message,n}return(null==t?void 0:t.captureLocation)||or(r.val),r.val}function lr(e,t){var r=t&&t.cache?t.cache:gr,n=t&&t.serializer?t.serializer:pr;return(t&&t.strategy?t.strategy:dr)(e,{cache:r,serializer:n})}function cr(e,t,r,n){var i,s=null==(i=n)||"number"==typeof i||"boolean"==typeof i?n:r(n),o=t.get(s);return void 0===o&&(o=e.call(this,n),t.set(s,o)),o}function ur(e,t,r){var n=Array.prototype.slice.call(arguments,3),i=r(n),s=t.get(i);return void 0===s&&(s=e.apply(this,n),t.set(i,s)),s}function hr(e,t,r,n,i){return r.bind(t,e,n,i)}function dr(e,t){return hr(e,this,1===e.length?cr:ur,t.cache.create(),t.serializer)}var pr=function(){return JSON.stringify(arguments)};function fr(){this.cache=Object.create(null)}fr.prototype.get=function(e){return this.cache[e]},fr.prototype.set=function(e,t){this.cache[e]=t};var mr,gr={create:function(){return new fr}},vr={variadic:function(e,t){return hr(e,this,ur,t.cache.create(),t.serializer)},monadic:function(e,t){return hr(e,this,cr,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(mr||(mr={}));var Sr,Er=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.code=r,i.originalMessage=n,i}return rt(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),yr=function(e){function t(t,r,n,i){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(r,'". Options are "').concat(Object.keys(n).join('", "'),'"'),mr.INVALID_VALUE,i)||this}return rt(t,e),t}(Er),Ir=function(e){function t(t,r,n){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(r),mr.INVALID_VALUE,n)||this}return rt(t,e),t}(Er),wr=function(e){function t(t,r){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(r,'"'),mr.MISSING_VALUE,r)||this}return rt(t,e),t}(Er);function Tr(e){return"function"==typeof e}function Ar(e,t,r,n,i,s,o){if(1===e.length&&ct(e[0]))return[{type:Sr.literal,value:e[0].value}];for(var a=[],l=0,c=e;l<c.length;l++){var u=c[l];if(ct(u))a.push({type:Sr.literal,value:u.value});else if(gt(u))"number"==typeof s&&a.push({type:Sr.literal,value:r.getNumberFormat(t).format(s)});else{var h=u.value;if(!i||!(h in i))throw new wr(h,o);var d=i[h];if(ut(u))d&&"string"!=typeof d&&"number"!=typeof d||(d="string"==typeof d||"number"==typeof d?String(d):""),a.push({type:"string"==typeof d?Sr.literal:Sr.object,value:d});else if(dt(u)){var p="string"==typeof u.style?n.date[u.style]:Et(u.style)?u.style.parsedOptions:void 0;a.push({type:Sr.literal,value:r.getDateTimeFormat(t,p).format(d)})}else if(pt(u)){p="string"==typeof u.style?n.time[u.style]:Et(u.style)?u.style.parsedOptions:n.time.medium;a.push({type:Sr.literal,value:r.getDateTimeFormat(t,p).format(d)})}else if(ht(u)){(p="string"==typeof u.style?n.number[u.style]:St(u.style)?u.style.parsedOptions:void 0)&&p.scale&&(d*=p.scale||1),a.push({type:Sr.literal,value:r.getNumberFormat(t,p).format(d)})}else{if(vt(u)){var f=u.children,m=u.value,g=i[m];if(!Tr(g))throw new Ir(m,"function",o);var v=g(Ar(f,t,r,n,i,s).map((function(e){return e.value})));Array.isArray(v)||(v=[v]),a.push.apply(a,v.map((function(e){return{type:"string"==typeof e?Sr.literal:Sr.object,value:e}})))}if(ft(u)){if(!(S=u.options[d]||u.options.other))throw new yr(u.value,d,Object.keys(u.options),o);a.push.apply(a,Ar(S.value,t,r,n,i))}else if(mt(u)){var S;if(!(S=u.options["=".concat(d)])){if(!Intl.PluralRules)throw new Er('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',mr.MISSING_INTL_API,o);var E=r.getPluralRules(t,{type:u.pluralType}).select(d-(u.offset||0));S=u.options[E]||u.options.other}if(!S)throw new yr(u.value,d,Object.keys(u.options),o);a.push.apply(a,Ar(S.value,t,r,n,i,d-(u.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var r=e[e.length-1];return r&&r.type===Sr.literal&&t.type===Sr.literal?r.value+=t.value:e.push(t),e}),[])}(a)}function br(e,t){return t?Object.keys(e).reduce((function(r,n){var i,s;return r[n]=(i=e[n],(s=t[n])?nt(nt(nt({},i||{}),s||{}),Object.keys(i).reduce((function(e,t){return e[t]=nt(nt({},i[t]),s[t]||{}),e}),{})):i),r}),nt({},e)):e}function Or(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Sr||(Sr={}));var Rr,Nr=function(){function e(t,r,n,i){var s,o=this;if(void 0===r&&(r=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=o.formatToParts(e);if(1===t.length)return t[0].value;var r=t.reduce((function(e,t){return e.length&&t.type===Sr.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return r.length<=1?r[0]||"":r},this.formatToParts=function(e){return Ar(o.ast,o.locales,o.formatters,o.formats,e,void 0,o.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=o.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},this.locales=r,this.resolvedLocale=e.resolveLocale(r),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var a=i||{},l=(a.formatters,it(a,["formatters"]));this.ast=e.__parse(t,nt(nt({},l),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=br(e.formats,n),this.formatters=i&&i.formatters||(void 0===(s=this.formatterCache)&&(s={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:lr((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,st([void 0],t,!1)))}),{cache:Or(s.number),strategy:vr.variadic}),getDateTimeFormat:lr((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,st([void 0],t,!1)))}),{cache:Or(s.dateTime),strategy:vr.variadic}),getPluralRules:lr((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,st([void 0],t,!1)))}),{cache:Or(s.pluralRules),strategy:vr.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])}},e.__parse=ar,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}(Rr||(Rr={}));var Lr=function(e){function t(r,n,i){var s=this,o=i?i instanceof Error?i:new Error(String(i)):void 0;return(s=e.call(this,"[@formatjs/intl Error ".concat(r,"] ").concat(n,"\n").concat(o?"\n".concat(o.message,"\n").concat(o.stack):""))||this).code=r,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s,t),s}return rt(t,e),t}(Error),Pr=function(e){function t(t,r){return e.call(this,Rr.UNSUPPORTED_FORMATTER,t,r)||this}return rt(t,e),t}(Lr),xr=function(e){function t(t,r){return e.call(this,Rr.INVALID_CONFIG,t,r)||this}return rt(t,e),t}(Lr),Cr=function(e){function t(t,r){return e.call(this,Rr.MISSING_DATA,t,r)||this}return rt(t,e),t}(Lr),Dr=function(e){function t(t,r,n){var i=e.call(this,Rr.FORMAT_ERROR,"".concat(t,"\nLocale: ").concat(r,"\n"),n)||this;return i.locale=r,i}return rt(t,e),t}(Lr),_r=function(e){function t(t,r,n,i){var s=e.call(this,"".concat(t,"\nMessageID: ").concat(null==n?void 0:n.id,"\nDefault Message: ").concat(null==n?void 0:n.defaultMessage,"\nDescription: ").concat(null==n?void 0:n.description,"\n"),r,i)||this;return s.descriptor=n,s.locale=r,s}return rt(t,e),t}(Dr),Mr=function(e){function t(t,r){var n=e.call(this,Rr.MISSING_TRANSLATION,'Missing message: "'.concat(t.id,'" for locale "').concat(r,'", using ').concat(t.defaultMessage?"default message (".concat("string"==typeof t.defaultMessage?t.defaultMessage:t.defaultMessage.map((function(e){var t;return null!==(t=e.value)&&void 0!==t?t:JSON.stringify(e)})).join(),")"):"id"," as fallback."))||this;return n.descriptor=t,n}return rt(t,e),t}(Lr);function jr(e,t,r){return void 0===r&&(r={}),t.reduce((function(t,n){return n in e?t[n]=e[n]:n in r&&(t[n]=r[n]),t}),{})}var kr={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:function(e){0},onWarn:function(e){0}};function Ur(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function Br(e,t,r,n){var i,s=e&&e[t];if(s&&(i=s[r]),i)return i;n(new Pr("No ".concat(t," format named: ").concat(r)))}function Hr(e,t){return Object.keys(e).reduce((function(r,n){return r[n]=nt({timeZone:t},e[n]),r}),{})}function Fr(e,t){return Object.keys(nt(nt({},e),t)).reduce((function(r,n){return r[n]=nt(nt({},e[n]||{}),t[n]||{}),r}),{})}function Gr(e,t){if(!t)return e;var r=Nr.formats;return nt(nt(nt({},r),e),{date:Fr(Hr(r.date,t),Hr(e.date||{},t)),time:Fr(Hr(r.time,t),Hr(e.time||{},t))})}var Vr=function(e,t,r,n,i){var s=e.locale,o=e.formats,a=e.messages,l=e.defaultLocale,c=e.defaultFormats,u=e.fallbackOnEmptyString,h=e.onError,d=e.timeZone,p=e.defaultRichTextElements;void 0===r&&(r={id:""});var f=r.id,m=r.defaultMessage;!function(e,t,r){if(void 0===r&&(r=Error),!e)throw new r(t)}(!!f,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var g=String(f),v=a&&Object.prototype.hasOwnProperty.call(a,g)&&a[g];if(Array.isArray(v)&&1===v.length&&v[0].type===at.literal)return v[0].value;if(!n&&v&&"string"==typeof v&&!p)return v.replace(/'\{(.*?)\}'/gi,"{$1}");if(n=nt(nt({},p),n||{}),o=Gr(o,d),c=Gr(c,d),!v){if(!1===u&&""===v)return v;if((!m||s&&s.toLowerCase()!==l.toLowerCase())&&h(new Mr(r,s)),m)try{return t.getMessageFormat(m,l,c,i).format(n)}catch(e){return h(new _r('Error formatting default message for: "'.concat(g,'", rendering default message verbatim'),s,r,e)),"string"==typeof m?m:g}return g}try{return t.getMessageFormat(v,s,o,nt({formatters:t},i||{})).format(n)}catch(e){h(new _r('Error formatting message: "'.concat(g,'", using ').concat(m?"default message":"id"," as fallback."),s,r,e))}if(m)try{return t.getMessageFormat(m,l,c,i).format(n)}catch(e){h(new _r('Error formatting the default message for: "'.concat(g,'", rendering message verbatim'),s,r,e))}return"string"==typeof v?v:"string"==typeof m?m:g},Wr=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function zr(e,t,r){var n=e.locale,i=e.formats,s=e.onError;void 0===r&&(r={});var o=r.format,a=o&&Br(i,"number",o,s)||{};return t(n,jr(r,Wr,a))}function $r(e,t,r,n){void 0===n&&(n={});try{return zr(e,t,n).format(r)}catch(t){e.onError(new Dr("Error formatting number.",e.locale,t))}return String(r)}function Kr(e,t,r,n){void 0===n&&(n={});try{return zr(e,t,n).formatToParts(r)}catch(t){e.onError(new Dr("Error formatting number.",e.locale,t))}return[]}var qr=["numeric","style"];function Xr(e,t,r,n,i){void 0===i&&(i={}),n||(n="second"),Intl.RelativeTimeFormat||e.onError(new Er('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',mr.MISSING_INTL_API));try{return function(e,t,r){var n=e.locale,i=e.formats,s=e.onError;void 0===r&&(r={});var o=r.format,a=!!o&&Br(i,"relative",o,s)||{};return t(n,jr(r,qr,a))}(e,t,i).format(r,n)}catch(t){e.onError(new Dr("Error formatting relative time.",e.locale,t))}return String(r)}var Yr=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function Jr(e,t,r,n){var i=e.locale,s=e.formats,o=e.onError,a=e.timeZone;void 0===n&&(n={});var l=n.format,c=nt(nt({},a&&{timeZone:a}),l&&Br(s,t,l,o)),u=jr(n,Yr,c);return"time"!==t||u.hour||u.minute||u.second||u.timeStyle||u.dateStyle||(u=nt(nt({},u),{hour:"numeric",minute:"numeric"})),r(i,u)}function Qr(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],s=r[1],o=void 0===s?{}:s,a="string"==typeof i?new Date(i||0):i;try{return Jr(e,"date",t,o).format(a)}catch(t){e.onError(new Dr("Error formatting date.",e.locale,t))}return String(a)}function Zr(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],s=r[1],o=void 0===s?{}:s,a="string"==typeof i?new Date(i||0):i;try{return Jr(e,"time",t,o).format(a)}catch(t){e.onError(new Dr("Error formatting time.",e.locale,t))}return String(a)}function en(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],s=r[1],o=r[2],a=void 0===o?{}:o,l=e.timeZone,c=e.locale,u=e.onError,h=jr(a,Yr,l?{timeZone:l}:{});try{return t(c,h).formatRange(i,s)}catch(t){u(new Dr("Error formatting date time range.",e.locale,t))}return String(i)}function tn(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],s=r[1],o=void 0===s?{}:s,a="string"==typeof i?new Date(i||0):i;try{return Jr(e,"date",t,o).formatToParts(a)}catch(t){e.onError(new Dr("Error formatting date.",e.locale,t))}return[]}function rn(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],s=r[1],o=void 0===s?{}:s,a="string"==typeof i?new Date(i||0):i;try{return Jr(e,"time",t,o).formatToParts(a)}catch(t){e.onError(new Dr("Error formatting time.",e.locale,t))}return[]}var nn=["type"];function sn(e,t,r,n){var i=e.locale,s=e.onError;void 0===n&&(n={}),Intl.PluralRules||s(new Er('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',mr.MISSING_INTL_API));var o=jr(n,nn);try{return t(i,o).select(r)}catch(e){s(new Dr("Error formatting plural.",i,e))}return"other"}var on=["type","style"],an=Date.now();function ln(e,t,r,n){void 0===n&&(n={});var i=cn(e,t,r,n).reduce((function(e,t){var r=t.value;return"string"!=typeof r?e.push(r):"string"==typeof e[e.length-1]?e[e.length-1]+=r:e.push(r),e}),[]);return 1===i.length?i[0]:0===i.length?"":i}function cn(e,t,r,n){var i=e.locale,s=e.onError;void 0===n&&(n={}),Intl.ListFormat||s(new Er('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',mr.MISSING_INTL_API));var o=jr(n,on);try{var a={},l=r.map((function(e,t){if("object"==typeof e){var r=function(e){return"".concat(an,"_").concat(e,"_").concat(an)}(t);return a[r]=e,r}return String(e)}));return t(i,o).formatToParts(l).map((function(e){return"literal"===e.type?e:nt(nt({},e),{value:a[e.value]||e.value})}))}catch(e){s(new Dr("Error formatting list.",i,e))}return r}var un=["style","type","fallback","languageDisplay"];function hn(e,t,r,n){var i=e.locale,s=e.onError;Intl.DisplayNames||s(new Er('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',mr.MISSING_INTL_API));var o=jr(n,un);try{return t(i,o).of(r)}catch(e){s(new Dr("Error formatting display name.",i,e))}}function dn(e){var t;e.onWarn&&e.defaultRichTextElements&&"string"==typeof((t=e.messages||{})?t[Object.keys(t)[0]]:void 0)&&e.onWarn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}function pn(e,t){var r=function(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,r=Intl.ListFormat,n=Intl.DisplayNames,i=lr((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,st([void 0],t,!1)))}),{cache:Ur(e.dateTime),strategy:vr.variadic}),s=lr((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,st([void 0],t,!1)))}),{cache:Ur(e.number),strategy:vr.variadic}),o=lr((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,st([void 0],t,!1)))}),{cache:Ur(e.pluralRules),strategy:vr.variadic});return{getDateTimeFormat:i,getNumberFormat:s,getMessageFormat:lr((function(e,t,r,n){return new Nr(e,t,r,nt({formatters:{getNumberFormat:s,getDateTimeFormat:i,getPluralRules:o}},n||{}))}),{cache:Ur(e.message),strategy:vr.variadic}),getRelativeTimeFormat:lr((function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new(t.bind.apply(t,st([void 0],e,!1)))}),{cache:Ur(e.relativeTime),strategy:vr.variadic}),getPluralRules:o,getListFormat:lr((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(r.bind.apply(r,st([void 0],e,!1)))}),{cache:Ur(e.list),strategy:vr.variadic}),getDisplayNames:lr((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(n.bind.apply(n,st([void 0],e,!1)))}),{cache:Ur(e.displayNames),strategy:vr.variadic})}}(t),n=nt(nt({},kr),e),i=n.locale,s=n.defaultLocale,o=n.onError;return i?!Intl.NumberFormat.supportedLocalesOf(i).length&&o?o(new Cr('Missing locale data for locale: "'.concat(i,'" in Intl.NumberFormat. Using default locale: "').concat(s,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(i).length&&o&&o(new Cr('Missing locale data for locale: "'.concat(i,'" in Intl.DateTimeFormat. Using default locale: "').concat(s,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(o&&o(new xr('"locale" was not configured, using "'.concat(s,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),n.locale=n.defaultLocale||"en"),dn(n),nt(nt({},n),{formatters:r,formatNumber:$r.bind(null,n,r.getNumberFormat),formatNumberToParts:Kr.bind(null,n,r.getNumberFormat),formatRelativeTime:Xr.bind(null,n,r.getRelativeTimeFormat),formatDate:Qr.bind(null,n,r.getDateTimeFormat),formatDateToParts:tn.bind(null,n,r.getDateTimeFormat),formatTime:Zr.bind(null,n,r.getDateTimeFormat),formatDateTimeRange:en.bind(null,n,r.getDateTimeFormat),formatTimeToParts:rn.bind(null,n,r.getDateTimeFormat),formatPlural:sn.bind(null,n,r.getPluralRules),formatMessage:Vr.bind(null,n,r),$t:Vr.bind(null,n,r),formatList:ln.bind(null,n,r.getListFormat),formatListToParts:cn.bind(null,n,r.getListFormat),formatDisplayName:hn.bind(null,n,r.getDisplayNames)})}var fn=c(68972);var mn=nt(nt({},kr),{textComponent:fn.Fragment});function gn(e){return e?Object.keys(e).reduce((function(t,r){var n,i=e[r];return t[r]=Tr(i)?(n=i,function(e){return n(fn.Children.toArray(e))}):i,t}),{}):e}var vn=function(e,t,r,n){for(var i=[],s=4;s<arguments.length;s++)i[s-4]=arguments[s];var o=gn(n),a=Vr.apply(void 0,st([e,t,r,o],i,!1));return Array.isArray(a)?fn.Children.toArray(a):a},Sn=function(e,t){var r=e.defaultRichTextElements,n=it(e,["defaultRichTextElements"]),i=gn(r),s=pn(nt(nt(nt({},mn),n),{defaultRichTextElements:i}),t),o={locale:s.locale,timeZone:s.timeZone,fallbackOnEmptyString:s.fallbackOnEmptyString,formats:s.formats,defaultLocale:s.defaultLocale,defaultFormats:s.defaultFormats,messages:s.messages,onError:s.onError,defaultRichTextElements:i};return nt(nt({},s),{formatMessage:vn.bind(null,o,s.formatters),$t:vn.bind(null,o,s.formatters)})};let En={};c(99589);c(32528).exbVersion;var yn;!function(e){e.None="None Version Heigher",e.Draft="Draft Version Heigher",e.Published="Published Version Heigher",e.Both="Both Version Heigher"}(yn||(yn={}));function In(e){try{return localStorage.getItem(e)}catch(e){return console.error("Read Local storage error.",e),null}}function wn(e,t){try{localStorage.setItem(e,t)}catch(e){console.error("Set Local storage error.",e)}}var Tn,An,bn,On,Rn,Nn,Ln,Pn,xn,Cn,Dn,_n,Mn,jn;function kn(e){return/\/$/.test(e)?`${e}sharing/rest/`:`${e}/sharing/rest/`}function Un(e){const t=/\/$/.test(e)?"/sharing/rest/":"/sharing/rest";return e.substr(0,e.length-t.length)}function Bn(e,t){const r=/^http(s?):\/\//gi,n=/^\/\//gi;return(e=Fn(e).toLowerCase().replace(r,"").replace(n,""))===(t=Fn(t).toLowerCase().replace(r,"").replace(n,""))}function Hn(e){return Xn(e).includes(".arcgis.com")}function Fn(e){const t=Xn(e);return""===t?"":Hn(t)?Kn(t,Me.Https):Kn(e=(e||"").trim().replace(/sharing(.*)/gi,"").replace(/\/*$/g,""),Me.Https)}function Gn(e,t){let r="";const n=function(e){let t="";const r=Fn(e);return r&&(t=r+"/sharing/rest/content/items"),t}(e);return n&&t&&(r=n+"/"+t),r}function Vn(e){if(!e)return e;if(Hn(e)){const t=Xn(e),r=$n(e),n=t.split("."),i=n[0];n.splice(0,1);const s=n.join(".");let o;return"devext"===i||"mapsdevext.arcgis.com"===s?o="devext.arcgis.com":"qaext"===i||"mapsqa.arcgis.com"===s?o="qaext.arcgis.com":"www"!==i&&"maps.arcgis.com"!==s||(o="www.arcgis.com"),o=o&&`${r?r+"//":""}${o}`,o}return e}function Wn(){var e,t;const r=(null===(e=null===window||void 0===window?void 0:window.jimuConfig)||void 0===e?void 0:e.isBuilder)?Vl().getState().appStateInBuilder:Vl().getState(),n=((null===(t=null==r?void 0:r.appConfig)||void 0===t?void 0:t.connections)||[]).map((e=>{const t=`${e.portalUrl}/sharing/rest/oauth2/token?client_id=${e.clientId}&client_secret=invalid_secret&grant_type=client_credentials`,r=Object.assign({},e);return fetch(t).then((e=>e.json())).then((e=>{var t;return"invalid_client_id"===(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.error)&&(r.clientId=null),r})).catch((e=>(r.clientId=null,r)))}));Promise.allSettled(n).then((e=>{let t=null==r?void 0:r.appConfig;const n=[];e.forEach((e=>{var t;(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.clientId)&&n.push(e.value)})),t=t.set("connections",n),Vl().dispatch(function(e){return{type:Hl.AppConfigChanged,appConfig:e}}(t))}))}function zn(e){return/(^http:)|(^https:)|(^\/\/)|(^mailto:)|(^tel:)|(^data:)|(^sms:)|(^ftp:)/.test(e)}function $n(e){let t;return 0===(e=e.toLowerCase()).indexOf("https://")?t="https:":0===e.indexOf("http://")&&(t="http:"),t}function Kn(e,t){return $n(e)?e.replace(/^https?:\/\//,`${t}//`):`${t}//${e}`}function qn(e){return e.replace(/^https?:\/\//,"")}function Xn(e){return 0===(e=(e=(e||"").trim()).replace(/^(http(s?):?)\/\//gi,"")).indexOf("//")&&(e=e.slice(2)),e.split("/")[0].toLocaleLowerCase()}function Yn(e){return(e=(e||"").trim()).split("?")[0]}function Jn(e,t,r){const n=(e=(e||"").trim()).indexOf("#");let i="";return n>-1&&(i=e.substring(n),e=e.substring(0,n)),e.includes("?")?e+=`&${t}=${r}${i}`:e+=`?${t}=${r}${i}`,e}!function(e){e.Page="pages",e.Dialog="dialogs",e.Header="header",e.Footer="footer",e.View="views",e.ScreenPanel="screens_panel",e.ScreenMain="screens_main"}(Tn||(Tn={})),function(e){e.Page="pages",e.View="view",e.Widget="widget",e.Screen="screen",e.Dialog="dialog",e.Header="header",e.Footer="footer"}(An||(An={})),function(e){e[e.Row=0]="Row",e[e.Column=1]="Column",e[e.Tab=2]="Tab",e[e.Plain=3]="Plain"}(bn||(bn={})),function(e){e.Fade="FADE",e.Cover="COVER",e.Push="PUSH"}(On||(On={})),function(e){e.Top="TOP",e.Upper="UPPER",e.Lower="LOWER",e.Bottom="BOTTOM"}(Rn||(Rn={})),function(e){e.Normal="NORMAL",e.Folder="FOLDER",e.Link="LINK"}(Nn||(Nn={})),function(e){e.FitWindow="FIT_WINDOW",e.AutoScroll="AUTO_SCROLL"}(Ln||(Ln={})),function(e){e.Fixed="FIXED",e.Anchored="ANCHORED"}(Pn||(Pn={})),function(e){e.NoButton="NO_BUTTON",e.ButtonInline="BUTTON_INLINE",e.ButtonBlock="BUTTON_BLOCK"}(xn||(xn={})),function(e){e.TopLeft="TOP_LEFT",e.TopRight="TOP_RIGHT",e.BottomLeft="BOTTOM_LEFT",e.BottomRight="BOTTOM_RIGHT",e.TopCenter="TOP_CENTER",e.BottomCenter="BOTTOM_CENTER",e.MiddleLeft="MIDDLE_LEFT",e.MiddleRight="MIDDLE_RIGHT",e.MiddleCenter="MIDDLE_CENTER"}(Cn||(Cn={})),function(e){e.GeoEnrichment="GEOENRICH",e.Geometry="GEOMETRY",e.GeoCoding="GEOCODING",e.Printing="PRINTING",e.Routing="ROUTING",e.GPServer="GPSERVER",e.GPTask="GPTask"}(Dn||(Dn={})),function(e){e.Device="DEVICE",e.Specific="SPECIFIC",e.Data="DATA"}(_n||(_n={})),function(e){e.Required="REQUIRED",e.Optional="OPTIONAL"}(Mn||(Mn={})),function(e){e.Horizontal="HORIZONTAL",e.Vertical="VERTICAL"}(jn||(jn={}));var Qn,Zn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};function ei(e){const t=window.SystemJS.get(ri(e));return t?t.__useDefault?t.default:t:null}function ti(e,t){return Zn(this,void 0,void 0,(function*(){!zn(e)||/\.(js|css)$/.test(e)||/\/$/.test(e)||(e=`${e}.js`);const r=(window._cachedModules||{})[e],n=!!t&&!!r&&t.every((e=>e in r));return Promise.resolve(n?r:window.SystemJS.import(e)).then((e=>e=e.__useDefault?e.default:e)).catch((e=>{console.error("Load module error.",e)}))}))}function ri(e){return window.SystemJS.resolve(e)}!function(e){e.AppConfigProcessor="APP_CONFIG_PROCESSOR",e.WidgetClassWrapper="WIDGET_CLASS_WRAPPER",e.AppConfigService="APP_CONFIG_SERVICE",e.ReduxStore="REDUX_STORE",e.DependencyDefine="DEPENDENCY_DEFINE",e.DataSourceFactoryUri="DATA_SOURCE_FACTORY_URI",e.ContextTool="CONTEXT_TOOL",e.AppConfigOperations="APP_CONFIG_OPERATIONS",e.LayoutTransformer="LAYOUT_TRANSFORMER"}(Qn||(Qn={}));const ni=[Qn.ReduxStore,Qn.DataSourceFactoryUri,Qn.DependencyDefine,Qn.ContextTool,Qn.AppConfigOperations,Qn.LayoutTransformer],ii=[Qn.ContextTool,Qn.AppConfigOperations],si=[Qn.ContextTool];var oi=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};class ai{constructor(){this.extensions={},this.extensionClasses={}}static getInstance(){return ai.instance||(ai.instance=new ai,window._extensionManager=ai.instance),ai.instance}getExtensions(e){return this.extensions[e]||[]}getAllExtensions(){const e=[];return Object.keys(this.extensions).forEach((t=>{this.extensions[t].forEach((t=>{e.push(t)}))})),e}registerExtension(e){if(this.getExtensionById(e.extension.id))console.log(`Extension ${e.extension.id} has been registered.`);else{if(this.extensions[e.epName]){if(!ni.includes(e.epName))return;this.extensions[e.epName].push(e.extension),this.extensions[e.epName]=this.extensions[e.epName].sort(((e,t)=>e.index-t.index))}else this.extensions[e.epName]=[e.extension];if(si.includes(e.epName)){const n={};Object.keys(e.extension).forEach((t=>{"string"!=typeof e.extension[t]&&"number"!=typeof e.extension[t]||(n[t]=e.extension[t])})),Vl().dispatch((t=e.epName,r=n,{type:Hl.ExtensionRegistered,epName:t,extension:r}))}var t,r,n;e.epName===Qn.ReduxStore&&Vl().dispatch((n=e.extension.id,{type:Hl.InitStoreExtensionState,extensionId:n}))}}destryAllExtensions(){Object.keys(this.extensions).forEach((e=>{this.extensions[e].forEach((e=>{delete this.extensionClasses[e.name],e.destroy&&e.destroy()}))})),this.extensions={}}destryWidgetExtensions(e){Object.keys(this.extensions).forEach((t=>{this.extensions[t].forEach((t=>{t.widgetId===e&&(delete this.extensionClasses[t.name],t.destroy&&t.destroy())})),this.extensions[t]=this.extensions[t].filter((t=>t.widgetId!==e))}))}registerWidgetExtensions(e){return oi(this,void 0,void 0,(function*(){const t=[];return e.manifest.extensions&&e.manifest.extensions.forEach((r=>{(window.jimuConfig.isBuilder||window.jimuConfig.isInBuilder||!ii.includes(r.point))&&t.push(this.registerWidgetExtension(e,r))})),Promise.all(t)}))}registerWidgetExtension(e,t){return oi(this,void 0,void 0,(function*(){if(this.extensions[t.point]){if(!ni.includes(t.point))return Promise.resolve();if(this.extensions[t.point].filter((r=>r.name===`${e.manifest.name}-${t.name}`&&r.widgetId===e.id)).length>0)return Promise.resolve()}return this.loadWidgetExtensionClass(e,t).then((r=>{const n=new r;n.name=`${e.manifest.name}-${t.name}`,n.widgetId=e.id,n.id=`${n.widgetId}-${t.name}`,n.label=e.manifest.i18nMessages[`_ext_${t.name}_label`]||t.label,this.registerExtension({epName:t.point,extension:n})})).catch((t=>(console.error("Register widget extension error.",e.label),Promise.resolve())))}))}loadWidgetExtensionClass(e,t){return oi(this,void 0,void 0,(function*(){const r=`${e.manifest.name}-${t.name}`;if(this.extensionClasses[r])return yield this.extensionClasses[r];const n=e.uri+"dist/"+t.uri;return this.extensionClasses[r]=ti(n,["default"]).then((e=>e.default)),this.extensionClasses[r]}))}getExtensionById(e){const t=this.getAllExtensions();for(const r of t)if(r.id===e)return r}}const li={mapServer:"MapServer",imageServer:"ImageServer",featureServer:"FeatureServer",sceneServer:"SceneServer",streamServer:"StreamServer",vectortileServer:"VectorTileServer",GPServer:"GPServer",bigDataCatalogServer:"BigDataCatalogServer",dataReviewerServer:"DataReviewerServer",geoAnalytics:"GeoAnalytics",geocodeServer:"GeocodeServer",geoDataServer:"GeoDataServer",geometryServer:"GeometryServer",globeServer:"GlobeServer",knowledgeGraphServer:"KnowledgeGraphServer",LRServer:"LRServer",mobileServer:"MobileServer",networkDiagramServer:"NetworkDiagramServer",parcelFabricServer:"ParcelFabricServer",relationalCatalogServer:"RelationalCatalogServer",NAServer:"NAServer",schematicsServer:"SchematicsServer",symbolServer:"SymbolServer",topographicProductionServer:"TopographicProductionServer",traceNetworkServer:"TraceNetworkServer",utilityNetworkServer:"UtilityNetworkServer",validationServer:"ValidationServer",versionManagementServer:"VersionManagementServer"};function ci(e=""){const t=Object.values(li),r=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/(admin\\/)?services\\/(.+?)\\/(${t.join("|")}))`,"i"),n=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${t.join("|")}))`,"i"),i=e.match(r)||e.match(n);return i?i[0]:null}function ui(e=""){const t=/\/rest\/admin\/services(\/|$)/i,r=e.toLowerCase();let n=r.indexOf("/appservices");-1===n&&(n=r.indexOf("/rest/services")),-1===n&&t.test(e)&&(n=e.search(t));return n>-1?e.substring(0,n):null}function hi(e=""){return!!ui(e)}function di(e=""){return ci(e)||e}function pi(e=""){return ui(e)||e}function fi(e){return Object.keys(e).some((t=>{let r=e[t];if(!r)return!1;r&&r.toParam&&(r=r.toParam());switch(r.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}}))}function mi(e){const t={};return Object.keys(e).forEach((r=>{var n,i;let s=e[r];if(s&&s.toParam&&(s=s.toParam()),!s&&0!==s&&"boolean"!=typeof s&&"string"!=typeof s)return;let o;switch(s.constructor.name){case"Array":const e=null===(i=null===(n=s[0])||void 0===n?void 0:n.constructor)||void 0===i?void 0:i.name;o="Array"===e?s:"Object"===e?JSON.stringify(s):s.join(",");break;case"Object":o=JSON.stringify(s);break;case"Date":o=s.valueOf();break;case"Function":o=null;break;case"Boolean":o=s+"";break;default:o=s}(o||0===o||"string"==typeof o||Array.isArray(o))&&(t[r]=o)})),t}function gi(e,t){return Array.isArray(t)&&t[0]&&Array.isArray(t[0])?t.map((t=>gi(e,t))).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(t)}function vi(e){const t=mi(e);return Object.keys(t).map((e=>gi(e,t[e]))).join("&")}const Si=globalThis.FormData;globalThis.File,globalThis.Blob;class Ei extends Error{constructor(e,t,r,n,i){super(e);const s=new.target.prototype;Object.setPrototypeOf(this,s),e=e||"UNKNOWN_ERROR",t=t||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===t?e:`${t}: ${e}`,this.originalMessage=e,this.code=t,this.response=r,this.url=n,this.options=i}}const yi="@esri/arcgis-rest-js";class Ii extends Ei{constructor(e="AUTHENTICATION_ERROR",t="AUTHENTICATION_ERROR_CODE",r,n,i){super(e,t,r,n,i),this.name="ArcGISAuthError",this.message="AUTHENTICATION_ERROR_CODE"===t?e:`${t}: ${e}`;const s=new.target.prototype;Object.setPrototypeOf(this,s)}retry(e,t=1){let r=0;const n=(i,s)=>{r+=1,e(this.url,this.options).then((e=>{const t=Object.assign(Object.assign({},this.options),{authentication:e});return wi(this.url,t)})).then((e=>{i(e)})).catch((e=>{"ArcGISAuthError"===e.name&&r<t?n(i,s):e.name===this.name&&e.message===this.message&&r>=t?s(this):s(e)}))};return new Promise(((e,t)=>{n(e,t)}))}}function wi(e,t){const r=globalThis.DEFAULT_ARCGIS_REQUEST_OPTIONS||{httpMethod:"POST",params:{f:"json"}},n=Object.assign(Object.assign(Object.assign({httpMethod:"POST"},r),t),{params:Object.assign(Object.assign({},r.params),t.params),headers:Object.assign(Object.assign({},r.headers),t.headers)}),{httpMethod:i,rawResponse:s}=n,o=Object.assign({f:"json"},n.params);let a=null;const l={method:i,signal:n.signal,credentials:n.credentials||"same-origin"};let c;if(n.headers&&n.headers["X-Esri-Auth-Client-Id"]&&e.indexOf("/oauth2/platformSelf")>-1&&(l.credentials="include"),"string"==typeof n.authentication){const e=n.authentication;c={portal:"https://www.arcgis.com/sharing/rest",getToken:()=>Promise.resolve(e)},n.authentication.startsWith("AAPK")||n.suppressWarnings||globalThis.ARCGIS_REST_JS_SUPPRESS_TOKEN_WARNING||(u="Using an oAuth 2.0 access token directly in the token option is discouraged. Consider using ArcGISIdentityManager or Application session. See https://esriurl.com/arcgis-rest-js-direct-token-warning for more information.",console&&console.warn&&console.warn.apply(console,[u]),globalThis.ARCGIS_REST_JS_SUPPRESS_TOKEN_WARNING=!0)}else c=n.authentication;var u;const h=e;return(c?c.getToken(e).catch((t=>(t.url=e,t.options=n,a=t,Promise.resolve("")))):Promise.resolve("")).then((t=>{t.length&&(o.token=t),c&&c.getDomainCredentials&&(l.credentials=c.getDomainCredentials(e));const r={};if("GET"===l.method){o.token&&n.hideToken&&"undefined"==typeof window&&(r["X-Esri-Authorization"]=`Bearer ${o.token}`,delete o.token);const i=""===vi(o)?e:e+"?"+vi(o);n.maxUrlLength&&i.length>n.maxUrlLength||o.token&&n.hideToken?(l.method="POST",t.length&&n.hideToken&&(o.token=t,delete r["X-Esri-Authorization"])):e=i}const i=new RegExp("/items/.+/updateResources").test(e);return"POST"===l.method&&(l.body=function(e,t){const r=fi(e)||t,n=mi(e);if(r){const e=new Si;return Object.keys(n).forEach((t=>{if("undefined"!=typeof Blob&&n[t]instanceof Blob){const r=n.fileName||n[t].name||t;e.append(t,n[t],r)}else e.append(t,n[t])})),e}return vi(e)}(o,i)),l.headers=Object.assign(Object.assign({},r),n.headers),("undefined"==typeof window||window&&void 0===window.document)&&!l.headers.referer&&(l.headers.referer=yi),fi(o)||i||(l.headers["Content-Type"]="application/x-www-form-urlencoded"),globalThis.fetch?globalThis.fetch(e,l):Promise.resolve({fetch:globalThis.fetch,Headers:globalThis.Headers,Response:globalThis.Response,Request:globalThis.Request}).then((({fetch:t})=>t(e,l)))})).then((t=>{if(!t.ok)return t.json().then((r=>{const{status:i,statusText:s}=t,{message:o,details:a}=r.error,l=`${o}. ${a?a.join(" "):""}`.trim();throw new Ei(l,`HTTP ${i} ${s}`,r,e,n)})).catch((r=>{if("ArcGISRequestError"===r.name)throw r;const{status:i,statusText:s}=t;throw new Ei(s,`HTTP ${i}`,t,e,n)}));if(s)return t;switch(o.f){case"json":case"geojson":return t.json();case"html":case"text":return t.text();default:return t.blob()}})).then((t=>{if("json"!==o.f&&"geojson"!==o.f||s)return t;{const r=function(e,t,r,n,i){if(e.code>=400){const{message:r,code:i}=e;throw new Ei(r,i,e,t,n)}if(e.error){const{message:r,code:s,messageCode:o}=e.error,a=o||s||"UNKNOWN_ERROR_CODE";if(498===s||499===s)throw i||new Ii(r,a,e,t,n);throw new Ei(r,a,e,t,n)}if("failed"===e.status||"failure"===e.status){let r,i="UNKNOWN_ERROR_CODE";try{r=JSON.parse(e.statusMessage).message,i=JSON.parse(e.statusMessage).code}catch(t){r=e.statusMessage||e.message}throw new Ei(r,i,e,t,n)}return e}(t,h,0,n,a);if(a){const t=e.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];n.authentication.federatedServers[t]={token:[],expires:new Date(Date.now()+864e5)},a=null}return r}}))}function Ti(e,t={params:{f:"json"}}){return wi(e,t).catch((e=>e instanceof Ii&&t.authentication&&"string"!=typeof t.authentication&&t.authentication.canRefresh&&t.authentication.refreshCredentials?e.retry((()=>t.authentication.refreshCredentials()),1):Promise.reject(e)))}var Ai,bi;!function(e){e.TOKEN_REFRESH_FAILED="TOKEN_REFRESH_FAILED",e.GENERATE_TOKEN_FOR_SERVER_FAILED="GENERATE_TOKEN_FOR_SERVER_FAILED",e.REFRESH_TOKEN_EXCHANGE_FAILED="REFRESH_TOKEN_EXCHANGE_FAILED",e.NOT_FEDERATED="NOT_FEDERATED",e.UNKNOWN_ERROR_CODE="UNKNOWN_ERROR_CODE"}(Ai||(Ai={}));class Oi extends Error{constructor(e="UNKNOWN_ERROR",t=Ai.UNKNOWN_ERROR_CODE,r,n,i){super(e);const s=new.target.prototype;Object.setPrototypeOf(this,s),this.name="ArcGISTokenRequestError",this.message=`${t}: ${e}`,this.originalMessage=e,this.code=t,this.response=r,this.url=n,this.options=i}}class Ri extends Error{constructor(){super("The user has denied your authorization request.");const e=new.target.prototype;Object.setPrototypeOf(this,e),this.name="ArcGISAccessDeniedError"}}Error;function Ni(e){return"string"!=typeof e||"/"===(e=e.trim())[e.length-1]&&(e=e.slice(0,-1)),e}!function(e){e.ArcGISRequestError="ArcGISRequestError",e.ArcGISAuthError="ArcGISAuthError",e.ArcGISAccessDeniedError="ArcGISAccessDeniedError",e.ArcGISTokenRequestError="ArcGISTokenRequestError"}(bi||(bi={}));const Li=3e5;function Pi(e,t){const r=t;return r.rawResponse=!1,Ti(e,r).then((e=>{if("token"in e&&"expires"in e)return{token:e.token,username:t.params.username,expires:new Date(e.expires)};const r={token:e.access_token,username:e.username,expires:new Date(Date.now()+1e3*e.expires_in-Li),ssl:!0===e.ssl};return e.refresh_token&&(r.refreshToken=e.refresh_token),e.refresh_token_expires_in&&(r.refreshTokenExpires=new Date(Date.now()+1e3*e.refresh_token_expires_in-Li)),r}))}function xi(e){return!e||e.length<=0?{}:e.replace(/^#/,"").replace(/^\?/,"").split("&").reduce(((e,t)=>{const{key:r,value:n}=function(e){const[t,r]=e.split("=");return{key:decodeURIComponent(t),value:decodeURIComponent(r)}}(t);return e[r]=n,e}),{})}const Ci=/^https?:\/\/(\S+)\.arcgis\.com.+/;function Di(e){return Ci.test(e)}function _i(e){if(!Ci.test(e))return null;const t=e.match(Ci)[1].split(".").pop();return t.includes("dev")?"dev":t.includes("qa")?"qa":"production"}function Mi(e,t){const r=Ni(function(e){if(!Ci.test(e))return e;switch(_i(e)){case"dev":return"https://devext.arcgis.com/sharing/rest";case"qa":return"https://qaext.arcgis.com/sharing/rest";default:return"https://www.arcgis.com/sharing/rest"}}(t)).replace(/https?:\/\//,""),n=Ni(e).replace(/https?:\/\//,"");return new RegExp(n,"i").test(r)}function ji(e,t=window){return!t&&window&&(t=window),t.btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function ki(e){!e&&window&&(e=window);return ji(e.crypto.getRandomValues(new Uint8Array(32)))}class Ui{constructor(e){if(this.clientId=e.clientId,this._refreshToken=e.refreshToken,this._refreshTokenExpires=e.refreshTokenExpires,this._username=e.username,this.password=e.password,this._token=e.token,this._tokenExpires=e.tokenExpires,this.portal=e.portal?Ni(e.portal):"https://www.arcgis.com/sharing/rest",this.ssl=e.ssl,this.provider=e.provider||"arcgis",this.tokenDuration=e.tokenDuration||20160,this.redirectUri=e.redirectUri,this.server=e.server,this.referer=e.referer,this.federatedServers={},this.trustedDomains=[],e.server){const t=this.getServerRootUrl(e.server);this.federatedServers[t]={token:e.token,expires:e.tokenExpires}}this._pendingTokenRequests={}}get token(){return this._token}get tokenExpires(){return this._tokenExpires}get refreshToken(){return this._refreshToken}get refreshTokenExpires(){return this._refreshTokenExpires}get username(){return this._username?this._username:this._user&&this._user.username?this._user.username:void 0}get canRefresh(){return!(!this.username||!this.password)||!!(this.clientId&&this.refreshToken&&this.redirectUri)}static beginOAuth2(e,t){!t&&window&&(t=window);const{portal:r,provider:n,clientId:i,expiration:s,redirectUri:o,popup:a,popupWindowFeatures:l,locale:c,params:u,style:h,pkce:d,state:p}=Object.assign({portal:"https://www.arcgis.com/sharing/rest",provider:"arcgis",expiration:20160,popup:!0,popupWindowFeatures:"height=400,width=600,menubar=no,location=yes,resizable=yes,scrollbars=yes,status=yes",locale:"",style:"",pkce:!0},e),f=p||ki(t),m=`ARCGIS_REST_JS_AUTH_STATE_${i}`;t.localStorage.setItem(m,f);let g=`${Ni(r)}/oauth2/authorize`;const v={client_id:i,response_type:d?"code":"token",expiration:s,redirect_uri:o,state:JSON.stringify({id:f,originalUrl:t.location.href}),locale:c,style:h};let S;if("arcgis"!==n&&(g=`${Ni(r)}/oauth2/social/authorize`,v.socialLoginProviderName=n,v.autoAccountCreateForSocial=!0),d){const e=ki(t),r=`ARCGIS_REST_JS_CODE_VERIFIER_${i}`;t.localStorage.setItem(r,e),S=function(e,t=window){if(!t&&window&&(t=window),e&&t.isSecureContext&&t.crypto&&t.crypto.subtle){const r=(new t.TextEncoder).encode(e);return t.crypto.subtle.digest("SHA-256",r).then((e=>ji(new Uint8Array(e),t)))}return Promise.resolve(null)}(e,t).then((function(t){v.code_challenge_method=t?"S256":"plain",v.code_challenge=t||e}))}else S=Promise.resolve();return S.then((()=>(g=`${g}?${vi(v)}`,u&&(g=`${g}&${vi(u)}`),a?new Promise(((e,n)=>{t.addEventListener(`arcgis-rest-js-popup-auth-${i}`,(t=>{if("access_denied"===t.detail.error){const e=new Ri;return n(e),e}if(t.detail.errorMessage){const e=new Ii(t.detail.errorMessage,t.detail.error);return n(e),e}e(new Ui({clientId:i,portal:r,ssl:t.detail.ssl,token:t.detail.token,tokenExpires:t.detail.expires,username:t.detail.username,refreshToken:t.detail.refreshToken,refreshTokenExpires:t.detail.refreshTokenExpires,redirectUri:o}))}),{once:!0}),t.open(g,"oauth-window",l),t.dispatchEvent(new CustomEvent("arcgis-rest-js-popup-auth-start"))})):void(t.location.href=g))))}static completeOAuth2(e,t){!t&&window&&(t=window);const{portal:r,clientId:n,popup:i,pkce:s,redirectUri:o}=Object.assign({portal:"https://www.arcgis.com/sharing/rest",popup:!0,pkce:!0},e),a=`ARCGIS_REST_JS_AUTH_STATE_${n}`,l=t.localStorage.getItem(a),c=xi(s?t.location.search.replace(/^\?/,""):t.location.hash.replace(/^#/,"")),u=c&&c.state?JSON.parse(c.state):void 0;function h(e,r,s){return t.localStorage.removeItem(a),i&&t.opener?(t.opener.dispatchEvent(new CustomEvent(`arcgis-rest-js-popup-auth-${n}`,{detail:{error:r,errorMessage:e}})),void t.close()):(s&&t.history.replaceState(t.history.state,"",s),"access_denied"===r?Promise.reject(new Ri):Promise.reject(new Ii(e,r)))}function d(e,s){return t.localStorage.removeItem(a),i&&t.opener?(t.opener.dispatchEvent(new CustomEvent(`arcgis-rest-js-popup-auth-${n}`,{detail:Object.assign({},e)})),void t.close()):(t.history.replaceState(t.history.state,"",s),new Ui({clientId:n,portal:r,ssl:e.ssl,token:e.token,tokenExpires:e.expires,username:e.username,refreshToken:e.refreshToken,refreshTokenExpires:e.refreshTokenExpires,redirectUri:o||location.href.replace(location.search,"")}))}if(!l||!u)return h("No authentication state was found, call `ArcGISIdentityManager.beginOAuth2(...)` to start the authentication process.","no-auth-state");if(u.id!==l)return h("Saved client state did not match server sent state.","mismatched-auth-state");if(c.error){const e=c.error;return h(c.error_description||"Unknown error",e,u.originalUrl)}if(s&&c.code){const e=Ni(`${r}/oauth2/token/`),i=`ARCGIS_REST_JS_CODE_VERIFIER_${n}`,s=t.localStorage.getItem(i);return t.localStorage.removeItem(i),Pi(e,{httpMethod:"POST",params:{client_id:n,code_verifier:s,grant_type:"authorization_code",redirect_uri:o||location.href.replace(location.search,""),code:c.code}}).then((e=>d(Object.assign(Object.assign({},e),u),u.originalUrl))).catch((e=>h(e.originalMessage,e.code,u.originalUrl)))}return!s&&c.access_token?Promise.resolve(d(Object.assign({token:c.access_token,expires:new Date(Date.now()+1e3*parseInt(c.expires_in,10)),ssl:"true"===c.ssl,username:c.username},u),u.originalUrl)):h("Unknown error","oauth-error",u.originalUrl)}static fromParent(e,t){let r;return!t&&window&&(t=window),new Promise(((n,i)=>{r=e=>{if(e.source===t.parent&&e.data)try{return n(Ui.parentMessageHandler(e))}catch(e){return i(e)}},t.addEventListener("message",r,!1),t.parent.postMessage({type:"arcgis:auth:requestCredential"},e)})).then((e=>(t.removeEventListener("message",r,!1),e)))}static authorize(e,t){const{portal:r,clientId:n,expiration:i,redirectUri:s,state:o}=Object.assign({portal:"https://arcgis.com/sharing/rest",expiration:20160},e),a={client_id:n,expiration:i,response_type:"code",redirect_uri:s};o&&(a.state=o);const l=`${r}/oauth2/authorize?${vi(a)}`;t.writeHead(301,{Location:l}),t.end()}static exchangeAuthorizationCode(e,t){const{portal:r,clientId:n,redirectUri:i}=Object.assign({portal:"https://www.arcgis.com/sharing/rest"},e);return Pi(`${r}/oauth2/token`,{params:{grant_type:"authorization_code",client_id:n,redirect_uri:i,code:t}}).then((e=>new Ui({clientId:n,portal:r,ssl:e.ssl,redirectUri:i,refreshToken:e.refreshToken,refreshTokenExpires:e.refreshTokenExpires,token:e.token,tokenExpires:e.expires,username:e.username}))).catch((e=>{throw new Oi(e.message,Ai.REFRESH_TOKEN_EXCHANGE_FAILED,e.response,e.url,e.options)}))}static deserialize(e){const t=JSON.parse(e);return new Ui({clientId:t.clientId,refreshToken:t.refreshToken,refreshTokenExpires:t.refreshTokenExpires?new Date(t.refreshTokenExpires):void 0,username:t.username,password:t.password,token:t.token,tokenExpires:t.tokenExpires?new Date(t.tokenExpires):void 0,portal:t.portal,ssl:t.ssl,tokenDuration:t.tokenDuration,redirectUri:t.redirectUri,server:t.server})}static fromCredential(e,t){const r=void 0===e.ssl||e.ssl,n=e.expires||Date.now()+72e5;return t.hasServer?new Ui({server:e.server,ssl:r,token:e.token,username:e.userId,tokenExpires:new Date(n)}):new Ui({portal:Ni(e.server.includes("sharing/rest")?e.server:e.server+"/sharing/rest"),ssl:r,token:e.token,username:e.userId,tokenExpires:new Date(n)})}static parentMessageHandler(e){if("arcgis:auth:credential"===e.data.type)return new Ui(e.data.credential);if("arcgis:auth:error"===e.data.type){const t=new Error(e.data.error.message);throw t.name=e.data.error.name,t}throw new Error("Unknown message type.")}static destroy(e){return function(e){const t=`${Ni(e.portal||"https://www.arcgis.com/sharing/rest")}/oauth2/revokeToken/`,r=e.token,n=e.clientId;delete e.portal,delete e.clientId,delete e.token;const i=Object.assign(Object.assign({},e),{httpMethod:"POST",params:{client_id:n,auth_token:r}});return Ti(t,i).then((e=>{if(!e.success)throw new Ei("Unable to revoke token",500,e,t,i);return e}))}({clientId:e.clientId,portal:e.portal,token:e.refreshToken||e.token})}static fromToken(e){const t=new Ui(e);return t.getUser().then((()=>t))}static signIn(e){const t=new Ui(e);return t.getUser().then((()=>t))}toCredential(){return{expires:this.tokenExpires.getTime(),server:this.server||this.portal,ssl:this.ssl,token:this.token,userId:this.username}}getUser(e){if(this._pendingUserRequest)return this._pendingUserRequest;if(this._user)return Promise.resolve(this._user);{const t=`${this.portal}/community/self`,r=Object.assign(Object.assign({httpMethod:"GET",authentication:this},e),{rawResponse:!1});return this._pendingUserRequest=Ti(t,r).then((e=>(this._user=e,this._pendingUserRequest=null,e))),this._pendingUserRequest}}getPortal(e){if(this._pendingPortalRequest)return this._pendingPortalRequest;if(this._portalInfo)return Promise.resolve(this._portalInfo);{const t=`${this.portal}/portals/self`,r=Object.assign(Object.assign({httpMethod:"GET",authentication:this},e),{rawResponse:!1});return this._pendingPortalRequest=Ti(t,r).then((e=>(this._portalInfo=e,this._pendingPortalRequest=null,e))),this._pendingPortalRequest}}getUsername(){return this.username?Promise.resolve(this.username):this.getUser().then((e=>e.username))}getToken(e,t){return function(e,t){const r=Di(e),n=Di(t),i=_i(e),s=_i(t);return!(!r||!n||i!==s)}(this.portal,e)||new RegExp(this.portal,"i").test(e)?this.getFreshToken(t):this.getTokenForServer(e,t)}validateAppAccess(e){return this.getToken(this.portal).then((t=>function(e,t,r="https://www.arcgis.com/sharing/rest"){return Ti(`${r}/oauth2/validateAppAccess`,{method:"POST",params:{f:"json",client_id:t,token:e}})}(t,e)))}toJSON(){return{clientId:this.clientId,refreshToken:this.refreshToken,refreshTokenExpires:this.refreshTokenExpires||void 0,username:this.username,password:this.password,token:this.token,tokenExpires:this.tokenExpires||void 0,portal:this.portal,ssl:this.ssl,tokenDuration:this.tokenDuration,redirectUri:this.redirectUri,server:this.server}}serialize(){return JSON.stringify(this)}enablePostMessageAuth(e,t){!t&&window&&(t=window),this._hostHandler=this.createPostMessageHandler(e),t.addEventListener("message",this._hostHandler,!1)}disablePostMessageAuth(e){!e&&window&&(e=window),e.removeEventListener("message",this._hostHandler,!1)}refreshCredentials(e){return this._user=null,this.username&&this.password?this.refreshWithUsernameAndPassword(e):this.clientId&&this.refreshToken?this.refreshWithRefreshToken():Promise.reject(new Oi("Unable to refresh token. No refresh token or password present.",Ai.TOKEN_REFRESH_FAILED))}getServerRootUrl(e){const[t]=Ni(e).split(/\/rest(\/admin)?\/services(?:\/|#|\?|$)/),[r,n,i]=t.match(/(https?:\/\/)(.+)/),[s,...o]=i.split("/");return`${n}${s.toLowerCase()}/${o.join("/")}`}getDomainCredentials(e){return this.trustedDomains&&this.trustedDomains.length&&this.trustedDomains.some((t=>e.startsWith(t)))?"include":"same-origin"}signOut(){return Ui.destroy(this)}createPostMessageHandler(e){return t=>{const r=e.indexOf(t.origin)>-1,n="arcgis:auth:requestCredential"===t.data.type,i=this.tokenExpires.getTime()>Date.now();if(r&&n){let e={};if(i){e={type:"arcgis:auth:credential",credential:this.toJSON()}}else e={type:"arcgis:auth:error",error:{name:"tokenExpiredError",message:"Token was expired, and not returned to the child application"}};t.source.postMessage(e,t.origin)}}}getTokenForServer(e,t){const r=this.getServerRootUrl(e),n=this.federatedServers[r];return n&&n.expires&&n.expires.getTime()>Date.now()?Promise.resolve(n.token):(this._pendingTokenRequests[r]||(this._pendingTokenRequests[r]=this.fetchAuthorizedDomains().then((()=>Ti(`${r}/rest/info`,{credentials:this.getDomainCredentials(e)}).then((n=>{if(n.owningSystemUrl){if(Mi(n.owningSystemUrl,this.portal))return Ti(`${n.owningSystemUrl}/sharing/rest/info`,t);throw new Oi(`${e} is not federated with ${this.portal}.`,Ai.NOT_FEDERATED)}if(n.authInfo&&void 0!==this.federatedServers[r])return Promise.resolve({authInfo:n.authInfo});throw new Oi(`${e} is not federated with any portal and is not explicitly trusted.`,Ai.NOT_FEDERATED)})).then((e=>this.token&&this.tokenExpires.getTime()<Date.now()?this.server?this.refreshCredentials().then((()=>({token:this.token,expires:this.tokenExpires}))):this.refreshCredentials().then((()=>this.generateTokenForServer(e.authInfo.tokenServicesUrl,r))):this.generateTokenForServer(e.authInfo.tokenServicesUrl,r))).then((e=>(this.federatedServers[r]=e,delete this._pendingTokenRequests[r],e.token)))))),this._pendingTokenRequests[r])}generateTokenForServer(e,t){return Ti(e,{params:{token:this.token,serverUrl:t,expiration:this.tokenDuration}}).then((e=>({token:e.token,expires:new Date(e.expires-3e5)}))).catch((e=>{throw new Oi(e.message,Ai.GENERATE_TOKEN_FOR_SERVER_FAILED,e.response,e.url,e.options)}))}getFreshToken(e){return this.token&&!this.tokenExpires||this.token&&this.tokenExpires&&this.tokenExpires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequests[this.portal]||(this._pendingTokenRequests[this.portal]=this.refreshCredentials(e).then((()=>(this._pendingTokenRequests[this.portal]=null,this.token)))),this._pendingTokenRequests[this.portal])}refreshWithUsernameAndPassword(e){const t={username:this.username,password:this.password,expiration:this.tokenDuration,client:"referer",referer:this.referer?this.referer:"undefined"!=typeof window&&void 0!==window.document&&window.location&&window.location.origin?window.location.origin:yi};return(this.server?Ti(`${this.getServerRootUrl(this.server)}/rest/info`).then((r=>Ti(r.authInfo.tokenServicesUrl,Object.assign({params:t},e)))):Ti(`${this.portal}/generateToken`,Object.assign({params:t},e))).then((e=>(this.updateToken(e.token,new Date(e.expires)),this))).catch((e=>{throw new Oi(e.message,Ai.TOKEN_REFRESH_FAILED,e.response,e.url,e.options)}))}refreshWithRefreshToken(e){if(this.refreshToken&&this.refreshTokenExpires&&this.refreshTokenExpires.getTime()-864e5<Date.now())return this.exchangeRefreshToken(e);const t=Object.assign({params:{client_id:this.clientId,refresh_token:this.refreshToken,grant_type:"refresh_token"}},e);return Pi(`${this.portal}/oauth2/token`,t).then((e=>this.updateToken(e.token,e.expires))).catch((e=>{throw new Oi(e.message,Ai.TOKEN_REFRESH_FAILED,e.response,e.url,e.options)}))}updateToken(e,t){return this._token=e,this._tokenExpires=t,this}exchangeRefreshToken(e){const t=Object.assign({params:{client_id:this.clientId,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,grant_type:"exchange_refresh_token"}},e);return Pi(`${this.portal}/oauth2/token`,t).then((e=>(this._token=e.token,this._tokenExpires=e.expires,this._refreshToken=e.refreshToken,this._refreshTokenExpires=e.refreshTokenExpires,this))).catch((e=>{throw new Oi(e.message,Ai.REFRESH_TOKEN_EXCHANGE_FAILED,e.response,e.url,e.options)}))}fetchAuthorizedDomains(){return this.server||!this.portal?Promise.resolve(this):this.getPortal().then((e=>(e.authorizedCrossOriginDomains&&e.authorizedCrossOriginDomains.length&&(this.trustedDomains=e.authorizedCrossOriginDomains.filter((e=>!e.startsWith("http://"))).map((e=>e.startsWith("https://")?e:`https://${e}`))),this)))}}function Bi(e){return console.log("DEPRECATED:, 'UserSession' is deprecated. Use 'ArcGISIdentityManager' instead."),new Ui(e)}var Hi;Bi.beginOAuth2=function(...e){return console.warn("DEPRECATED:, 'UserSession.beginOAuth2' is deprecated. Use 'ArcGISIdentityManager.beginOAuth2' instead."),Ui.beginOAuth2(...e)},Bi.completeOAuth2=function(...e){return console.warn("DEPRECATED:, 'UserSession.completeOAuth2()' is deprecated. Use 'ArcGISIdentityManager.completeOAuth2()' instead."),e.length<=1&&console.warn("WARNING:, 'UserSession.completeOAuth2()' is now async and returns a promise the resolves to an instance of `ArcGISIdentityManager`."),Ui.completeOAuth2(...e)},Bi.fromParent=function(...e){return console.warn("DEPRECATED:, 'UserSession.fromParent' is deprecated. Use 'ArcGISIdentityManager.fromParent' instead."),Ui.fromParent(...e)},Bi.authorize=function(...e){return console.warn("DEPRECATED:, 'UserSession.authorize' is deprecated. Use 'ArcGISIdentityManager.authorize' instead."),Ui.authorize(...e)},Bi.exchangeAuthorizationCode=function(...e){return console.warn("DEPRECATED:, 'UserSession.exchangeAuthorizationCode' is deprecated. Use 'ArcGISIdentityManager.exchangeAuthorizationCode' instead."),Ui.exchangeAuthorizationCode(...e)},Bi.fromCredential=function(...e){return console.log("DEPRECATED:, 'UserSession.fromCredential' is deprecated. Use 'ArcGISIdentityManager.fromCredential' instead."),console.warn("WARNING:, 'UserSession.fromCredential' now requires a `ServerInfo` object from the JS API as a second parameter."),Ui.fromCredential(...e)},Bi.deserialize=function(...e){return console.log("DEPRECATED:, 'UserSession.deserialize' is deprecated. Use 'ArcGISIdentityManager.deserialize' instead."),Ui.deserialize(...e)},function(e){e.Success="Succeeded",e.Failed="Failed",e.Waiting="Waiting",e.Cancelled="Cancelled",e.Cancelling="Cancelling",e.New="New",e.Executing="Executing",e.Submitted="Submitted",e.Failure="Failure",e.TimedOut="TimedOut",e.Error="Error",e.Status="Etatus",e.Unknown="Unknown"}(Hi||(Hi={}));var Fi=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const Gi={},Vi={};function Wi(e){return Fi(this,void 0,void 0,(function*(){if(Vi[e])return Vi[e];let t=[];const r=ai.getInstance().getExtensions(Qn.DependencyDefine).filter((t=>t.getDependencyKey()===e))[0];if(r)t=t.concat(r.getResources());else{if(!/^http/.test(e))return console.error("Unknown dependency.",e),Promise.reject(Error(`Unknown dependency: ${e}.`));t.push({url:e})}const n=[];return t.forEach((e=>{Gi[e.url]?n.push(Gi[e.url]):n.push(zi(e))})),Vi[e]=Promise.all(n).then((e=>{if(null==r?void 0:r.postInit)return r.postInit()}))}))}function zi(e){return Fi(this,void 0,void 0,(function*(){if(e.dependencies&&e.dependencies.length>0)return Promise.all(e.dependencies.map((e=>Fi(this,void 0,void 0,(function*(){return zi(e)}))))).then((()=>Fi(this,void 0,void 0,(function*(){return delete e.dependencies,zi(e)}))));const t=e.url;return Gi[e.url]=ti(t),Gi[e.url]}))}var $i=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};function Ki(e){return $i(this,void 0,void 0,(function*(){return yield Wi("jimu-arcgis"),yield function(e){return Zn(this,void 0,void 0,(function*(){return yield Promise.all(e.map((e=>Zn(this,void 0,void 0,(function*(){return yield ti(e)})))))}))}(e)}))}function qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var Xi=function e(t,r){function n(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=qi({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var o in i)i[o]&&(s+="; "+o,!0!==i[o]&&(s+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+s}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},i=0;i<r.length;i++){var s=r[i].split("="),o=s.slice(1).join("=");try{var a=decodeURIComponent(s[0]);if(n[a]=t.read(o,a),e===a)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){n(e,"",qi({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,qi({},this.attributes,t))},withConverter:function(t){return e(qi({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const Yi="Sorry, you do not have permission to access this resource.",Ji="Sorry, you do not have permission to access this resource. Click to enter credential.",Qi="Sorry, you do not have permission to access this resource. Please try again.";class Zi{constructor(){this._status="pending",this._promise=new Promise(((e,t)=>{this._resolver=e,this._rejecter=t}))}resolve(e){return this._status="resolved",this._resolver(e)}reject(e){return this._status="rejected",this._rejecter(e)}get status(){return this._status}get promise(){return this._promise}}const es=function(){this.__data__=[],this.size=0};const ts=function(e,t){return e===t||e!=e&&t!=t};const rs=function(e,t){for(var r=e.length;r--;)if(ts(e[r][0],t))return r;return-1};var ns=Array.prototype.splice;const is=function(e){var t=this.__data__,r=rs(t,e);return!(r<0)&&(r==t.length-1?t.pop():ns.call(t,r,1),--this.size,!0)};const ss=function(e){var t=this.__data__,r=rs(t,e);return r<0?void 0:t[r][1]};const os=function(e){return rs(this.__data__,e)>-1};const as=function(e,t){var r=this.__data__,n=rs(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function ls(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ls.prototype.clear=es,ls.prototype.delete=is,ls.prototype.get=ss,ls.prototype.has=os,ls.prototype.set=as;const cs=ls;const us=function(){this.__data__=new cs,this.size=0};const hs=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};const ds=function(e){return this.__data__.get(e)};const ps=function(e){return this.__data__.has(e)};const fs="object"==typeof global&&global&&global.Object===Object&&global;var ms="object"==typeof self&&self&&self.Object===Object&&self;const gs=fs||ms||Function("return this")();const vs=gs.Symbol;var Ss=Object.prototype,Es=Ss.hasOwnProperty,ys=Ss.toString,Is=vs?vs.toStringTag:void 0;const ws=function(e){var t=Es.call(e,Is),r=e[Is];try{e[Is]=void 0;var n=!0}catch(e){}var i=ys.call(e);return n&&(t?e[Is]=r:delete e[Is]),i};var Ts=Object.prototype.toString;const As=function(e){return Ts.call(e)};var bs=vs?vs.toStringTag:void 0;const Os=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":bs&&bs in Object(e)?ws(e):As(e)};const Rs=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const Ns=function(e){if(!Rs(e))return!1;var t=Os(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const Ls=gs["__core-js_shared__"];var Ps,xs=(Ps=/[^.]+$/.exec(Ls&&Ls.keys&&Ls.keys.IE_PROTO||""))?"Symbol(src)_1."+Ps:"";const Cs=function(e){return!!xs&&xs in e};var Ds=Function.prototype.toString;const _s=function(e){if(null!=e){try{return Ds.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var Ms=/^\[object .+?Constructor\]$/,js=Function.prototype,ks=Object.prototype,Us=js.toString,Bs=ks.hasOwnProperty,Hs=RegExp("^"+Us.call(Bs).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Fs=function(e){return!(!Rs(e)||Cs(e))&&(Ns(e)?Hs:Ms).test(_s(e))};const Gs=function(e,t){return null==e?void 0:e[t]};const Vs=function(e,t){var r=Gs(e,t);return Fs(r)?r:void 0};const Ws=Vs(gs,"Map");const zs=Vs(Object,"create");const $s=function(){this.__data__=zs?zs(null):{},this.size=0};const Ks=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var qs=Object.prototype.hasOwnProperty;const Xs=function(e){var t=this.__data__;if(zs){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return qs.call(t,e)?t[e]:void 0};var Ys=Object.prototype.hasOwnProperty;const Js=function(e){var t=this.__data__;return zs?void 0!==t[e]:Ys.call(t,e)};const Qs=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=zs&&void 0===t?"__lodash_hash_undefined__":t,this};function Zs(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zs.prototype.clear=$s,Zs.prototype.delete=Ks,Zs.prototype.get=Xs,Zs.prototype.has=Js,Zs.prototype.set=Qs;const eo=Zs;const to=function(){this.size=0,this.__data__={hash:new eo,map:new(Ws||cs),string:new eo}};const ro=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const no=function(e,t){var r=e.__data__;return ro(t)?r["string"==typeof t?"string":"hash"]:r.map};const io=function(e){var t=no(this,e).delete(e);return this.size-=t?1:0,t};const so=function(e){return no(this,e).get(e)};const oo=function(e){return no(this,e).has(e)};const ao=function(e,t){var r=no(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function lo(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}lo.prototype.clear=to,lo.prototype.delete=io,lo.prototype.get=so,lo.prototype.has=oo,lo.prototype.set=ao;const co=lo;const uo=function(e,t){var r=this.__data__;if(r instanceof cs){var n=r.__data__;if(!Ws||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new co(n)}return r.set(e,t),this.size=r.size,this};function ho(e){var t=this.__data__=new cs(e);this.size=t.size}ho.prototype.clear=us,ho.prototype.delete=hs,ho.prototype.get=ds,ho.prototype.has=ps,ho.prototype.set=uo;const po=ho;const fo=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e};const mo=function(){try{var e=Vs(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();const go=function(e,t,r){"__proto__"==t&&mo?mo(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var vo=Object.prototype.hasOwnProperty;const So=function(e,t,r){var n=e[t];vo.call(e,t)&&ts(n,r)&&(void 0!==r||t in e)||go(e,t,r)};const Eo=function(e,t,r,n){var i=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=n?n(r[a],e[a],a,r,e):void 0;void 0===l&&(l=e[a]),i?go(r,a,l):So(r,a,l)}return r};const yo=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};const Io=function(e){return null!=e&&"object"==typeof e};const wo=function(e){return Io(e)&&"[object Arguments]"==Os(e)};var To=Object.prototype,Ao=To.hasOwnProperty,bo=To.propertyIsEnumerable,Oo=wo(function(){return arguments}())?wo:function(e){return Io(e)&&Ao.call(e,"callee")&&!bo.call(e,"callee")};const Ro=Oo;const No=Array.isArray;const Lo=function(){return!1};var Po="object"==typeof exports&&exports&&!exports.nodeType&&exports,xo=Po&&"object"==typeof module&&module&&!module.nodeType&&module,Co=xo&&xo.exports===Po?gs.Buffer:void 0;const Do=(Co?Co.isBuffer:void 0)||Lo;var _o=/^(?:0|[1-9]\d*)$/;const Mo=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&_o.test(e))&&e>-1&&e%1==0&&e<t};const jo=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var ko={};ko["[object Float32Array]"]=ko["[object Float64Array]"]=ko["[object Int8Array]"]=ko["[object Int16Array]"]=ko["[object Int32Array]"]=ko["[object Uint8Array]"]=ko["[object Uint8ClampedArray]"]=ko["[object Uint16Array]"]=ko["[object Uint32Array]"]=!0,ko["[object Arguments]"]=ko["[object Array]"]=ko["[object ArrayBuffer]"]=ko["[object Boolean]"]=ko["[object DataView]"]=ko["[object Date]"]=ko["[object Error]"]=ko["[object Function]"]=ko["[object Map]"]=ko["[object Number]"]=ko["[object Object]"]=ko["[object RegExp]"]=ko["[object Set]"]=ko["[object String]"]=ko["[object WeakMap]"]=!1;const Uo=function(e){return Io(e)&&jo(e.length)&&!!ko[Os(e)]};const Bo=function(e){return function(t){return e(t)}};var Ho="object"==typeof exports&&exports&&!exports.nodeType&&exports,Fo=Ho&&"object"==typeof module&&module&&!module.nodeType&&module,Go=Fo&&Fo.exports===Ho&&fs.process;const Vo=function(){try{var e=Fo&&Fo.require&&Fo.require("util").types;return e||Go&&Go.binding&&Go.binding("util")}catch(e){}}();var Wo=Vo&&Vo.isTypedArray;const zo=Wo?Bo(Wo):Uo;var $o=Object.prototype.hasOwnProperty;const Ko=function(e,t){var r=No(e),n=!r&&Ro(e),i=!r&&!n&&Do(e),s=!r&&!n&&!i&&zo(e),o=r||n||i||s,a=o?yo(e.length,String):[],l=a.length;for(var c in e)!t&&!$o.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Mo(c,l))||a.push(c);return a};var qo=Object.prototype;const Xo=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||qo)};const Yo=function(e,t){return function(r){return e(t(r))}};const Jo=Yo(Object.keys,Object);var Qo=Object.prototype.hasOwnProperty;const Zo=function(e){if(!Xo(e))return Jo(e);var t=[];for(var r in Object(e))Qo.call(e,r)&&"constructor"!=r&&t.push(r);return t};const ea=function(e){return null!=e&&jo(e.length)&&!Ns(e)};const ta=function(e){return ea(e)?Ko(e):Zo(e)};const ra=function(e,t){return e&&Eo(t,ta(t),e)};const na=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t};var ia=Object.prototype.hasOwnProperty;const sa=function(e){if(!Rs(e))return na(e);var t=Xo(e),r=[];for(var n in e)("constructor"!=n||!t&&ia.call(e,n))&&r.push(n);return r};const oa=function(e){return ea(e)?Ko(e,!0):sa(e)};const aa=function(e,t){return e&&Eo(t,oa(t),e)};var la="object"==typeof exports&&exports&&!exports.nodeType&&exports,ca=la&&"object"==typeof module&&module&&!module.nodeType&&module,ua=ca&&ca.exports===la?gs.Buffer:void 0,ha=ua?ua.allocUnsafe:void 0;const da=function(e,t){if(t)return e.slice();var r=e.length,n=ha?ha(r):new e.constructor(r);return e.copy(n),n};const pa=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t};const fa=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s};const ma=function(){return[]};var ga=Object.prototype.propertyIsEnumerable,va=Object.getOwnPropertySymbols;const Sa=va?function(e){return null==e?[]:(e=Object(e),fa(va(e),(function(t){return ga.call(e,t)})))}:ma;const Ea=function(e,t){return Eo(e,Sa(e),t)};const ya=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e};const Ia=Yo(Object.getPrototypeOf,Object);const wa=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ya(t,Sa(e)),e=Ia(e);return t}:ma;const Ta=function(e,t){return Eo(e,wa(e),t)};const Aa=function(e,t,r){var n=t(e);return No(e)?n:ya(n,r(e))};const ba=function(e){return Aa(e,ta,Sa)};const Oa=function(e){return Aa(e,oa,wa)};const Ra=Vs(gs,"DataView");const Na=Vs(gs,"Promise");const La=Vs(gs,"Set");const Pa=Vs(gs,"WeakMap");var xa="[object Map]",Ca="[object Promise]",Da="[object Set]",_a="[object WeakMap]",Ma="[object DataView]",ja=_s(Ra),ka=_s(Ws),Ua=_s(Na),Ba=_s(La),Ha=_s(Pa),Fa=Os;(Ra&&Fa(new Ra(new ArrayBuffer(1)))!=Ma||Ws&&Fa(new Ws)!=xa||Na&&Fa(Na.resolve())!=Ca||La&&Fa(new La)!=Da||Pa&&Fa(new Pa)!=_a)&&(Fa=function(e){var t=Os(e),r="[object Object]"==t?e.constructor:void 0,n=r?_s(r):"";if(n)switch(n){case ja:return Ma;case ka:return xa;case Ua:return Ca;case Ba:return Da;case Ha:return _a}return t});const Ga=Fa;var Va=Object.prototype.hasOwnProperty;const Wa=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Va.call(e,"index")&&(r.index=e.index,r.input=e.input),r};const za=gs.Uint8Array;const $a=function(e){var t=new e.constructor(e.byteLength);return new za(t).set(new za(e)),t};const Ka=function(e,t){var r=t?$a(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)};var qa=/\w*$/;const Xa=function(e){var t=new e.constructor(e.source,qa.exec(e));return t.lastIndex=e.lastIndex,t};var Ya=vs?vs.prototype:void 0,Ja=Ya?Ya.valueOf:void 0;const Qa=function(e){return Ja?Object(Ja.call(e)):{}};const Za=function(e,t){var r=t?$a(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};const el=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return $a(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return Ka(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Za(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return Xa(e);case"[object Symbol]":return Qa(e)}};var tl=Object.create;const rl=function(){function e(){}return function(t){if(!Rs(t))return{};if(tl)return tl(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const nl=function(e){return"function"!=typeof e.constructor||Xo(e)?{}:rl(Ia(e))};const il=function(e){return Io(e)&&"[object Map]"==Ga(e)};var sl=Vo&&Vo.isMap;const ol=sl?Bo(sl):il;const al=function(e){return Io(e)&&"[object Set]"==Ga(e)};var ll=Vo&&Vo.isSet;const cl=ll?Bo(ll):al;var ul="[object Arguments]",hl="[object Function]",dl="[object Object]",pl={};pl[ul]=pl["[object Array]"]=pl["[object ArrayBuffer]"]=pl["[object DataView]"]=pl["[object Boolean]"]=pl["[object Date]"]=pl["[object Float32Array]"]=pl["[object Float64Array]"]=pl["[object Int8Array]"]=pl["[object Int16Array]"]=pl["[object Int32Array]"]=pl["[object Map]"]=pl["[object Number]"]=pl[dl]=pl["[object RegExp]"]=pl["[object Set]"]=pl["[object String]"]=pl["[object Symbol]"]=pl["[object Uint8Array]"]=pl["[object Uint8ClampedArray]"]=pl["[object Uint16Array]"]=pl["[object Uint32Array]"]=!0,pl["[object Error]"]=pl[hl]=pl["[object WeakMap]"]=!1;const fl=function e(t,r,n,i,s,o){var a,l=1&r,c=2&r,u=4&r;if(n&&(a=s?n(t,i,s,o):n(t)),void 0!==a)return a;if(!Rs(t))return t;var h=No(t);if(h){if(a=Wa(t),!l)return pa(t,a)}else{var d=Ga(t),p=d==hl||"[object GeneratorFunction]"==d;if(Do(t))return da(t,l);if(d==dl||d==ul||p&&!s){if(a=c||p?{}:nl(t),!l)return c?Ta(t,aa(a,t)):Ea(t,ra(a,t))}else{if(!pl[d])return s?t:{};a=el(t,d,l)}}o||(o=new po);var f=o.get(t);if(f)return f;o.set(t,a),cl(t)?t.forEach((function(i){a.add(e(i,r,n,i,t,o))})):ol(t)&&t.forEach((function(i,s){a.set(s,e(i,r,n,s,t,o))}));var m=h?void 0:(u?c?Oa:ba:c?oa:ta)(t);return fo(m||t,(function(i,s){m&&(i=t[s=i]),So(a,s,e(i,r,n,s,t,o))})),a};const ml=function(e){return fl(e,5)};var gl,vl,Sl=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){e.TokenRequired="TOKEN_REQUIRED",e.InvalidToken="INVALID_TOKEN",e.NoPermission="NO_PERMISSION",e.SignInCanceled="SIGN_IN_CANCELED",e.Other="OTHER"}(gl||(gl={})),function(e){e.ArcGISJSSync="ARCGIS_JS",e.OtherWindowSync="OTHER_WINDOW",e.AddOrUpdate="ADD_OR_UPDATE",e.Remove="REMOVE"}(vl||(vl={}));const El=12e5,yl=!1;class Il{getMainSession(){var e;if(!this.sessions||!this.getMainPortal())return null;const t=this.sessions[this.getSessionKeyFromUrl(null===(e=this.getMainPortal())||void 0===e?void 0:e.portalUrl)];return this.isSessionExpired(t)?t:null}getSessions(){if(!this.sessions)return[];const e={};return Object.keys(this.sessions).forEach((t=>{const r=this.sessions[t];this.isSessionExpired(r)&&(e[t]=r)})),this.sessions=e,Object.keys(this.sessions).map((e=>this.sessions[e]))}clearSessions(){delete this.sessions}onSessionChanged(e){if(this.onSessionChangedCallbacks){const t=this.getSessions();this.onSessionChangedCallbacks.forEach((r=>{r(t,e)}))}}static getInstance(){return Il.instance||(Il.instance=new Il,window._sessionManager=Il.instance,this.instance.isSigning=!1,this.instance.signInUrlFromQueue="",this.instance.signInQueue=[],this.instance.onSessionChangedCallbacks=[],this.instance.requestCacheForValidatingToken={},this.instance.signInDialogPendingList={},this.instance.noPermissionResourceInfoList={}),Il.instance}constructor(){this.isMainSession=e=>{if(!e)return!1;if(!this.isSessionExpired(e))return!1;const t=this.getSessionKeyFromUrl(e.portal),r=this.getMainPortal();return!(!(null==r?void 0:r.portalUrl)||t!==this.getSessionKeyFromUrl(null==r?void 0:r.portalUrl)||e.clientId!==(null==r?void 0:r.clientId))},this.processInvalidSignInSession=()=>{this.removeAuthInfo(),this.clearSessions()},this.gotoSignInPage=()=>{var e,t;const r=!window.jimuConfig.isSite&&!window.jimuConfig.isBuilder,n=`${window.location.pathname}${window.location.search}${window.location.hash}`;window.jimuConfig.isDevEdition&&(null===(t=null===(e=Vl().getState())||void 0===e?void 0:e.portalUrl)||void 0===t?void 0:t.includes("www.arcgis.com"))?this.gotoLandingPage():window.jimuConfig.isInPortal||window.jimuConfig.isBuilder||r?this.signIn({fromUrl:n,popup:!1}):this.gotoLandingPage()},this.gotoLandingPage=()=>{let e;if(window.jimuConfig.isDevEdition)e=`${location.protocol}//${location.host}${window.jimuConfig.mountPath}page/set-portalurl`;else{e=`${location.protocol}//${location.host}/page/landing`;const t=Vl().getState().queryObject;t.locale&&(e=Jn(e,"locale",t.locale)),t.__env__&&(e=Jn(e,"__env__",t.__env__))}0!==window.location.href.indexOf(e)&&(window.location.href=e)},this.gotoAuthErrorPage=(e=gl.InvalidToken)=>{Vl().dispatch(function(e,t=!1){return{type:Hl.HasPrivilegeChanged,hasPrivilege:t,errorMessage:e}}(e))},this.handleAuthError=(e,...t)=>Sl(this,[e,...t],void 0,(function*(e,t=!0){const r=e.options,n=e instanceof Ii&&r&&(!r.authentication||498===e.code||"AUTHENTICATION_ERROR_CODE"===e.code),i=e instanceof Ei&&!r.authentication;if(n||i){const r=this.getSessionKeyFromUrl(e.url);return this.sessions&&this.sessions[r]&&delete this.sessions[r],yield this.signIn({fromUrl:window.location&&window.location.href,popup:t,desUrl:e.url})}throw e})),this.onSessionRequestMessage=e=>{var t,r;let n=e.origin===window.location.origin||this.canReadSessionFromParent(e.origin),i="arcgis:auth:requestCredential"===e.data.type;if(n&&i)try{let r;r=e.origin.endsWith("dev.arcgis.com")?"https://devext.arcgis.com":e.origin.endsWith("qa.arcgis.com")?"https://qaext.arcgis.com":e.origin.endsWith(".arcgis.com")?"https://www.arcgis.com":e.origin;const n=this.getSessionByUrl(r);if(!n)return void e.source.postMessage({type:"arcgis:auth:error",error:{name:"NoCredential",message:"Does not find credential."}},e.origin);let i=n.toCredential();i.server=i.server.replace("/sharing/rest",""),null===(t=e.source)||void 0===t||t.postMessage({type:"arcgis:auth:credential",credential:i},e.origin)}catch(t){null===(r=e.source)||void 0===r||r.postMessage({type:"arcgis:auth:error",error:{name:t.name,message:t.message}},e.origin),console.error("Response requestCredential error.",t)}},this.onSessionRequestMessage=this.onSessionRequestMessage.bind(this),window.addEventListener("message",this.onSessionRequestMessage,!1),this.clientIdDialogResultPromises={},window.jimuConfig.isInBuilder&&function(e,t){let r;function n(){let n=Gl.getState();t?(n=n.getIn(t),n!==r&&(e(r,n),r=n)):n!==r&&(e(r,n),r=n)}const i=Gl.subscribe(n);n()}(((e,t)=>{void 0===e?Wn():t.some((e=>{const t=this.getSessionKeyFromUrl(e.portalUrl);return!!this.clientIdDialogResultPromises[t]&&(this.onClientIdDialogFinished(e.portalUrl,e.clientId),!0)}))}),["appConfig","connections"])}needToRefreshSession(e){const t=(new Date).getTime();return e.tokenExpires-t<=El}refreshSessions(){return Sl(this,void 0,void 0,(function*(){const e=[];Object.values(this.sessions).forEach((t=>{if(this.needToRefreshSession(t))if(t.canRefresh)e.push(t.refreshCredentials().catch((()=>(console.warn("Refresh sessions failed: refresh credentials request failed"),Promise.resolve()))));else if(t.portal&&t.server){const r=Kn(Xn(window.location.href),Me.Https),n=this.getSessionByUrl(t.portal),i=`serverUrl=${t.server}&referer=${r}&token=${n.token}`;e.push(this.generateToken(Un(t.portal),i).then((e=>(e?t.updateToken(e.token,new Date(e.expires)):console.warn("Refresh sessions failed: generate token info is null"),Promise.resolve()))).catch((()=>(console.warn("Refresh sessions failed: generate token request failed"),Promise.resolve()))))}})),Promise.allSettled(e).then((e=>{(null==e?void 0:e.length)>0&&(this.syncToOtherWindowSessionManager(),this.onSessionChanged(vl.AddOrUpdate))}))}))}initSession(){return Sl(this,void 0,void 0,(function*(){const e=window.location.pathname;if(new RegExp(`^${window.jimuConfig.mountPath}page/set-portalurl`).test(e)||/^\/page\/landing/.test(e))return Promise.resolve();const t=Vl().getState().queryObject["arcgis-auth-origin"];return t&&this.canReadSessionFromParent(window.location.origin)?this.readSessionFromParent(t).then((e=>{if(e){const t=new Ui({clientId:e.clientId,token:e.token,tokenExpires:e.tokenExpires,refreshToken:e.refreshToken,refreshTokenExpires:e.refreshTokenExpires,redirectUri:e.redirectUri,portal:e.portal,username:e.username}),r=this.getSessionKeyFromUrl(t.portal);this.setSession(r,t)}})):this.initSessionFromCookieOrStorage()}))}initSessionFromCookieOrStorage(){return Sl(this,void 0,void 0,(function*(){var e;const t=this.getMainPortal();if(!t)return;let r=kn(t.portalUrl);$n(r)||(r=Kn(r,Me.Https));const n=this.isValidTokenFromStorage(t.portalUrl),i=function(e,t,r="https://www.arcgis.com/sharing/rest"){return Ti(`${r}/oauth2/platformSelf?f=json`,{method:"POST",headers:{"X-Esri-Auth-Client-Id":e,"X-Esri-Auth-Redirect-Uri":t},params:{f:"json"}})}(null==t?void 0:t.clientId,r,r).then((e=>e)).catch((()=>null)),[s,o]=yield null===(e=Promise.allSettled([n,i]))||void 0===e?void 0:e.then((e=>e.map((e=>null==e?void 0:e.value)))),a=this.getSessionFromStorage();if(a){const e=this.getSessionKeyFromUrl(a.portal);s&&o?a.username===o.username?this.setSession(e,a):this.setSesssionByPlatformSelfResponse(o,t):!s&&o?this.setSesssionByPlatformSelfResponse(o,t):s&&!o&&(!Hn(window.location.host)||this.readCookie("esri_locale"))?this.setSession(e,a):this.failedToInitSession()}else o?this.setSesssionByPlatformSelfResponse(o,t):this.failedToInitSession()}))}failedToInitSession(){if(this.processInvalidSignInSession(),window.jimuConfig.isSite||window.jimuConfig.isBuilder)throw this.gotoSignInPage(),new Error("Should signIn")}setSesssionByPlatformSelfResponse(e,t){let r=kn(t.portalUrl);$n(r)||(r=Kn(r,Me.Https));const n={expires:(new Date).getTime()+1e3*e.expires_in,server:r,ssl:!0,token:e.token,userId:e.username};let i=Ui.fromCredential(n,{hasPortal:!1,hasServer:!1,server:"",owningSystemUrl:""}),s=i.toJSON();s.clientId=t.clientId,i=new Ui(s);const o=this.getSessionKeyFromUrl(i.portal);this.setSession(o,i)}isValidTokenFromStorage(e){return Sl(this,void 0,void 0,(function*(){const t=this.getSessionFromStorage();if((null==t?void 0:t.token)&&e){const r=`${e}/sharing/rest`,n=Vl().getState().isWebTier?{credentials:"include"}:{};return this.isValidToken(r,t.token,n).then((e=>{var t;return!(!e.valid||!(null===(t=e.response)||void 0===t?void 0:t.currentVersion))}))}return Promise.resolve(!1)}))}isValidToken(e,t){return Sl(this,arguments,void 0,(function*(e,t,r={}){if(t){const n=`${e=di(e=Yn(e))}?f=json&token=${t}`,i=`${e}_${t}`;if(this.requestCacheForValidatingToken[i])return this.requestCacheForValidatingToken[i];{const e=fetch(n,r).then((e=>e.json())).then((e=>(null==e?void 0:e.error)?{valid:!1,error:e.error}:{valid:!0,response:e,error:null})).catch((e=>(console.log("failed to validate token."),{valid:!1,error:e})));return this.requestCacheForValidatingToken[i]=Promise.resolve(e),e}}return Promise.resolve({valid:!1,error:null})}))}getUserInfo(){return Sl(this,void 0,void 0,(function*(){return Vl().getState().user?yield Promise.resolve(Vl().getState().user.asMutable({deep:!0})):this.getMainSession()?yield this.getMainSession().getUser().then((e=>(this.afterGetUserInfo(e),e))):Promise.resolve(null)}))}afterGetUserInfo(e){Vl().dispatch(function(e){return{type:Hl.UserSignIn,user:e}}(e));const t=null===e.culture?"":e.culture;var r;null!==In(Qe)?In(Qe)!==t&&(wn(Qe,t),Vl().dispatch((r=!0,{type:Hl.UserLocaleChanged,isChanged:r}))):wn(Qe,t)}getMainPortal(){const e=Vl().getState();if(!e.portalUrl)return null;return{portalUrl:e.portalUrl,clientId:e.clientId,isWebTier:e.isWebTier}}getTrustedServers(){var e;const t=Vl().getState(),r=null===(e=null==t?void 0:t.portalSelf)||void 0===e?void 0:e.authorizedCrossOriginDomains;return!this.trustedServers&&r&&(this.trustedServers=r.map((e=>Kn(Xn(e),Me.Https)))),this.trustedServers||[]}isTrustedServer(e){return this.getTrustedServers().some((t=>e.includes(t)))}removeSession(e){if(!e)return!1;const t=this.getSessionKeyFromSession(e);return!!this.removeSessionByKey(t)&&(this.removeServerSessionsByPortalSession(e),this.syncToOtherWindowSessionManager(),this.onSessionChanged(vl.Remove),!0)}removeSessionByKey(e){return!!e&&(this.sessions&&this.sessions[e]&&delete this.sessions[e],!0)}addOrReplaceSession(e){if(!e)return!1;if(this.doAddOrReplaceSession(e)){this.syncToOtherWindowSessionManager(),this.onSessionChanged(vl.AddOrUpdate);const t=e.server?`${e.server}/rest/services`:e.portal;return this.releasePendingSignIn(t),!0}return!1}doAddOrReplaceSession(e){if(!e)return!1;const t=this.getSessionKeyFromSession(e);return!!t&&(this.setSession(t,e),!0)}setSession(e,t){var r;if(!this.isSessionExpired(t))return;this.sessions||(this.sessions={});const n=this.sessions[e];var i,s,o;if(this.removeServerSessionsByPortalSession(n),this.sessions[e]=t,e===this.getSessionKeyFromUrl(null===(r=this.getMainPortal())||void 0===r?void 0:r.portalUrl)&&(Vl().dispatch((i=t.token,{type:Hl.SessionStart,token:i})),Vl().getState().user||this.getUserInfo(),this.writeAuthInfo(t)),!(window.jimuConfig.isBuilder||t.portal&&t.server)){const e=Fn(t.portal)||pi(t.server);Vl().dispatch((s=e,o=t.username,{type:Hl.UpdateResourceSessions,resourceRootUrl:s,userName:o}))}}removeServerSessionsByPortalSession(e){if(e&&e.portal&&!e.server){this.getSessions().forEach((t=>{if(t.server&&t.portal===e.portal&&t.username===e.username){const e=this.getSessionKeyFromSession(t);this.removeSessionByKey(e)}}))}}getSessionByUrl(e){if(!this.sessions)return;let t=this.getSessionKeyFromUrl(e),r=this.sessions[t];if((null==r?void 0:r.server)&&(null==r?void 0:r.portal)){const e=this.getPortalKeyFromUrl(r.portal);r=this.sessions[e]}return r}getSessionKeyFromSession(e){return(null==e?void 0:e.server)?"server_"+qn(e.server).toLowerCase():this.getSessionKeyFromUrl(e.portal)}getSessionKeyFromUrl(e){return this.getServerKeyFromUrl(e)||this.getPortalKeyFromUrl(e)}getServerKeyFromUrl(e){const t=hi(e)?qn(pi(e)):"";return(t?`server_${t}`:"").toLowerCase()}getPortalKeyFromUrl(e){var t,r;let n="";if(Hn(e))n=this.getStandardAGOLSessionKey(e)||"";else{const{customBaseUrl:i,urlKey:s}=this.getPortalUrlInfo(e)||{};if(n=`${s}.${i}`,null===(t=this.getMainPortal())||void 0===t?void 0:t.portalUrl){const e=this.getPortalUrlInfo(null===(r=this.getMainPortal())||void 0===r?void 0:r.portalUrl);s===e.urlKey&&0===i.indexOf(e.customBaseUrl)&&(n=`${e.urlKey}.${e.customBaseUrl}`)}}return n.toLowerCase()}getPortalUrlInfo(e){if(!e)return null;let t=e.toLowerCase(),r="",n=t.indexOf("https://");0===n?r="https://":(n=t.indexOf("http://"),0===n&&(r="http://")),n=r.length;let i,s,o=t.indexOf("/sharing/rest",n);o=o<0?t.length:o,t=t.substring(n,o);const a=t.split(".");return i=a[0],a.splice(0,1),s=a.join("."),{urlKey:i,customBaseUrl:s,schema:r}}getSessionFromAuthInfo(e){var t;if(!this.checkAuthInfo(e))return null;const r=this.getPortalFromAuthInfo(e);return new Ui({clientId:null===(t=this.getMainPortal())||void 0===t?void 0:t.clientId,token:e.token,tokenExpires:new Date(e.expires),refreshToken:e.refreshToken,refreshTokenExpires:new Date(e.refreshTokenExpires),redirectUri:e.redirectUri,portal:r,username:e.email})}getSessionFromStorage(){var e;const t=null===(e=this.readAuthInfo("exb_auth"))||void 0===e?void 0:e.authInfo,r=this.getSessionFromAuthInfo(t);return r&&this.isMainSession(r)?r:r?(this.processInvalidSignInSession(),null):null}readCookie(e){try{return Xi.get(e)}catch(e){console.error("Read cookieerror.",e)}}getPortalFromAuthInfo(e){var t;if(window.jimuConfig.isInPortal)return`${null===(t=this.getMainPortal())||void 0===t?void 0:t.portalUrl}/sharing/rest/`;const r=e.urlKey?`${e.urlKey}.`:"";let n=e.schema;n=n||"https://";let i=`${n}${r}${e.customBaseUrl}/sharing/rest/`;return"maps.arcgis.com"===e.customBaseUrl?i=`${n}www.arcgis.com/sharing/rest/`:"mapsdevext.arcgis.com"===e.customBaseUrl?i=`${n}devext.arcgis.com/sharing/rest/`:"mapsqa.arcgis.com"===e.customBaseUrl&&(i=`${n}qaext.arcgis.com/sharing/rest/`),i}isSessionExpired(e){return!!e&&!(new Date(e.tokenExpires)<new Date)}getAuthInfoFromSession(e){const{urlKey:t,customBaseUrl:r,schema:n}=this.getPortalUrlInfo(e.portal);return{portalApp:!1,email:e.username,token:e.token,expires:e.tokenExpires,refreshToken:e.refreshToken,refreshTokenExpires:e.refreshTokenExpires,redirectUri:e.redirectUri,urlKey:t,customBaseUrl:r,clientId:e.clientId,schema:n}}checkAuthInfo(e){return!!e&&!(new Date(e.expires)<new Date)}readAuthInfo(e){let t,r;try{r=JSON.parse(In(e))}catch(e){console.error("Parse localStorage auth error")}if(r)t={authInfo:r,from:"LocalStorage"};else{try{r=JSON.parse(function(e){try{return sessionStorage.getItem(e)}catch(e){return console.error("Read session storage error.",e),null}}(e))}catch(e){console.error("Parse sessionStorage auth error")}t={authInfo:r,from:"SessionStorage"}}return t}writeAuthInfo(e){const t=this.readAuthInfo("exb_auth");this.removeAuthInfo(),"LocalStorage"===t.from||window.jimuConfig.isDevEdition||window.jimuConfig.isOutOfExb?wn("exb_auth",JSON.stringify(this.getAuthInfoFromSession(e))):function(e,t){try{sessionStorage.setItem(e,t)}catch(e){console.error("Set session storage error.",e)}}("exb_auth",JSON.stringify(this.getAuthInfoFromSession(e)))}removeAuthInfo(){!function(e){try{localStorage.removeItem(e)}catch(e){console.error("Remove from Local storage error.",e)}}("exb_auth"),function(e){try{sessionStorage.removeItem(e)}catch(e){console.error("Remove from session storage error.",e)}}("exb_auth")}getStandardAGOLSessionKey(e){if(!Hn(e))return;let t,r;const n=Xn(e).split(".");let i;return t=n[0],n.splice(0,1),r=n.join("."),"devext"===t||"mapsdevext.arcgis.com"===r?i="devext.arcgis.com":"qaext"===t||"mapsqa.arcgis.com"===r?i="qaext.arcgis.com":"www"===t||"maps.arcgis.com"===r?i="www.arcgis.com":(i="www.arcgis.com",t.indexOf("dev")>-1||r.indexOf("dev")>-1?i="devext.arcgis.com":(t.indexOf("qa")>-1||r.indexOf("qa")>-1)&&(i="qaext.arcgis.com")),i}getOrgUrl(e,t){let r;return"www.arcgis.com"===e?r=`${t}.maps.arcgis.com`:"devext.arcgis.com"===e?r=`${t}.mapsdevext.arcgis.com`:"qaext.arcgis.com"===e?r=`${t}.mapsqa.arcgis.com`:(r=e,console.error("Bad params.",e,t)),Kn(r,Me.Https)}getHostedService(e){return Sl(this,void 0,void 0,(function*(){const t=e.split(/\/rest(\/admin)?\/services\//)[0];return t?yield Ti(t+"/rest/info",{httpMethod:"GET"}).then((e=>Sl(this,void 0,void 0,(function*(){if(!e.owningSystemUrl)return yield Promise.resolve(null);let t;return/https?:\/\/(www|services)\.arcgis\.com/.test(e.owningSystemUrl)?t="www.arcgis.com":/https?:\/\/(devext|servicesdev)\.arcgis\.com/.test(e.owningSystemUrl)&&/mapsdevext\.arcgis\.com\/?$/.test(Vl().getState().portalUrl)?t="devext.arcgis.com":/https?:\/\/(qaext|servicesqa)\.arcgis\.com/.test(e.owningSystemUrl)&&/mapsqa\.arcgis\.com\/?$/.test(Vl().getState().portalUrl)&&(t="qaext.arcgis.com"),yield Promise.resolve(t)})))):yield Promise.resolve(null)}))}getHostedServiceArcgisKey(e){return Sl(this,void 0,void 0,(function*(){const t=Xn(e).split("."),r=t[0];let n;return t.splice(0,1),r.includes("servicesdev")?n="devext.arcgis.com":r.includes("servicesqa")?n="qaext.arcgis.com":r.includes("services")&&(n="www.arcgis.com"),n?yield Promise.resolve(n):yield this.getHostedService(e)}))}getSignInDomain(e,t){return Sl(this,void 0,void 0,(function*(){if(!e)return null;if(Hn(e)){let r=this.getStandardAGOLSessionKey(e);return r||(r=yield this.getHostedServiceArcgisKey(e),r=r||Xn(e)),t?this.getOrgUrl(r,t):`https://${r}`}{const{customBaseUrl:t,urlKey:r,schema:n}=this.getPortalUrlInfo(e);return`${n||"https://"}${r}.${t}`}}))}signInByResourceUrl(e,t,r){return Sl(this,void 0,void 0,(function*(){let n,i;if(hi(e))if(t)r&&(i=this.removeFromNoPermissionResourceInfoList(t)),n=this.signIn({desUrl:t,forceLogin:r,federatedServiceUrl:e});else{if(r){const t=pi(e);i=this.removeFromNoPermissionResourceInfoList(t)}n=this.nonOAuthSignIn(e,r)}else r&&(i=this.removeFromNoPermissionResourceInfoList(Fn(e))),n=this.signIn({desUrl:e,forceLogin:r});return n.catch((e=>{r&&i&&e.code===gl.SignInCanceled&&this.setNoPermissionResourceInfoList(Object.assign(Object.assign({},this.noPermissionResourceInfoList),i))}))}))}signIn(){return Sl(this,arguments,void 0,(function*(e={}){var t,r,n,i;let s=e.fromUrl||window.jimuConfig.mountPath;const o=e.desUrl||(null===(t=this.getMainPortal())||void 0===t?void 0:t.portalUrl),a=e.clientId||this.getClientIdByUrl(o),l=null===(r=e.popup)||void 0===r||r,c=null!==(n=e.forceLogin)&&void 0!==n&&n,u=e.federatedServiceUrl;"/"===s.split("#")[0]&&window.jimuConfig.isInPortal&&(s=window.location.pathname);const h=this.getSessionByUrl(o);if(h&&!c){if(this._executSignIn(),!l){const e=0===s.indexOf("/");window.location.href=`${location.protocol}//${location.host}${e?"":"/"}${s}`}return u&&(yield this.generateSeverSessionByPortalSession(h,u)),Promise.resolve(h)}let d=!1;if(l){const e=this.tryToPendingSignInDialog(o);d=!!e,u&&this.tryToPendingSignInDialog(u);const t=this.signInUrlFromQueue&&this.getSessionKeyFromUrl(this.signInUrlFromQueue)===this.getSessionKeyFromUrl(o);if(e&&!t)return e.promise.then((()=>Sl(this,void 0,void 0,(function*(){this.isSigning=!1,u&&this.releasePendingSignIn(u),this._executSignIn();const e=this.getSessionByUrl(o);return u&&(yield this.generateSeverSessionByPortalSession(e,u)),e})))).catch((e=>{const t=this.getSignInErrorCodeByAuthError(e);return u&&this.releasePendingSignIn(u,e),this._executSignIn(),Promise.reject(this.getSignInErrorByCode(t))}))}const p=Vl().getState().queryObject;if(this.isSigning&&!d){const e=this.defer();return this.signInQueue.push({desUrl:o,fromUrl:s,popup:l,sessionDefer:e,federatedServiceUrl:u}),yield e.promise}const f=kn(yield this.getSignInDomain(o,null==p?void 0:p.org)),m=function(e){if(/\/$/.test(e))return e;if(!([".js",".css",".scss",".html"].filter((t=>new RegExp(`${t}$`).test(e))).length>0))return e;const t=e.split("/");return t.pop(),t.join("/")}(function(e){const t=ri(e);return/^file:/.test(t)?t:t.substring(`${window.location.protocol}//${window.location.host}`.length,t.length)}("jimu-core"));let g=`${window.location.origin}${m}/oauth-callback.html?clientId=${a}&portal=${f}&popup=${l}&isInPortal=${window.jimuConfig.isInPortal}&isDevEdition=${window.jimuConfig.isDevEdition}&isOutOfExb=${window.jimuConfig.isOutOfExb}&mountPath=${window.jimuConfig.mountPath}&enablePkce=false&fromUrl=${encodeURIComponent(s)}`;g=`${g}&redirectUri=${encodeURIComponent(g)}`,g=new URL(g).toString();const v={portal:f,clientId:a,redirectUri:g,popup:l,pkce:yl,params:{showSignupOption:!0,signupType:"esri",force_login:c}};this.isSigning=!0;const S=new Zi,E=window.open.exbReplaced?null:window.open;if(E){const e=(e,t,r)=>{E&&(window.open=E);const n=E(e,t,r);if("oauth-window"===t){const e=n,t=setInterval((()=>{if(null==e?void 0:e.closed){const e=this.getSessionByUrl(f);this.releasePendingSignIn(o,e?null:{name:"identity-manager:user-aborted",details:"originally aborted from exb",message:"ABORTED"}),u&&this.releasePendingSignIn(u,e?null:{name:"identity-manager:user-aborted",details:"originally aborted from exb",message:"ABORTED"}),this.isSigning=!1,this._executSignIn(),e?S.resolve(e):S.reject(this.getSignInErrorByCode(gl.SignInCanceled)),clearInterval(t)}}),500)}return n};e.exbReplaced=!0,window.open=e}return null===(i=Ui.beginOAuth2(v))||void 0===i||i.then((e=>Sl(this,void 0,void 0,(function*(){this.addOrReplaceSession(e),this.isSigning=!1,this._executSignIn(),S.resolve(e)})))).catch((e=>{"ArcGISAccessDeniedError"!==e.name&&S.reject(this.getSignInErrorByCode(gl.Other))})),S.promise.then((e=>Sl(this,void 0,void 0,(function*(){return u&&(yield this.generateSeverSessionByPortalSession(e,u)),e}))))}))}nonOAuthSignIn(e,t){return Sl(this,void 0,void 0,(function*(){return Ki(["esri/request"]).then((r=>{const[n]=r,i=this.getSessionByUrl(e);let s;if(t){i&&this.removeSession(i);const t=pi(e);s=this.removeFromNoPermissionResourceInfoList(t)}const o=t?"immediate":"auto";return n(Jn(e,"f","json"),{authMode:o,responseType:"json"}).then((t=>this.getSessionByUrl(e))).catch((r=>{const n=this.getSessionByUrl(e);if(n)return Promise.resolve(n);{const e=this.getSignInErrorCodeByAuthError(r),n=this.getSignInErrorByCode(e);return t&&(i&&this.addOrReplaceSession(i),n.code===gl.SignInCanceled&&this.setNoPermissionResourceInfoList(Object.assign(Object.assign({},this.noPermissionResourceInfoList),s))),Promise.reject(n)}}))}))}))}getSignInErrorCodeByAuthError(e){var t,r,n,i;const s=(null===(r=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.error)||void 0===r?void 0:r.code)||e.code||(null===(i=null===(n=null==e?void 0:e.details)||void 0===n?void 0:n.raw)||void 0===i?void 0:i.code)||null;let o=null;return 499===s?o=gl.TokenRequired:498===s?o=gl.InvalidToken:403===s?o=gl.NoPermission:"identity-manager:user-aborted"===e.name&&(o=gl.SignInCanceled),o}getSignInErrorByCode(e=gl.Other){const t=function(e="_jimu",t="runtime"){var r,n,i,s,o,a,l,c;const u=`${e}-${t}`;if(En[u])return En[u];const h={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},d=Vl().getState();if(!d)return null;let p;if("_jimu"===e)p=Sn({locale:d.appContext.locale,defaultLocale:d.appContext.locale,messages:d.appI18nMessages},h);else if("runtime"===t){const t=window.jimuConfig.isBuilder?null===(r=d.appStateInBuilder)||void 0===r?void 0:r.appConfig:d.appConfig,s=null===(i=null===(n=null==t?void 0:t.widgets)||void 0===n?void 0:n[e])||void 0===i?void 0:i.manifest.i18nMessages,o=Object.assign({},s,d.appI18nMessages);p=Sn({locale:d.appContext.locale,defaultLocale:d.appContext.locale,messages:o},h)}else{let t;if(window.jimuConfig.isBuilder){const r=null===(l=null===(a=null===(o=null===(s=d.appStateInBuilder)||void 0===s?void 0:s.appConfig)||void 0===o?void 0:o.widgets)||void 0===a?void 0:a[e])||void 0===l?void 0:l.manifest.name;t=null===(c=d.builder.widgetSettingI18nMessages)||void 0===c?void 0:c[r]}else t={};const r=Object.assign({},t,d.appI18nMessages);p=Sn({locale:d.appContext.locale,defaultLocale:d.appContext.locale,messages:r},h)}return En[u]=p,p}(),r={code:e,isSignInError:!0,message:t.formatMessage({id:"signInErrorDefault",defaultMessage:Yi}),message1:t.formatMessage({id:"signInErrorEnterCredential",defaultMessage:Ji}),message2:t.formatMessage({id:"signInErrorTryAgain",defaultMessage:Qi})};switch(e){case gl.TokenRequired:case gl.InvalidToken:case gl.NoPermission:case gl.SignInCanceled:break;default:r.code=gl.Other}return r}getClientIdByUrl(e){var t;let r;const n=Vl().getState();r=Bn(Vn(e),Vn(n.portalUrl))?n.clientId:null===(t=function(e){var t;const r=window.jimuConfig.isBuilder?Vl().getState().appStateInBuilder:Vl().getState();return((null===(t=null==r?void 0:r.appConfig)||void 0===t?void 0:t.connections)||[]).find((t=>"portal"===t.type&&Bn(e,null==t?void 0:t.portalUrl)))}(e))||void 0===t?void 0:t.clientId;const i=window.location.host;return(!r&&i.includes(".arcgis.com")||!r&&i.includes(".esri.com")&&e.includes(".arcgis.com"))&&(r="experienceBuilder"),r}onClientIdDialogFinished(e,t,r){const n=this.getSessionKeyFromUrl(e);this.clientIdDialogResultPromises[n]&&(r?this.clientIdDialogResultPromises[n].reject(null):this.clientIdDialogResultPromises[n].resolve(null))}useDialogToSetClientIdToConnectiosOfAppConfigAndSignIn(e,t,r,n){var i,s;let o;const a=this.getSessionKeyFromUrl(e);let l;if(this.clientIdDialogResultPromises[a]?l=this.clientIdDialogResultPromises[a]:(l={promise:null,resolve:null,reject:null},l.promise=new Promise(((e,t)=>{l.resolve=e,l.reject=t}))),window.jimuConfig.isBuilder)this.clientIdDialogResultPromises[a]=l,Vl().dispatch(function(e,t,r,n){return{type:Hl.AddToRegisterClientIdList,portalUrl:e,needToSignIn:t,forceLogin:n,serviceUrl:r}}(e,t,r,n)),o=null===(i=this.clientIdDialogResultPromises[a])||void 0===i?void 0:i.promise;else if(window.jimuConfig.isInBuilder){const i=ei("jimu-for-builder").appBuilderSync;this.clientIdDialogResultPromises[a]=l,i.publishPortalUrlNeedToRegisterClientId(e,t,r,n),o=null===(s=this.clientIdDialogResultPromises[a])||void 0===s?void 0:s.promise}else o=Promise.resolve();return o}addSessionChangeListener(e){if("function"!=typeof e)throw new Error("callback must be a function");this.onSessionChangedCallbacks.includes(e)||this.onSessionChangedCallbacks.push(e)}_executSignIn(){if(!this.isSigning&&this.signInQueue){const e=this.signInQueue.pop();e&&(this.signInUrlFromQueue=e.desUrl,this.signIn({fromUrl:e.fromUrl,popup:e.popup,desUrl:e.desUrl,federatedServiceUrl:e.federatedServiceUrl}).then((t=>{e.sessionDefer.resolve(t)})).catch((t=>{e.sessionDefer.reject(t)})),this.signInUrlFromQueue="")}}signOut(){var e,t;const r=this.getMainSession();let n=null==r?void 0:r.portal;n||(n=null===(e=this.getMainPortal())||void 0===e?void 0:e.portalUrl,n=n&&kn(n));const i=(null==r?void 0:r.clientId)||(null===(t=this.getMainPortal())||void 0===t?void 0:t.clientId);this.clearSessions(),Vl().dispatch({type:Hl.UserSignOut});const s=window&&window.location;let o;if(o=window.jimuConfig.isDevEdition?`${s.protocol}//${s.host}${window.jimuConfig.mountPath}page/set-portalurl`:window.jimuConfig.isInPortal?window.location.href:`${s.protocol}//${s.host}/page/landing`,this.removeAuthInfo(),this.arcgisJSIM&&this.arcgisJSIM.destroyCredentials(),n&&i){o=encodeURIComponent(o);const e=`${n}/oauth2/signout?client_id=${i}&redirect_uri=${o}`;s.href=e}else s.href="/"}switchAccount(){const{portalUrl:e,clientId:t}=Vl().getState(),r=`${e}/home/pages/Account/manage_accounts.html#client_id=${t}&redirect_uri=${window.location.href}#`;this.removeAuthInfo(),window.location.href=r}defer(){const e={promise:null,resolve:null,reject:null};return e.promise=new Promise(((t,r)=>{e.resolve=t,e.reject=r})),e}generateToken(e){return Sl(this,arguments,void 0,(function*(e,t="",r="same-origin"){const n=Kn(`${kn(e)}generateToken?f=json`,Me.Https),i=t||"",s={cache:"no-cache",credentials:r};return yield fetch(`${n}&${i}`,s).then((e=>Sl(this,void 0,void 0,(function*(){return yield e.json()})))).then((e=>e.error?null:e),(e=>null))}))}generateSeverSessionByPortalSession(e,t){return Sl(this,arguments,void 0,(function*(e,t,r="same-origin"){const n=(t||"").trim().replace(/rest(.*)/gi,"").replace(/\/*$/g,""),i=Kn(Xn(window.location.href),Me.Https),s=`serverUrl=${n}&referer=${i}&token=${e.token}`;return this.generateToken(Un(e.portal),s,r).then((t=>{if(t){const r=new Ui({portal:e.portal,server:n,token:t.token,tokenExpires:new Date(t.expires),ssl:t.ssl,username:e.username});return this.addOrReplaceSession(r),r}return null}))}))}getPortalSelf(e){return Sl(this,void 0,void 0,(function*(){const t=Kn(`${kn(e)}portals/self?f=json`,Me.Https);return yield fetch(t,{cache:"no-cache",credentials:"include"}).then((e=>Sl(this,void 0,void 0,(function*(){return yield e.json()}))))}))}getSessionFromWebTierPortal(e,t,r){let n,i;return i=r?Promise.resolve(r):this.getPortalSelf(e),i.then((r=>Sl(this,void 0,void 0,(function*(){return n=r,yield this.generateToken(e,t,"include")})))).then((t=>{if(t&&t.token){const r={token:t.token,expires:t.expires,userId:n.user?n.user.username:"",ssl:t.ssl,server:kn(e)},i={hasPortal:!1,hasServer:!1,server:"",owningSystemUrl:""};return Ui.fromCredential(r,i)}return null})).catch((()=>null))}getSessionFromWebTierServer(e){return Sl(this,void 0,void 0,(function*(){const t=(e||"").trim().replace(/rest(.*)/gi,"").replace(/\/*$/g,""),r=this.getSessionByUrl(e);if(r)return yield Promise.resolve(r);{const r=Kn(Xn(window.location.href),Me.Https);return yield fetch(t+"/rest/info?f=json",{cache:"no-cache",credentials:"include"}).then((e=>Sl(this,void 0,void 0,(function*(){return yield e.json()})))).then((t=>{const n=t.owningSystemUrl;if(n){const t=`referer=${r}`;return this.getSessionFromWebTierPortal(n,t).then((t=>Sl(this,void 0,void 0,(function*(){if(t){this.addOrReplaceSession(t);const r=yield this.generateSeverSessionByPortalSession(t,e,"include");return r&&this.addOrReplaceSession(r),t}return null}))))}return null})).catch((e=>(console.warn("Failed to get session from trusted server."),null)))}}))}addFromArcGisJSCredential(e,t){let r;if(!e.server)return!1;if("server"===e.scope)r=new Ui({server:e.server,token:e.token,tokenExpires:new Date(e.expires),ssl:e.ssl,username:e.userId}),(null==t?void 0:t.owningSystemUrl)?r.portal=`${null==t?void 0:t.owningSystemUrl}/sharing/rest`:r.portal=void 0;else{const t={hasPortal:!1,hasServer:!1,server:"",owningSystemUrl:""};r=Ui.fromCredential(e,t)}return!!this.doAddOrReplaceSession(r)&&(this.syncToOtherWindowSessionManager(),this.onSessionChanged(vl.ArcGISJSSync),!0)}syncToOtherWindowSessionManager(){if(window.jimuConfig.isBuilder){ei("jimu-for-builder").builderAppSync.publishChangeSessionToApp()}else if(window.jimuConfig.isInBuilder){ei("jimu-for-builder").appBuilderSync.publishAppSessionChangeToBuilder()}}syncSessionsFromOtherWindow(e){this.clearSessions(),e.forEach((e=>{const t=e.toJSON(),r=new Ui(t);r.portal=e.portal,r.server=e.server,this.doAddOrReplaceSession(r)})),this.onSessionChanged(vl.OtherWindowSync)}syncNoPermissionResourceInfoListToOtherWindowSessionManager(){if(window.jimuConfig.isBuilder){ei("jimu-for-builder").builderAppSync.publishNoPermissionResourceInfoListChangeToApp()}else if(window.jimuConfig.isInBuilder){ei("jimu-for-builder").appBuilderSync.publishNoPermissionResourceInfoListChangeToBuilder()}}syncNoPermissionResourceInfoListFromOtherWindow(e){this.noPermissionResourceInfoList=ml(e),Vl().dispatch(Fl())}readSessionFromParent(e){return Sl(this,void 0,void 0,(function*(){return yield Ui.fromParent(e).then((e=>(console.log("fromparent session:",e),e))).catch((e=>(console.error("Get session from parent error. Please check this link for details: https://esri.github.io/arcgis-rest-js/guides/embedded-apps/",e),null)))}))}canReadSessionFromParent(e){return e.endsWith(".arcgis.com")}tryToPendingSignInDialog(e){const t=this.getSessionKeyFromUrl(e);if(t){if(this.signInDialogPendingList[t])return this.signInDialogPendingList[t];{const e=new Zi;return this.signInDialogPendingList[t]=e,null}}return null}releasePendingSignIn(e,t){const r=this.getSessionKeyFromUrl(e),n=this.signInDialogPendingList[r];n&&(t?n.reject(t):n.resolve(null),delete this.signInDialogPendingList[r])}getNoPermissionResourceKey(e){let t;const r="/sharing/rest/content/items";if(function(e=""){return!!ci(e)}(e))t=di(e);else{const n=Vn(Fn(e));if(e.includes(r)){const i=e.indexOf(r)+27;t=Gn(n,e.substr(i+1).split("/")[0])}else t=null}return t}addToNoPermissionResourceInfoList(e,t,r,n,i){var s;const o=this.getNoPermissionResourceKey(e);if(!o)return;const a=this.noPermissionResourceInfoList[o],l=Bn(Vn(null===(s=this.getMainPortal())||void 0===s?void 0:s.portalUrl),Vn(Fn(i||e)));a&&a.userName===t||(this.noPermissionResourceInfoList[o]={owningSystemUrl:i||"",userName:t||"",ignored:n||!1,signInErrorCode:r||gl.Other,allowSignIn:!(l&&(window.jimuConfig.isBuilder||window.jimuConfig.isInBuilder))},this.syncNoPermissionResourceInfoListToOtherWindowSessionManager(),Vl().dispatch(Fl()))}removeFromNoPermissionResourceInfoList(e){const t={},r=this.getNoPermissionResourceKey(e);let n=!1;this.noPermissionResourceInfoList[r]&&(t[r]=this.noPermissionResourceInfoList[r],delete this.noPermissionResourceInfoList[r],n=!0);const i=!this.getServerKeyFromUrl(e)&&Fn(e)===e,s=hi(e)&&pi(e)===e;return(i||s)&&Object.entries(this.noPermissionResourceInfoList).forEach((r=>{const i=r[0];r[1].owningSystemUrl!==e&&Fn(i)!==Vn(e)&&pi(i)!==e||(t[i]=this.noPermissionResourceInfoList[i],delete this.noPermissionResourceInfoList[i],n=!0)})),n?(this.syncNoPermissionResourceInfoListToOtherWindowSessionManager(),Vl().dispatch(Fl()),t):null}ignoreFromNoPermissionResourceInfoList(e){let t=!1;if(!e)Object.entries(this.noPermissionResourceInfoList).forEach((e=>{const r=e[0];e[1].ignored||(this.noPermissionResourceInfoList[r].ignored=!0,t=!0)}));else{const r=!this.getServerKeyFromUrl(e),n=this.getNoPermissionResourceKey(e),i=pi(`${e}/rest/services`)===e;this.noPermissionResourceInfoList[n]&&(this.noPermissionResourceInfoList[n].ignored=!0,t=!0),(r||i)&&Object.entries(this.noPermissionResourceInfoList).forEach((r=>{const n=r[0],i=r[1],s=i.owningSystemUrl===Vn(e),o=Fn(n)===Vn(e),a=pi(n)===e;!i.ignored&&(s||o||a)&&(this.noPermissionResourceInfoList[n].ignored=!0,t=!0)}))}t&&(this.syncNoPermissionResourceInfoListToOtherWindowSessionManager(),Vl().dispatch(Fl()))}getNoPermissionResourceInfoList(){return this.noPermissionResourceInfoList}setNoPermissionResourceInfoList(e){this.noPermissionResourceInfoList=e,this.syncNoPermissionResourceInfoListToOtherWindowSessionManager(),Vl().dispatch(Fl())}getNoPermissionResourceInfoByUrl(e){const t=this.getNoPermissionResourceKey(e);return this.noPermissionResourceInfoList[t]}checkSessionPermissionForUrl(e,t,r,n){e&&t&&this.isValidToken(e,t).then((t=>{var i,s;(null==t?void 0:t.valid)?this.removeFromNoPermissionResourceInfoList(e):403===(null===(i=null==t?void 0:t.error)||void 0===i?void 0:i.code)?this.addToNoPermissionResourceInfoList(e,r,gl.NoPermission,!1,n):498===(null===(s=null==t?void 0:t.error)||void 0===s?void 0:s.code)&&this.addToNoPermissionResourceInfoList(e,r,gl.InvalidToken,!1,n)}))}handleInvalidToken(e){var t,r;const n=Bn(Vn(null===(t=this.getMainPortal())||void 0===t?void 0:t.portalUrl),Vn(Fn(e))),i=Vl().getState(),s=this.sessions&&this.sessions[this.getSessionKeyFromUrl(e)];if(this.removeSession(s),Object.keys(this.requestCacheForValidatingToken).forEach((t=>{t.includes(di(Yn(e)))&&delete this.requestCacheForValidatingToken[t]})),n&&(window.jimuConfig.isBuilder||window.jimuConfig.isInBuilder||(null===(r=i.appInfo)||void 0===r?void 0:r.access)&&"public"!==i.appInfo.access)&&(this.gotoAuthErrorPage(),window.jimuConfig.isInBuilder)){ei("jimu-for-builder").appBuilderSync.publishCheck498ErrorToBuilder(e)}}}const wl=Il;var Tl,Al,bl,Ol,Rl;!function(e){e.All="ALL",e.Simple="SIMPLE"}(Tl||(Tl={})),function(e){e.And="AND",e.Or="OR"}(Al||(Al={})),function(e){e.None="NONE",e.Previous="PREVIOUS",e.All="ALL"}(bl||(bl={})),function(e){e.StringOperatorIs="STRING_OPERATOR_IS",e.StringOperatorIsNot="STRING_OPERATOR_IS_NOT",e.StringOperatorContains="STRING_OPERATOR_CONTAINS",e.StringOperatorDoesNotContain="STRING_OPERATOR_DOES_NOT_CONTAIN",e.StringOperatorStartsWith="STRING_OPERATOR_STARTS_WITH",e.StringOperatorDoesNotStartWith="STRING_OPERATOR_DOES_NOT_START_WITH",e.StringOperatorEndsWith="STRING_OPERATOR_ENDS_WITH",e.StringOperatorDoesNotEndWith="STRING_OPERATOR_DOES_NOT_END_WITH",e.StringOperatorIsAnyOf="STRING_OPERATOR_IS_ANY_OF",e.StringOperatorIsNoneOf="STRING_OPERATOR_IS_NONE_OF",e.StringOperatorIsBlank="STRING_OPERATOR_IS_BLANK",e.StringOperatorIsNotBlank="STRING_OPERATOR_IS_NOT_BLANK",e.NumberOperatorIs="NUMBER_OPERATOR_IS",e.NumberOperatorIsNot="NUMBER_OPERATOR_IS_NOT",e.NumberOperatorIsAtLeast="NUMBER_OPERATOR_IS_AT_LEAST",e.NumberOperatorIsAtMost="NUMBER_OPERATOR_IS_AT_MOST",e.NumberOperatorIsLessThan="NUMBER_OPERATOR_IS_LESS_THAN",e.NumberOperatorIsGreaterThan="NUMBER_OPERATOR_IS_GREATER_THAN",e.NumberOperatorIsBetween="NUMBER_OPERATOR_IS_BETWEEN",e.NumberOperatorIsNotBetween="NUMBER_OPERATOR_IS_NOT_BETWEEN",e.NumberOperatorIsAnyOf="NUMBER_OPERATOR_IS_ANY_OF",e.NumberOperatorIsNoneOf="NUMBER_OPERATOR_IS_NONE_OF",e.NumberOperatorIsBlank="NUMBER_OPERATOR_IS_BLANK",e.NumberOperatorIsNotBlank="NUMBER_OPERATOR_IS_NOT_BLANK",e.DateOperatorIsOn="DATE_OPERATOR_IS_ON",e.DateOperatorIsNotOn="DATE_OPERATOR_IS_NOT_ON",e.DateOperatorIsIn="DATE_OPERATOR_IS_IN",e.DateOperatorIsNotIn="DATE_OPERATOR_IS_NOT_IN",e.DateOperatorIsBefore="DATE_OPERATOR_IS_BEFORE",e.DateOperatorIsAfter="DATE_OPERATOR_IS_AFTER",e.DateOperatorIsOnOrBefore="DATE_OPERATOR_IS_ON_OR_BEFORE",e.DateOperatorIsOnOrAfter="DATE_OPERATOR_IS_ON_OR_AFTER",e.DateOperatorIsInTheLast="DATE_OPERATOR_IS_IN_THE_LAST",e.DateOperatorIsNotInTheLast="DATE_OPERATOR_IS_NOT_IN_THE_LAST",e.DateOperatorIsInTheNext="DATE_OPERATOR_IS_IN_THE_NEXT",e.DateOperatorIsNotInTheNext="DATE_OPERATOR_IS_NOT_IN_THE_NEXT",e.DateOperatorIsBetween="DATE_OPERATOR_IS_BETWEEN",e.DateOperatorIsNotBetween="DATE_OPERATOR_IS_NOT_BETWEEN",e.DateOperatorIsBlank="DATE_OPERATOR_IS_BLANK",e.DateOperatorIsNotBlank="DATE_OPERATOR_IS_NOT_BLANK"}(Ol||(Ol={})),function(e){e.UserInput="USER_INPUT",e.Field="FIELD",e.SingleSelectFromUnique="UNIQUE",e.MultipleSelectFromUnique="MULTIPLE",e.SingleSelectFromPredefined="UNIQUE_PREDEFINED",e.MultipleSelectFromPredefined="MULTIPLE_PREDEFINED"}(Rl||(Rl={}));var Nl,Ll,Pl,xl;!function(e){e.Single="SINGLE",e.Set="SET"}(Nl||(Nl={})),function(e){e.Inline="INLINE",e.Block="BLOCK"}(Ll||(Ll={})),function(e){e.None="NONE",e.UseAskForValue="USE_ASK_FOR_VALUE",e.UseLabel="USE_LABEL"}(Pl||(Pl={})),function(e){e.Asc="ASC",e.Desc="DESC"}(xl||(xl={}));c(30430);var Cl;!function(e){e.Date="DATE",e.DateTimeShort="DATE_TIME_SHORT",e.DateTimeLong="DATE_TIME_LONG"}(Cl||(Cl={}));var Dl;!function(e){e.Point="POINT",e.Polyline="POLYLINE",e.Polygon="POLYGON"}(Dl||(Dl={}));c(30430);var _l=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};function Ml(e,t){return _l(this,arguments,void 0,(function*(e,t,r=1,n=!1){if(function(){var e,t;return!(null===(t=null===(e=Vl().getState())||void 0===e?void 0:e.appContext)||void 0===t?void 0:t.isInBuilder)}()){const t=function(e){var t,r;const n=null===(r=null===(t=Vl().getState())||void 0===t?void 0:t.appConfig)||void 0===r?void 0:r.appProxies;if(!e||!n)return null;const i=Object.values(n);for(let t=0;t<i.length;t++){const r=i[t],n=r.sourceUrl.replace(/\/*$/g,""),s=r.proxyUrl;if(n&&s&&0===e.indexOf(n))return s+e.replace(n,"")}return null}(e);t&&t!==e&&(e=t)}const i=(s,o=0)=>t(s).catch((t=>{if(o>=r)return Promise.reject(jl(t));const a=t.options,l=Il.getInstance(),c="ArcGISAuthError"===t.name&&a&&(!a.authentication||498===t.code||403===t.code||"AUTHENTICATION_ERROR_CODE"===t.code||"GWM_0003"===t.code),u="ArcGISRequestError"===t.name&&(403===t.code||"GWM_0003"===t.code);return c||u?(498===t.code&&l.handleInvalidToken(e),function(e){return _l(this,arguments,void 0,(function*(e,t=!1){const r=Il.getInstance(),n=r.getServerKeyFromUrl(e);let i,s="";const o=r.getNoPermissionResourceInfoByUrl(e);if(t=t&&(null==o?void 0:o.allowSignIn),o&&!t){const t=r.getSessionByUrl(e);return i=t?Promise.resolve(t):Promise.reject(r.getSignInErrorByCode(o.signInErrorCode)),i}return i=n?Bl.getInstance().fetchArcGISServerInfo(e).then((n=>_l(this,void 0,void 0,(function*(){if(null==n?void 0:n.owningSystemUrl){const i=r.getClientIdByUrl(null==n?void 0:n.owningSystemUrl);let o;if(s=null==n?void 0:n.owningSystemUrl,i)o=r.signIn({fromUrl:window.location&&window.location.href,popup:!0,desUrl:null==n?void 0:n.owningSystemUrl,clientId:i,forceLogin:t,federatedServiceUrl:e}).then((e=>_l(this,void 0,void 0,(function*(){return e}))));else{if(!window.jimuConfig.isBuilder&&!window.jimuConfig.isInBuilder)return r.nonOAuthSignIn(e,t);o=r.useDialogToSetClientIdToConnectiosOfAppConfigAndSignIn(n.owningSystemUrl,!0,e,t).then((()=>r.getSessionByUrl(n.owningSystemUrl)))}return o}return r.nonOAuthSignIn(e,t)})))):r.signIn({fromUrl:window.location&&window.location.href,popup:!0,desUrl:e}),i.then((t=>(r.checkSessionPermissionForUrl(e,t.token,t.username,s),t))).catch((t=>(t.code===gl.SignInCanceled&&r.addToNoPermissionResourceInfoList(e,"",gl.SignInCanceled,!1,s),Promise.reject(t))))}))}(e,n).then((e=>i(e,o+1))).catch((e=>Promise.reject(jl(e))))):i(s,o+1)})),s=Il.getInstance(),o=s.getSessionByUrl(e);return o?i(o):s.getServerKeyFromUrl(e)?Bl.getInstance().fetchArcGISServerInfo(e).then((e=>_l(this,void 0,void 0,(function*(){return(null==e?void 0:e.owningSystemUrl)?i(s.getSessionByUrl(e.owningSystemUrl)):i(void 0)})))):i(void 0)}))}function jl(e){const t=Il.getInstance(),r=t.getSignInErrorCodeByAuthError(e);return r?t.getSignInErrorByCode(r):e}const kl={};window._cachedRequests=kl;var Ul=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};class Bl{constructor(){this.servicesInfo={},this.servicesInfoPromise={},this.arcGISServersInfo={},this.arcGISServersInfoPromise={}}static getInstance(){if(window.jimuConfig&&window.jimuConfig.isBuilder){if(window._appWindow&&window._appWindow._serviceManager)return window._appWindow._serviceManager;console.error("No window._appWindow._serviceDefinitionManager.")}return Bl.instance||(Bl.instance=new Bl),Bl.instance}getServiceInfo(e){return this.servicesInfo[e]}setServiceInfo(e,t){this.servicesInfo[e]=t}getServerInfo(e){return this.arcGISServersInfo[e]}getServerInfoByServiceUrl(e){return this.arcGISServersInfo[this.getArcGISServerUrlFromServiceUrl(e)]}clearServiceInfo(e){e&&(delete this.servicesInfo[e],delete this.servicesInfoPromise[e])}fetchServiceInfo(e){return Ul(this,void 0,void 0,(function*(){return this.getServiceInfo(e)?Promise.resolve(this.getServiceInfo(e)):(this.servicesInfoPromise[e]||(this.servicesInfoPromise[e]=this.isHostedServiceInSamePortal(e).then((t=>Ul(this,void 0,void 0,(function*(){return Ml(e,(r=>Ul(this,void 0,void 0,(function*(){return Ti(e,{authentication:r,httpMethod:"GET"}).then((e=>({definition:e,isHostedInSamePortal:t})))}))),1)})))).then((t=>(this.servicesInfo[e]=t,t)))),this.servicesInfoPromise[e])}))}isHostedServiceInSamePortal(e){return Ul(this,void 0,void 0,(function*(){return this.fetchArcGISServerInfo(e).then((t=>(null==t?void 0:t.owningSystemUrl)?!(!/https?:\/\/(www|services)\.arcgis\.com/.test(t.owningSystemUrl)||!/maps\.arcgis\.com\/?$/.test(Vl().getState().portalUrl))||(!(!/https?:\/\/(devext|servicesdev)\.arcgis\.com/.test(t.owningSystemUrl)||!/mapsdevext\.arcgis\.com\/?$/.test(Vl().getState().portalUrl))||(!(!/https?:\/\/(qaext|servicesqa)\.arcgis\.com/.test(t.owningSystemUrl)||!/mapsqa\.arcgis\.com\/?$/.test(Vl().getState().portalUrl))||Bn(Vl().getState().portalUrl,t.owningSystemUrl))):!!wl.getInstance().getSessionByUrl(e)))}))}fetchArcGISServerInfo(e){return Ul(this,void 0,void 0,(function*(){const t=this.getArcGISServerUrlFromServiceUrl(e);return t?(this.arcGISServersInfoPromise[t]||(this.arcGISServersInfoPromise[t]=Ti(t,{httpMethod:"GET"}).then((e=>(this.arcGISServersInfo[t]=e,e))).catch((e=>Ul(this,void 0,void 0,(function*(){return console.warn("Failed to fetch ArcGIS server info."),Promise.resolve(null)}))))),this.arcGISServersInfoPromise[t]):Promise.resolve(null)}))}getArcGISServerUrlFromServiceUrl(e){const t=pi(e);return t?t+"/rest/info":null}isHostedService(e){return Ul(this,void 0,void 0,(function*(){const t=e.split(/\/rest(\/admin)?\/services\//)[0];return t?Ti(t+"/rest/info",{httpMethod:"GET"}).then((e=>!!e.owningSystemUrl)):Promise.resolve(!1)}))}fetchChildLayerDefinitionsFromUrls(e){return Ul(this,void 0,void 0,(function*(){return Promise.allSettled(e.map((e=>Ul(this,void 0,void 0,(function*(){return this.fetchServiceInfo(e).then((e=>e.definition))}))))).then((t=>{const r={};let n;return t.forEach(((t,i)=>{const s="fulfilled"===t.status?t.value:null;s&&(n=e[i],r[n]=s)})),r})).then((e=>{const t=Object.keys(e).map((t=>e[t])),r=this._getAllChildLayerIdsOfGroupLayer(t),n={};return Object.keys(e).forEach((t=>{r.some((r=>{var n;return r===`${null===(n=e[t])||void 0===n?void 0:n.id}`}))||(n[t]=e[t])})),n}))}))}_getAllChildLayerIdsOfGroupLayer(e){if(!e||0===e.length)return[];const t=e.filter((e=>e.type===Fe.GroupLayer));return this._getChildLayerIdsFromGroupLayerDefinitions(t)}_getChildLayerIdsFromGroupLayerDefinitions(e){return 0===e.length?[]:Array.prototype.concat.apply([],e.map((e=>(null==e?void 0:e.subLayers.map((e=>`${e.id}`)))||[])))}}window.jimuConfig&&!window.jimuConfig.isBuilder&&(window._serviceManager=Bl.getInstance());var Hl;function Fl(){return{type:Hl.UpdateNoPermissionResourceChangedFlag}}!function(e){e.InitStoreExtensionState="INIT_STORE_EXTENSION_STATE",e.ExtensionRegistered="EXTENSION_REGISTERED",e.AppConfigLoaded="APPCONFIG_LOADED",e.AppConfigChanged="APPCONFIG_CHANGED",e.LoadAppConfigFailed="LOAD_APPCONFIG_FAILED",e.ThemeVariablesChanged="THEME_VARIABLES_CHANGED",e.SetPortalInfo="SET_PORTAL_INFO",e.SetPortalSelf="SET_PORTAL_SELF",e.WidgetClassLoaded="WIDGET_CLASS_LOADED",e.WidgetConfigLoaded="WIDGET_CONFIG_LOADED",e.WidgetUpgraded="WIDGET_UPGRADED",e.OpenWidget="OPEN_WIDGET",e.OpenWidgets="OPEN_WIDGETS",e.CloseWidget="CLOSE_WIDGET",e.CloseWidgets="CLOSE_WIDGETS",e.ResetWidgetState="RESET_WIDGET_STATE",e.ResetWidgetsState="RESET_WIDGETS_STATE",e.SetWidgetIsInlineEditingState="SET_WIDGET_IS_INLINE_EDITING_STATE",e.SetWidgetPreloadProps="SET_WIDGET_PRELOAD_PROPS",e.ActivateWidget="ACTIVATE_WIDGET",e.SetAppInBuilder="SET_APP_IN_BUILDER",e.LayoutClassLoaded="LAYOUT_CLASS_LOADED",e.AppContextInit="APP_CONTEXT_INIT",e.I18nMessagesLoaded="I18N_MESSAGES_LOADED",e.QueryObjectChanged="QUERY_OBJECT_CHANGED",e.UrlHashObjectChanged="URL_HASH_OBJECT_CHANGED",e.AppModeChanged="APP_MODE_CHANGED",e.SelectionChanged="SELECTION_CHANGED",e.AppRuntimeInfoInit="APP_RUNTIME_INFO_INIT",e.CurrentPageChanged="CURRENT_PAGE_CHANGED",e.CurrentDialogChanged="CURRENT_DIALOG_CHANGED",e.DialogInfosChanged="DIALOG_INFOS_CHANGED",e.ClipboardChanged="CLIPBOARD_CHANGED",e.AppPathChanged="APP_PATH_CHANGED",e.AppIdChanged="APP_ID_CHANGED",e.AppInfoChanged="APP_INFO_CHANGED",e.NetworkStatusChanged="NETWORK_STATUS_CHANGED",e.DataSourceStatusChanged="DATA_SOURCE_STATUS_CHANGED",e.DataSourceCountStatusChanged="DATA_SOURCE_COUNT_STATUS_CHANGED",e.DataSourceInstanceStatusChanged="DATA_SOURCE_INSTANCE_STATUS_CHANGED",e.DataSourceSaveStatusChanged="DATA_SOURCE_SAVE_STATUS_CHANGED",e.DataSourceVersionAdded="DATA_SOURCE_VERSION_ADDED",e.DataSourceSourceVersionAdded="DATA_SOURCE_SOURCE_VERSION_ADDED",e.DataSourceSelectedIndexesChanged="DATA_SOURCE_SELECTED_INDEXES_CHANGED",e.DataSourceSelectionChanged="DATA_SOURCE_SELECTION_CHANGED",e.SetDataSourcePreloadData="SET_DATA_SOURCE_PRELOAD_DATA",e.SetDataNeedRefresh="SET_DATA_NEED_REFRESH",e.UpdateWidgetQuery="UPDATE_WIDGET_QUERY",e.ChangeDataSourceGDBVersion="CHANGE_DATA_SOURCE_GDB_VERSION",e.ClearDataSourceInfo="CLEARE_DATA_SOURCE_INFO",e.UpdateDataSourceInfo="UPDATE_DATA_SOURCE_INFO",e.JimuMapViewAdded="JIMU_MAPVIEW_ADDED",e.JimuMapViewRemoved="JIMU_MAPVIEW_REMOVED",e.JimuMapViewUpdated="JIMU_MAPVIEW_UPDATED",e.MapWidgetInfoAdded="MAP_WIDGET_INFO_ADDED",e.MapWidgetInfoRemoved="MAP_WIDGET_INFO_REMOVED",e.MapWidgetInfoUpdated="MAP_WIDGET_INFO_UPDATED",e.RequestAutoControlMapWidget="REQUEST_AUTO_CONTROL_MAP_WIDGET",e.ReleaseAutoControlMapWidget="RELEASE_AUTO_CONTROL_MAP_WIDGET",e.WidgetStatePropChange="WIDGET_STATE_PROP_CHANGE",e.WidgetMutableStatePropChange="WIDGET_MUTABLE_STATE_PROP_CHANGE",e.SessionStart="SESSION_START",e.UserSignIn="USER_SIGN_IN",e.UserSignOut="USER_SIGN_OUT",e.BrowserSizeModeChanged="BROWSER_SIZE_MODE_CHANGED",e.UpdateStoreState="UPDATE_STORE_STATE",e.ActivePagePartChanged="ACTIVE_PAGE_PART_CHANGED",e.OpenOverlay="OPEN_OVERLAY",e.CloseOverlay="CLOSE_OVERLAY",e.ActiveOverlay="ACTIVE_OVERLAY",e.SetIsBusy="SET_IS_BUSY",e.ZoomScaleChanged="ZOOM_SCALE_CHANGED",e.LayoutChanged="LAYOUT_CHANGED",e.SectionNavInfoChanged="SECTION_NAV_INFO_CHANGED",e.SetupAnimationPreview="SETUP_ANIMATION_PREVIEW",e.ClearAnimationPreview="CLEAR_ANIMATION_PREVIEW",e.SetupHoverPreview="SETUP_HOVER_PREVIEW",e.ScreenGroupNavInfoChanged="SCREEN_GROUP_NAV_INFO_CHANGE",e.UserLocaleChanged="USER_LOCALE_CHANGED",e.HasPrivilegeChanged="HAS_PRIVILEGE_CHANGED",e.AddToRegisterClientIdList="ADD_TO_REGISTER_CLIENT_ID_LIST",e.RemoveFromRegisterClientIdList="REMOVE_FROM_REGISTER_CLIENT_ID_LIST",e.UpdateNoPermissionResourceChangedFlag="UPDATE_NO_PERMISSION_RESOURCE_CHANGED_FLAG",e.UpdateResourceSessions="UPDATE_RESOURCE_SESSIONS",e.ScreenPanelVisibleChange="SCREEN_PANEL_VISIBLE_CHANGE",e.ActivePrintPreview="ACTIVE_PRINT_PREVIEW",e.QuitPrintPreview="QUIT_PRINT_PREVIEW",e.UtilityStateChange="UTILITY_STATE_CHANGE",e.SaveThumbnailUrl="SAVE_THUMBNAIL_URL",e.OpenCookieBannerSetting="OPEN_COOKIE_BANNER_SETTING",e.OpenCookieSettingsWindow="OPEN_COOKIE_SETTINGS_WINDOW",e.OpenCookieBannerByPrivacyPanel="OPEN_COOKIE_BANNER_BY_PRIVACY_PANEL",e.OpenCookieBannerByUrl="OPEN_COOKIE_BANNER_BY_URL"}(Hl||(Hl={}));let Gl;function Vl(){return Gl}function Wl(e){return new Promise(((t,r)=>{"done"===e.readyState?null!=e.error?r(e.error):t(e.result):(e.onsuccess=()=>{t(e.result)},e.onerror=()=>{r(e.error)})}))}var zl=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};function $l(e){return zl(this,arguments,void 0,(function*(e,t="prev"){return new Promise(((r,n)=>{const i=e.db.transaction([e.storeName],"readonly").objectStore(e.storeName),s=e.indexName?i.index(e.indexName):i,o=[],a=t?s.openCursor(null,t):s.openCursor();a.onsuccess=t=>{const n=t.target.result;n?(o.push(n.value),n.continue()):(e.close(),r(o))},a.onerror=t=>{e.close(),n(t.target.error)}}))}))}function Kl(e){o.utils.removeFromLocalStorage(be[0].storeName),o.utils.removeFromLocalStorage(be[1].storeName),o.utils.removeFromLocalStorage(be[2].storeName);return Wl(indexedDB.deleteDatabase(e))}function ql(e,t,r){return zl(this,void 0,void 0,(function*(){const n=new o.indexedDBUtils.IndexedDBCache(e,t,be[r].storeName,1,be[r].indexName,be[r].indexKey,be[r].keyPath);return yield n.init().catch((e=>Promise.reject("Error init store"))),n&&n.initialized()?n.clear():Promise.reject("Error init db")}))}function Xl(e,t,r,n){return zl(this,void 0,void 0,(function*(){const i=new o.indexedDBUtils.IndexedDBCache(e,t,be[r].storeName,1,be[r].indexName,be[r].indexKey,be[r].keyPath);if(yield i.init().catch((e=>(i.close(),Promise.reject("Error init store")))),i&&i.initialized()){const e=i.deleteAll(n);return i.close(),e}return Promise.reject("Error init db")}))}function Yl(e,t,r,n){return zl(this,void 0,void 0,(function*(){const i=new o.indexedDBUtils.IndexedDBCache(e,t,be[r].storeName,1,be[r].indexName,be[r].indexKey,be[r].keyPath);if(yield i.init().catch((e=>(i.close(),Promise.reject("Error init store")))),i&&i.initialized()){const e=i.putAllObject(n);return i.close(),e}return Promise.reject("Error init db")}))}function Jl(e,t){var r,n;return`exb-${(null===(r=window.jimuConfig)||void 0===r?void 0:r.isBuilder)?null===(n=(0,o.getAppStore)().getState().appStateInBuilder)||void 0===n?void 0:n.appId:(0,o.getAppStore)().getState().appId}-${t}-${e}-cache`}function Ql(e){return new Promise(((t,r)=>{indexedDB.databases().then((function(r){const n=r.some((function(t){return t.name===e}));t(!!n)})).catch((function(e){t(!1)}))}))}function Zl(e){return zl(this,void 0,void 0,(function*(){var t,r;const n=yield function(){return zl(this,void 0,void 0,(function*(){if("function"==typeof indexedDB.databases){return(yield indexedDB.databases()).map((e=>e.name||""))}return[]}))}(),i=null===(r=null===(t=(0,o.getAppStore)().getState())||void 0===t?void 0:t.appConfig)||void 0===r?void 0:r.widgets;if(void 0!==i){const t=Object.keys(i).filter((t=>i[t].manifest.name===e)).map((t=>Jl(t,e)));n.forEach((e=>{t.includes(e)||Kl(e)}))}}))}var ec=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const tc=e=>{const{widgetId:t,widgetLabel:r,dataSourceId:n,onCreate:i,jimuMapView:s,onTracksChange:a,layerVisible:l}=e,c=(0,fn.useRef)(!0),u={type:"simple",symbol:{type:"simple-marker",size:10,color:e.symbolColor||"#007AC2",outline:null}},[h,d]=o.React.useState(null),[p,f]=o.React.useState(null),m=o.hooks.useLatest(i),g=(i,c,p)=>ec(void 0,void 0,void 0,(function*(){if(!i)return;if(c===W.CLEAR)return a([]),void(e.highlightLocation&&ce(s,n));const f=[];let m=[];if(m=yield ec(void 0,void 0,void 0,(function*(){let e=h;return e&&e.initialized()||(e=new o.indexedDBUtils.IndexedDBCache(t,r,be[0].storeName,1,be[0].indexName,be[0].indexKey,be[0].keyPath),yield e.init().catch((e=>(console.error("Error getting data from IndexedDB:",e),Promise.resolve(e))))),e&&e.initialized()?(d(e),yield $l(e).catch((e=>(console.error("Error getting data from IndexedDB:",e),Promise.resolve(e))))):Promise.resolve("Error getting data from IndexedDB")})),"object"==typeof m){const e=m;e.forEach((e=>ec(void 0,void 0,void 0,(function*(){const t=de(e);f.push(t)})))),a(e)}else a([]);0!==f.length?(yield ue(i,f,"point"),e.highlightLocation?le(c,n,s,p,u,l):ce(s,n),null==i||i.setStatus(o.DataSourceStatus.Unloaded),null==i||i.setCountStatus(o.DataSourceStatus.Unloaded)):e.highlightLocation&&ce(s,n)}));o.React.useEffect((()=>{c.current?c.current=!1:e.operation===W.ADD?(e=>{ec(void 0,void 0,void 0,(function*(){try{yield Yl(t,r,0,[e]);const n=de(e);g(p,W.ADD,[n])}catch(e){console.error("Error adding data to IndexedDB:",e)}}))})(e.track):e.operation===W.DELETE?(e=>{ec(void 0,void 0,void 0,(function*(){try{yield Xl(t,r,0,[e.ObjectID]);const n=de(e);g(p,W.DELETE,[n])}catch(e){console.error("Error adding data to IndexedDB:",e)}}))})(e.track):e.operation===W.CLEAR&&g(p,W.CLEAR,[])}),[e.track,e.operation]),o.React.useEffect((()=>{g(p,W.REFRESH,[])}),[e.highlightLocation,e.jimuMapView]),o.React.useEffect((()=>{const t={type:"simple",symbol:{type:"simple-marker",size:10,color:e.symbolColor,outline:null}};if(s){const e=s.getJimuLayerViewByDataSourceId(n);e&&(e.layer.renderer=t)}}),[e.symbolColor]);const v=o.React.useMemo((()=>{if(n)return(0,o.Immutable)({dataSourceId:n,mainDataSourceId:n})}),[n]);return o.React.createElement(o.DataSourceComponent,{query:{where:"1=1",outFields:["*"],returnGeometry:!0},queryCount:!0,widgetId:t,useDataSource:v,onDataSourceCreated:e=>{var t;f(e),g(e,W.CREATE,[]),null===(t=m.current)||void 0===t||t.call(m,e)},onSelectionChange:t=>{t&&e.onHandleSelection(Array.from(t),"point")},onDataSourceStatusChange:t=>{if(t===o.DataSourceStatus.Loaded&&p){const t=p.getRecords().map((e=>e.getData().ObjectID));e.onHandleFilter(t,"point")}}})};var rc=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const nc=e=>{const{widgetId:t,widgetLabel:r,dataSourceId:n,onCreate:i,onLinesChanges:s,jimuMapView:a,layerVisible:l}=e,[c,u]=o.React.useState(null),[h,d]=o.React.useState(null),[p,f]=o.React.useState(null),m=o.hooks.useLatest(i),g=(0,fn.useRef)(!0),v=(0,fn.useRef)(null),S={type:"simple",symbol:{type:"simple-line",color:e.symbolColor||"#007AC2",width:2,style:"solid"}};o.React.useEffect((()=>{var n;g.current?g.current=!1:e.operation===W.ADD?(n=e.tracksWithLine,rc(void 0,void 0,void 0,(function*(){if(n)try{yield Yl(t,r,1,n.tracks),yield Yl(t,r,2,[n.line]),I(p,W.UPDATE,[])}catch(e){console.error("Error adding data to IndexedDB:",e)}}))):e.operation===W.DELETE?(e=>{rc(void 0,void 0,void 0,(function*(){if(e)try{yield Xl(t,r,1,e.tracks.map((e=>e.ObjectID))),yield Xl(t,r,2,[e.line.ObjectID]);const n=[],i=pe(e.line,e.tracks);n.push(i),I(p,W.DELETE,n)}catch(e){console.error("Error delete data to IndexedDB:",e)}}))})(e.tracksWithLine):e.operation===W.UPDATE?(e=>{rc(void 0,void 0,void 0,(function*(){if(!e)return;const n=e.tracks[0],i=e.tracks.slice(1);try{yield Xl(t,r,1,[n.ObjectID]);const s=[];if(e.line){const t=pe(e.line,i);s.push(t)}I(p,W.UPDATE,s)}catch(e){console.error("Error delete data to IndexedDB:",e)}}))})(e.tracksWithLine):e.operation===W.CLEAR&&I(p,W.CLEAR,[])}),[e.tracksWithLine,e.operation]),o.React.useEffect((()=>{I(p,W.REFRESH,[])}),[e.highlightLocation,e.jimuMapView]),o.React.useEffect((()=>{const t={type:"simple",symbol:{type:"simple-line",color:e.symbolColor,width:2,style:"solid"}};if(a){const e=a.getJimuLayerViewByDataSourceId(n);e&&(e.layer.renderer=t)}}),[e.symbolColor]),o.React.useEffect((()=>{if(e.tempTracksWithLine)v.current=e.tempTracksWithLine;else if(v.current){const t=pe(v.current.line,v.current.tracks);I(p,W.ADD,[t]),v.current=null,e.handleTracePathFinished()}}),[e.tempTracksWithLine]);const E=o.React.useMemo((()=>{if(n)return(0,o.Immutable)({dataSourceId:n,mainDataSourceId:n})}),[n]),y=e=>rc(void 0,void 0,void 0,(function*(){let n=h;return n&&n.initialized()||(n=new o.indexedDBUtils.IndexedDBCache(t,r,be[1].storeName,1,be[1].indexName,be[1].indexKey,be[1].keyPath),yield n.init().catch((e=>(console.error("Error getting data from IndexedDB:",e),Promise.resolve(e))))),n&&n.initialized()?(d(n),yield function(e,t,r,n){return zl(this,void 0,void 0,(function*(){const t=[];return new Promise(((i,s)=>{const o=e.db.transaction([e.storeName],"readonly").objectStore(e.storeName).index(e.indexName),a=IDBKeyRange.only(r),l=o.openCursor(a);l.onsuccess=function(r){const s=r.target.result;s?(t.push(s.value),s.continue()):(t.sort(((e,t)=>t[n]-e[n])),e.close(),i(t))},l.onerror=function(t){e.close(),s(t.target.error)}}))}))}(n,0,e,"Time").catch((e=>(console.error("Error getting data from IndexedDB:",e),Promise.resolve(e))))):Promise.resolve("Error getting data from IndexedDB")})),I=(i,h,d)=>rc(void 0,void 0,void 0,(function*(){if(!i)return;if(h===W.CLEAR)return s([],[],[]),void(e.highlightLocation&&ce(a,n));const p=[];let f=[];f=yield rc(void 0,void 0,void 0,(function*(){let e=c;return e&&e.initialized()||(e=new o.indexedDBUtils.IndexedDBCache(t,r,be[2].storeName,1,be[2].indexName,be[2].indexKey,be[2].keyPath),yield e.init().catch((e=>(console.error("Error getting data from IndexedDB:",e),Promise.resolve(e))))),e&&e.initialized()?(u(e),yield $l(e).catch((e=>(console.error("Error getting data from IndexedDB:",e),Promise.resolve(e))))):Promise.resolve("Error getting data from IndexedDB")}));let m=[],g=[];if("object"==typeof f)if(g=f,g.length>0){for(const t of f){const r=yield y(t.ObjectID);if("object"==typeof r){m.push(r);const n=pe(t,r);e.tempTracksWithLine&&e.tempTracksWithLine.line&&e.tempTracksWithLine.line.ObjectID===t.ObjectID||p.push(n)}else m=[]}const t=m.reduce(((e,t)=>e.concat(t)));s(g,m,t)}else s([],[],[]);else s([],[],[]);0!==p.length?(yield ue(i,p,"polyline"),e.highlightLocation?le(h,n,a,d,S,l):ce(a,n),null==i||i.setStatus(o.DataSourceStatus.Unloaded),null==i||i.setCountStatus(o.DataSourceStatus.Unloaded)):e.highlightLocation&&ce(a,n)}));return o.React.createElement(o.DataSourceComponent,{query:{where:"1=1",outFields:["*"],returnGeometry:!0},queryCount:!0,widgetId:t,useDataSource:E,onDataSourceCreated:e=>{var t;f(e),I(e,W.CREATE,[]),null===(t=m.current)||void 0===t||t.call(m,e)},onSelectionChange:t=>{t&&e.onHandleSelection(Array.from(t),"line")},onDataSourceStatusChange:t=>{if(t===o.DataSourceStatus.Loaded&&p){const t=p.getRecords().map((e=>e.getData().ObjectID));e.onHandleFilter(t,"line")}}})};var ic=c(73529),sc=c.n(ic),oc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const ac=e=>{const t=window.SVG,{className:r}=e,n=oc(e,["className"]),i=(0,o.classNames)("jimu-icon jimu-icon-component",r);return t?o.React.createElement(t,Object.assign({className:i,src:sc()},n)):o.React.createElement("svg",Object.assign({className:i},n))};var lc=c(9044),cc=c.n(lc),uc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const hc=e=>{const t=window.SVG,{className:r}=e,n=uc(e,["className"]),i=(0,o.classNames)("jimu-icon jimu-icon-component",r);return t?o.React.createElement(t,Object.assign({className:i,src:cc()},n)):o.React.createElement("svg",Object.assign({className:i},n))};var dc=c(40904),pc=c.n(dc),fc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const mc=e=>{const t=window.SVG,{className:r}=e,n=fc(e,["className"]),i=(0,o.classNames)("jimu-icon jimu-icon-component",r);return t?o.React.createElement(t,Object.assign({className:i,src:pc()},n)):o.React.createElement("svg",Object.assign({className:i},n))};var gc=c(97408),vc=c.n(gc),Sc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Ec=e=>{const t=window.SVG,{className:r}=e,n=Sc(e,["className"]),i=(0,o.classNames)("jimu-icon jimu-icon-component",r);return t?o.React.createElement(t,Object.assign({className:i,src:vc()},n)):o.React.createElement("svg",Object.assign({className:i},n))};var yc=c(56431),Ic=c.n(yc),wc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Tc=e=>{const t=window.SVG,{className:r}=e,n=wc(e,["className"]),i=(0,o.classNames)("jimu-icon jimu-icon-component",r);return t?o.React.createElement(t,Object.assign({className:i,src:Ic()},n)):o.React.createElement("svg",Object.assign({className:i},n))};var Ac=c(74919),bc=c.n(Ac),Oc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Rc=e=>{const t=window.SVG,{className:r}=e,n=Oc(e,["className"]),i=(0,o.classNames)("jimu-icon jimu-icon-component",r);return t?o.React.createElement(t,Object.assign({className:i,src:bc()},n)):o.React.createElement("svg",Object.assign({className:i},n))};var Nc=c(26490),Lc=c.n(Nc),Pc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const xc=e=>{const t=window.SVG,{className:r}=e,n=Pc(e,["className"]),i=(0,o.classNames)("jimu-icon jimu-icon-component",r);return t?o.React.createElement(t,Object.assign({className:i,src:Lc()},n)):o.React.createElement("svg",Object.assign({className:i},n))};var Cc=c(45508),Dc=c.n(Cc),_c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Mc=e=>{const t=window.SVG,{className:r}=e,n=_c(e,["className"]),i=(0,o.classNames)("jimu-icon jimu-icon-component",r);return t?o.React.createElement(t,Object.assign({className:i,src:Dc()},n)):o.React.createElement("svg",Object.assign({className:i},n))};var jc=c(35737),kc=c.n(jc),Uc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Bc=e=>{const t=window.SVG,{className:r}=e,n=Uc(e,["className"]),i=(0,o.classNames)("jimu-icon jimu-icon-component",r);return t?o.React.createElement(t,Object.assign({className:i,src:kc()},n)):o.React.createElement("svg",Object.assign({className:i},n))};var Hc=c(23001),Fc=c.n(Hc),Gc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Vc=e=>{const t=window.SVG,{className:r}=e,n=Gc(e,["className"]),i=(0,o.classNames)("jimu-icon jimu-icon-component",r);return t?o.React.createElement(t,Object.assign({className:i,src:Fc()},n)):o.React.createElement("svg",Object.assign({className:i},n))};var Wc=c(31795),zc=c.n(Wc),$c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Kc=e=>{const t=window.SVG,{className:r}=e,n=$c(e,["className"]),i=(0,o.classNames)("jimu-icon jimu-icon-component",r);return t?o.React.createElement(t,Object.assign({className:i,src:zc()},n)):o.React.createElement("svg",Object.assign({className:i},n))},qc=e=>null==e||""===e,Xc=(e,t)=>parseFloat(e.toFixed(t)),Yc=(e,t,r)=>{let n=r;switch(t){case"Time":case"StartTime":case"EndTime":n=((e,t)=>{let r,n;if(r=window.jimuConfig.isBuilder?(0,o.getAppStore)().getState().appStateInBuilder.appConfig.attributes.timezone:(0,o.getAppStore)().getState().appConfig.attributes.timezone,(null==r?void 0:r.type)===o.TimezoneConfig.Specific){const e=o.dataSourceUtils.getTimeZoneOffsetByName(r.value);n=t-o.dataSourceUtils.getLocalTimeOffset()+e}else n=t;return o.dateUtils.formatDateField(n,"shortDateLongTime24",e)})(e,r);break;case"Longitude":n=r>=0?`${r} \xb0E`:`${r} \xb0W`;break;case"Latitude":n=r>=0?`${r} \xb0N`:`${r} \xb0S`;break;case"Speed":case"AverageSpeed":n=qc(r)?"":`${r} ${e.formatMessage({id:"speedUnit",defaultMessage:F})}`;break;case"Orientation":n=qc(r)?"":`${r} ${e.formatMessage({id:"orientationUnit",defaultMessage:G})}`;break;case"Accuracy":case"AverageAccuracy":case"Altitude":case"AverageAltitude":n=qc(r)?"":`${r} ${e.formatMessage({id:"altitudeUnit",defaultMessage:V})}`}return n};function Jc(e){return e*(Math.PI/180)}class Qc extends o.React.PureComponent{constructor(e){super(e),this.getStyle=()=>o.css`
    border: 1px solid ${this.props.theme.sys.color.divider.tertiary};
    padding: 3px;
    width: 100%;
    display:flex;
    justify-content: space-between;
    flex-direction: column;
    margin: 5px auto;
    cursor: pointer;
    .head{
        width: 100%;
        font-weight: var(--ref-typeface-font-weight-medium);
        color: var(--ref-palette-black);
        display:flex;
        justify-content: space-between;
        .title{
            display: flex;
            justify-content: center;
            align-items: center;
            .arrow-icon{
                height: 8px;
                width: 8px;
                cursor: pointer;
            }
            .time{
                font-size:14px;
                font-weight: var(--ref-typeface-font-weight-medium);
                margin-left:5px;
            }
        }
        .del-icon{
            height: 16px;
            width: 16px;
            cursor: pointer;
        }
    }    
    .props{
        display:flex;
        flex-direction:column;
        margin-left: 22px;
        .prop{
            margin-top:2px;
            display:flex;
            justify-content: flex-start;
            vertical-align:middle
            .attr{
                line-height:18px;
                font-weight: var(--ref-typeface-font-weight-regular);
            }
            .val{
                margin-left: 5px;
            }
        }
    }
  `,this.state={open:!1}}handleSel(e){this.props.onHandleSelect(e,!this.props.active)}render(){const e=this.props.isLine?"trackline_point":"track",t=ae(this.props.intl,"",e),r=null==t?void 0:t.fields,n=this.props.track,i=this.state.open;return(0,o.jsx)("div",{className:"track-item"+(this.props.active?" active":""),key:n.Time,css:this.getStyle(),onClick:()=>{this.handleSel(n)}},(0,o.jsx)("div",{className:"head"},(0,o.jsx)("div",{className:"title"},(0,o.jsx)(a.Button,{"aria-label":this.props.intl.formatMessage({id:i?"collapse":"expand"}),className:(0,o.classNames)("p-0 jimu-outline-inside",{expanded:i}),type:"tertiary",icon:!0,size:"sm",onClick:e=>{e.stopPropagation(),this.setState({open:!i})}},i?(0,o.jsx)(Bc,{size:"s"}):(0,o.jsx)(Vc,{size:"s",autoFlip:!0})),(0,o.jsx)("div",{className:"time"},Yc(this.props.intl,"Time",n.Time))),(0,o.jsx)(a.Tooltip,{title:this.props.intl.formatMessage({id:"delTrack",defaultMessage:S}),placement:"right"},(0,o.jsx)(a.Button,{className:"ml-auto",icon:!0,size:"sm",type:"tertiary",onClick:e=>{e.stopPropagation(),this.props.onHandleDelete(n)},"aria-label":this.props.intl.formatMessage({id:"delTrack",defaultMessage:S})},(0,o.jsx)(Kc,{size:16})))),i&&(0,o.jsx)("div",{className:"props"},this.props.selectedFields.map((e=>{var t;return(0,o.jsx)("div",{className:"prop",key:e},(0,o.jsx)("div",{className:"attr"},null===(t=r[e])||void 0===t?void 0:t.alias,":"),(0,o.jsx)("div",{className:"val"},Yc(this.props.intl,e,n[e])))}))))}}const Zc=(0,o.injectIntl)(Qc);class eu extends o.React.PureComponent{constructor(e){super(e),this.widgetStyle=o.css`
      width: 100%;
      height: 100%;
      overflow: auto;
      display:flex;
      flex-direction:column;
      margin:5px auto;
      .horizontal-line{
        position: relative;
        text-align: center; 
        margin: 8px 0;
      }
      .horizontal-line::before,
      .horizontal-line::after {
        content: "";
        display: block;
        width: 30%; 
        border-top: 1px solid ${this.props.theme.sys.color.divider.tertiary};
        position: absolute;
        top: 50%; 
      }
      .horizontal-line::before {
        left: 0; 
      }
      .horizontal-line::after {
        right: 0;
      }
      .text {
        color: var(--ref-palette-neutral-1200);
        display: inline-block; 
        padding: 0 10px; 
        position: relative;
        z-index: 1; 
      }
      .active{
        border: 1px solid var(--sys-color-primary-main);
      }
  `,this.state={}}childTracks(e){return e.map((e=>{var t;return this.props.notFilterPointIds.includes(e.ObjectID)?(0,o.jsx)(Zc,{key:e.ObjectID,theme:this.props.theme,track:e,isLine:!0,selectedFields:this.props.selectedFields,active:null===(t=this.props.selectedIds)||void 0===t?void 0:t.includes(e.ObjectID.toString()),onHandleSelect:this.props.onHandleSelect,onHandleDelete:this.props.onHandleDelete}):null}))}render(){const e=this.props.intl.formatMessage({id:"trackLineDivide",defaultMessage:T}),t=this.props.tracks.map(((t,r)=>{var n;return this.props.isLine?(0,o.jsx)("div",{key:r},this.props.tracks.length>1&&this.props.notFilterPointIds.length>1&&!(this.props.tempTracksWithLine&&0===r)&&(0,o.jsx)("div",{className:"horizontal-line"},(0,o.jsx)("span",{className:"text"},e," ",this.props.tracks.length-r)),this.childTracks(t)):this.props.notFilterPointIds.includes(t.ObjectID)?(0,o.jsx)(Zc,{key:t.ObjectID,theme:this.props.theme,track:t,isLine:!1,selectedFields:this.props.selectedFields,active:null===(n=this.props.selectedIds)||void 0===n?void 0:n.includes(t.ObjectID.toString()),onHandleSelect:this.props.onHandleSelect,onHandleDelete:this.props.onHandleDelete}):null}));return(0,o.jsx)("div",{className:"track-list-items",css:this.widgetStyle},t)}}const tu=(0,o.injectIntl)(eu);class ru extends o.React.PureComponent{constructor(e){super(e),this.trackLabel=this.props.intl.formatMessage({id:"trackLabel",defaultMessage:d}),this.mvManager=s.MapViewManager.getInstance(),this.widgetStyle=o.css`
  flex: 1 1 auto;
  width:100%;
  display:flex;
  flex-direction:column;
  align-items: flex-start;
  overflow: auto;
  .track-head{
    height:26px;
    line-height: 26px;
    display:flex;
    align-items:center;
    justify-content: flex-start;
    .track-name{
      font-size:13px;
      font-weight:  var(--ref-typeface-font-weight-regular);
    }
    .visible-icon{
      height:16px;
      width:16px;
      margin-left: 5px;
      cursor: pointer;
    }
  }
`,this.handleSelect=(e,t)=>{var r,n;let i=[];if(t){i=this.props.selectedIds.concat([e.ObjectID.toString()]);let t=null;t=de(e),t&&this.props.jimuMapView&&s.zoomToUtils.zoomTo(null===(r=this.props.jimuMapView)||void 0===r?void 0:r.view,[t],{scale:null!==(n=this.props.scale)&&void 0!==n?n:5e4,padding:{left:10,right:10,top:10,bottom:10}})}else i=this.props.selectedIds.filter((t=>t!==e.ObjectID.toString()));this.props.dataSource&&this.props.dataSource.selectRecordsByIds(i.map((e=>e.toString())))},this.state={showFromMap:!0}}handleTrackLayer(){if(this.setState({showFromMap:!this.state.showFromMap}),this.props.handleHighlightVisible(!this.state.showFromMap),this.props.dataSourceId&&this.props.jimuMapView){const e=this.props.jimuMapView.getJimuLayerViewByDataSourceId(this.props.dataSourceId);e&&(e.layer.visible=!this.state.showFromMap)}}render(){const e=this.state.showFromMap?this.props.intl.formatMessage({id:"hideOnMap",defaultMessage:y}):this.props.intl.formatMessage({id:"showOnMap",defaultMessage:E});return(0,o.jsx)("div",{className:"track-content",css:this.widgetStyle},(0,o.jsx)("div",{className:"track-head"},(0,o.jsx)("div",{className:"track-name"},this.trackLabel),(0,o.jsx)(a.Tooltip,{title:e,placement:"bottom"},(0,o.jsx)(a.Button,{className:"ml-auto",icon:!0,size:"sm",type:"tertiary",onClick:()=>{this.handleTrackLayer()},"aria-label":e},this.state.showFromMap&&(0,o.jsx)(ac,null),!this.state.showFromMap&&(0,o.jsx)(xc,null)))),this.props.tracks.length>0&&(0,o.jsx)(tu,{theme:this.props.theme,tracks:this.props.tracks,isLine:!1,selectedFields:this.props.selectedFields,onHandleSelect:this.handleSelect,onHandleDelete:this.props.onHandleDelete,selectedIds:this.props.selectedIds,notFilterPointIds:this.props.notFilterPointIds}),0===this.props.tracks.length&&!this.props.loading&&(0,o.jsx)("div",{className:"empty-content"},(0,o.jsx)(Mc,{className:"info-icon",size:24,color:this.props.theme.sys.color.surface.paperHint}),(0,o.jsx)("div",{className:"info-txt"},this.props.intl.formatMessage({id:"emptyStateText",defaultMessage:m}))))}}const nu=(0,o.injectIntl)(ru);class iu extends o.React.PureComponent{constructor(e){super(e),this.state={open:!1}}getStyle(){return o.css`
    border: 1px solid ${this.props.theme.sys.color.divider.tertiary};
    padding: 3px;
    width: 100%;
    display:flex;
    justify-content: space-between;
    flex-direction: column;
    cursor: pointer ;
    .head{
        width: 100%;
        font-weight: var(--ref-typeface-font-weight-medium);
        color: var(--ref-palette-black);
        display:flex;
        justify-content: space-between;
        .title{
            display: flex;
            justify-content: center;
            align-items: center;
            .arrow-icon{
                height: 8px;
                width: 8px;
                cursor: pointer;
            }
            .time{
                font-size:14px;
                font-weight: var(--ref-typeface-font-weight-medium);
                margin-left:5px;
            }
        }
        .del-icon{
            height: 16px;
            width: 16px;
            cursor: pointer;
        }
    }
    .active{
      border: 1px solid var(--sys-color-primary-main);
    }
    .props{
      display:flex;
      flex-direction:column;
      .prop{
          margin-top:2px;
          display:flex;
          justify-content: flex-start;
          vertical-align:middle
          .attr{
              line-height:18px;
              font-weight: var(--ref-typeface-font-weight-regular);
          }
          .val{
              margin-left: 5px;
          }
      }
    }
`}handleSel(e){this.props.onHandleSelect(e,!this.props.active)}render(){const e=ae(this.props.intl,"","trackline"),t=null==e?void 0:e.fields,r=this.props.track,n=this.state.open;return(0,o.jsx)("div",{className:"track-item"+(this.props.active?" active":""),key:r.EndTime,css:this.getStyle(),onClick:()=>{this.handleSel(r)}},(0,o.jsx)("div",{className:"head"},(0,o.jsx)("div",{className:"title"},(0,o.jsx)(a.Button,{"aria-label":this.props.intl.formatMessage({id:n?"collapse":"expand"}),className:(0,o.classNames)("p-0 jimu-outline-inside",{expanded:n}),type:"tertiary",icon:!0,size:"sm",onClick:e=>{e.stopPropagation(),this.setState({open:!n})}},n?(0,o.jsx)(Bc,{size:"s"}):(0,o.jsx)(Vc,{size:"s",autoFlip:!0})),(0,o.jsx)("div",{className:"time"},Yc(this.props.intl,"EndTime",r.EndTime))),(0,o.jsx)(a.Tooltip,{title:this.props.intl.formatMessage({id:"delTrack",defaultMessage:S}),placement:"right"},(0,o.jsx)(a.Button,{className:"ml-auto",icon:!0,size:"sm",type:"tertiary",onClick:e=>{e.stopPropagation(),this.props.onHandleDelete(r)},"aria-label":this.props.intl.formatMessage({id:"delTrack",defaultMessage:S})},(0,o.jsx)(Kc,{size:16})))),n&&(0,o.jsx)("div",{className:"props"},Ae.map((e=>{var n;return(0,o.jsx)("div",{className:"prop",key:e},(0,o.jsx)("div",{className:"attr"},null===(n=t[e])||void 0===n?void 0:n.alias,":"),(0,o.jsx)("div",{className:"val"},Yc(this.props.intl,e,r[e])))}))))}}const su=(0,o.injectIntl)(iu);class ou extends o.React.PureComponent{constructor(e){super(e),this.widgetStyle=o.css`
      width: 100%;
      height: 100%;
      overflow: auto;
      display:flex;
      flex-direction:column;
      margin:5px auto;
      .track-item{
          border: 1px solid ${this.props.theme.sys.color.divider.tertiary};
          padding: 3px;
          margin: 5px auto;
          width: 100%;
          display:flex;
          justify-content: space-between;
          flex-direction: column;
          .head{
              width: 100%;
              font-weight: var(--ref-typeface-font-weight-medium);
              color: var(--ref-palette-black);
              display:flex;
              justify-content: space-between;
              .title{
                  display: flex;
                  justify-content: center;
                  align-items: center;
                  .arrow-icon{
                      height: 8px;
                      width: 8px;
                      cursor: pointer;
                  }
                  .time{
                      font-size:14px;
                      font-weight: var(--ref-typeface-font-weight-medium);
                      margin-left:5px;
                  }
              }
              .del-icon{
                  height: 16px;
                  width: 16px;
                  cursor: pointer;
              }       
          }
          .props{
              display:flex;
              flex-direction:column;
              margin-left: 22px;
              .prop{
                  margin-top:2px;
                  display:flex;
                  justify-content: flex-start;
                  vertical-align:middle;
                  .attr{
                      line-height:18px;
                      font-weight: var(--ref-typeface-font-weight-regular);
                  }
                  .val{
                      margin-left: 5px;
                  }
              }
          }
      }
      .active{
        border: 1px solid var(--sys-color-primary-main);
      }
  `,this.state={}}render(){const e=this.props.trackLines.map(((e,t)=>{var r;return this.props.tempTracksWithLine&&e.ObjectID===this.props.tempTracksWithLine.line.ObjectID?null:this.props.notFilterLineIds.includes(e.ObjectID)?(0,o.jsx)(su,{key:t,theme:this.props.theme,track:e,active:null===(r=this.props.selectedIds)||void 0===r?void 0:r.includes(e.ObjectID.toString()),onHandleSelect:this.props.onHandleSelect,onHandleDelete:this.props.onHandleDelete}):null}));return(0,o.jsx)("div",{className:"track-list-items",css:this.widgetStyle},e)}}const au=(0,o.injectIntl)(ou),lu=o.css`
    flex: 1 1 auto;
    width: 100%;
    overflow: auto;
    height: calc(100% - 102px);
    display:flex;
    flex-direction:column;
    .track-tab {
      height: 100%;      
      width: 100%;
      ul{
        align-items: center;
      }
    }
`;class cu extends o.React.PureComponent{constructor(e){super(e),this.trackLabel=this.props.intl.formatMessage({id:"_widgetLabel",defaultMessage:h}),this.handleTabsChange=e=>{this.setState({activeTab:e}),"track_trackline_point_ouput"===e?this.props.handleCurrentDataSource(this.props.dataSourceId):this.props.handleCurrentDataSource(this.props.lineDataSourceId)},this.handleSelect=(e,t,r,n,i)=>{var o,a;let l=[];if(t){l=this.props[n].concat([e.ObjectID.toString()]);let t=null;if("point"===i)t=de(e);else if("line"===i){const r=this.props.tracks.filter((t=>t.some((t=>t.LineId===e.ObjectID))))[0];t=pe(e,r)}t&&this.props.jimuMapView&&s.zoomToUtils.zoomTo(null===(o=this.props.jimuMapView)||void 0===o?void 0:o.view,[t],{scale:null!==(a=this.props.scale)&&void 0!==a?a:5e4,padding:{left:10,right:10,top:10,bottom:10}})}else l=this.props[n].filter((t=>t!==e.ObjectID.toString()));r&&r.selectRecordsByIds(l.map((e=>e.toString())))},this.handlePointSelect=(e,t)=>{this.handleSelect(e,t,this.props.dataSource,"selectedPointIds","point")},this.handleLineSelect=(e,t)=>{this.handleSelect(e,t,this.props.lineDataSource,"selectedLineIds","line")},this.state={activeTab:"track_trackline_point_ouput",showFromMap:!0,lineShowFromMap:!0,points:[],startTime:null}}handleTrackLayer(e,t){if(e&&this.props.jimuMapView){const r=this.props.jimuMapView.getJimuLayerViewByDataSourceId(e);r&&(r.layer.visible=t)}}render(){const e=this.state.showFromMap?this.props.intl.formatMessage({id:"hideOnMap",defaultMessage:y}):this.props.intl.formatMessage({id:"showOnMap",defaultMessage:E}),t=this.props.intl.formatMessage({id:"trackLine",defaultMessage:w}),r=this.props.intl.formatMessage({id:"trackPath",defaultMessage:A}),n=this.props.intl.formatMessage({id:"track",defaultMessage:I}),i=(0,o.jsx)("div",null,n,(0,o.jsx)(a.Tooltip,{title:e,placement:"bottom"},(0,o.jsx)(a.Button,{className:"ml-auto",icon:!0,size:"sm",type:"tertiary",onClick:e=>{e.stopPropagation(),this.props.handleHighlightVisible(!this.state.showFromMap),this.setState({showFromMap:!this.state.showFromMap}),this.handleTrackLayer(this.props.dataSourceId,!this.state.showFromMap)},"aria-label":e},this.state.showFromMap&&(0,o.jsx)(ac,null),!this.state.showFromMap&&(0,o.jsx)(xc,null)))),s=(0,o.jsx)("div",null,t,(0,o.jsx)(a.Tooltip,{title:e,placement:"bottom"},(0,o.jsx)(a.Button,{className:"ml-auto",icon:!0,size:"sm",type:"tertiary",onClick:e=>{e.stopPropagation(),this.setState({lineShowFromMap:!this.state.lineShowFromMap}),this.handleTrackLayer(this.props.lineDataSourceId,!this.state.lineShowFromMap)},"aria-label":e},this.state.lineShowFromMap&&(0,o.jsx)(ac,null),!this.state.lineShowFromMap&&(0,o.jsx)(xc,null))),this.props.manualPathTracing&&(0,o.jsx)(a.Tooltip,{title:r,placement:"bottom"},(0,o.jsx)(a.Button,{className:"ml-auto",icon:!0,size:"sm",type:"tertiary",onClick:e=>{e.stopPropagation(),this.props.tracking&&this.props.handleTrackPath()},"aria-label":e},(0,o.jsx)(Tc,null))));return(0,o.jsx)("div",{css:lu},(0,o.jsx)(a.Tabs,{type:"underline",fill:!0,className:"track-tab",defaultValue:"track",value:this.state.activeTab,onChange:this.handleTabsChange},(0,o.jsx)(a.Tab,{id:"track_trackline_point_ouput",className:"w-50",title:i},"track_trackline_point_ouput"===this.state.activeTab&&this.props.tracks.length>0&&(0,o.jsx)(tu,{theme:this.props.theme,isLine:!0,tracks:this.props.tracks,tempTracksWithLine:this.props.tempTracksWithLine,selectedFields:this.props.selectedFields,selectedIds:this.props.selectedPointIds,notFilterPointIds:this.props.notFilterPointIds,onHandleSelect:this.handlePointSelect,onHandleDelete:e=>{this.props.onHandleLineDelete(e,null,"point")}}),0===this.props.tracks.length&&!this.props.loading&&(0,o.jsx)("div",{className:"empty-content"},(0,o.jsx)(Mc,{className:"info-icon",size:24,color:this.props.theme.sys.color.surface.paperHint}),(0,o.jsx)("div",{className:"info-txt"},this.props.intl.formatMessage({id:"emptyStateText",defaultMessage:m})))),(0,o.jsx)(a.Tab,{id:"track_trackline_ouput",className:"w-50",title:s},"track_trackline_ouput"===this.state.activeTab&&this.props.trackLines.length>0&&(0,o.jsx)(au,{theme:this.props.theme,trackLines:this.props.trackLines,tempTracksWithLine:this.props.tempTracksWithLine,selectedIds:this.props.selectedLineIds,notFilterPointIds:this.props.notFilterPointIds,notFilterLineIds:this.props.notFilterLineIds,onHandleSelect:this.handleLineSelect,onHandleDelete:e=>{this.props.onHandleLineDelete(null,e,"line")}}),0===this.props.trackLines.length&&!this.props.loading&&(0,o.jsx)("div",{className:"empty-content"},(0,o.jsx)(Mc,{className:"info-icon",size:24,color:this.props.theme.sys.color.surface.paperHint}),(0,o.jsx)("div",{className:"info-txt"},this.props.intl.formatMessage({id:"emptyStateText",defaultMessage:g}))))))}}const uu=(0,o.injectIntl)(cu);var hu=c(50152),du=c(59620);function pu(e){const{highlightLocation:t,position:r,jimuMapView:n,showCompassOrientation:i,showLocationAccuracy:s,graphicsLayerId:a,watchLocation:l,layerVisible:u}=e,h=(0,fn.useRef)(null),d=(0,fn.useRef)(null),p=(0,fn.useRef)(null),f=c(95684),m=c(30563),g={type:"simple-fill",color:"rgba(11,100,244,0.2)",style:"solid",outline:{color:"rgba(11,100,244,0.2)",width:1}},v={type:"picture-marker",url:m,width:48,height:48,angle:0},S={type:"picture-marker",url:f,width:18,height:18};function E(){if(e.position){const{longitude:t,latitude:r,accuracy:n,heading:i}=e.position,o=t,a=r;!function(e,t,r){if(s&&null!=r){const n=new hu.default({center:{x:e,y:t},geodesic:!0,numberOfPoints:60,radius:r,radiusUnit:"meters"});if(p.current)p.current.geometry=n;else{const e=new z.default({geometry:n,symbol:g});w(e),p.current=e}}else p.current&&(n=p.current,h.current&&h.current.graphics.remove(n),p.current=null);var n}(o,a,n),function(t,r,n){const i={type:"point",x:t,y:r};if(d.current)d.current.geometry=i;else{const e=new z.default({geometry:i});d.current=e,w(e)}e.showCompassOrientation&&null!=n?(v.angle=n,d.current.symbol=v):d.current.symbol=S}(o,a,i)}else h.current&&h.current.removeAll(),d.current=null,p.current=null}function y(){var e,t,r,i;if(h.current&&n&&(null===(t=null===(e=null==n?void 0:n.view)||void 0===e?void 0:e.map)||void 0===t||t.remove(h.current),h.current=null,d.current=null,p.current=null),n){const e=new du.default({id:a,listMode:"hide",title:a,visible:u});(null===(i=null===(r=null==n?void 0:n.view)||void 0===r?void 0:r.map)||void 0===i?void 0:i.findLayerById(a))||(h.current=e,n.view.map.layers.on("after-add",(()=>{const e=n.view.map.layers;let t=-1;const r=[];e.forEach(((e,n)=>{"-point-of-sight-track-layer"===e.id.slice(-27)&&r.push(n),e.id===a&&(t=n)})),1===r.length&&t!==e.length-1?e.reorder(e.getItemAt(t),e.length-1):-1===t||r.includes(t)||e.reorder(e.getItemAt(t),e.length-1)})),n.view.map.add(e)),E()}}function I(){var e,t;h.current&&n&&(null===(t=null===(e=null==n?void 0:n.view)||void 0===e?void 0:e.map)||void 0===t||t.remove(h.current)),h.current=null,d.current=null,p.current=null}function w(e){h.current&&h.current.graphics.add(e)}return o.React.useEffect((()=>()=>{I()}),[]),o.React.useEffect((()=>{h.current&&(h.current.visible=u)}),[u]),o.React.useEffect((()=>{n&&t?y():I()}),[n]),o.React.useEffect((()=>{t?y():I()}),[t,l]),o.React.useEffect((()=>{n&&h.current&&E()}),[r,i,s]),null}var fu=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const mu={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},gu=e=>{navigator.geolocation&&navigator.geolocation.clearWatch(e)},vu=e=>{var t;const r=null!==(t=o.utils.readLocalStorage(e))&&void 0!==t?t:"0",n=Number(r)+1;return o.utils.setLocalStorage(e,n.toString()),n},Su=()=>fu(void 0,void 0,void 0,(function*(){return(yield new Promise(((e,t)=>{if("undefined"!=typeof navigator&&"geolocation"in navigator){const r=navigator;"permissions"in navigator?navigator.permissions.query({name:"geolocation"}).then((r=>{"granted"===r.state?e(!0):"prompt"===r.state?navigator.geolocation.getCurrentPosition((()=>{e(!0)}),(r=>{r.code===r.PERMISSION_DENIED?e(!1):t("Geolocation error: "+r.message)})):"denied"===r.state&&e(!1)})).catch((e=>{t("Permissions API error: "+e.message)})):r.geolocation.getCurrentPosition((()=>{e(!0)}),(r=>{r.code===r.PERMISSION_DENIED?e(!1):t("Geolocation error: "+r.message)}))}else t("Geolocation is not supported by this browser.")})).catch((e=>{console.log(e)})))||!1}));var Eu=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};class yu extends o.React.PureComponent{constructor(e){var t;super(e),this.mvManager=s.MapViewManager.getInstance(),this.trackLabel=this.props.intl.formatMessage({id:"_widgetLabel",defaultMessage:h}),this.onTrackDataSourceCreated=e=>{this.setState({trackSource:e}),e&&(this.setState((t=>({dataSources:t.dataSources.concat(e)}))),this.setState({currentDataSourceId:e.id}))},this.onLineDataSourceCreated=e=>{this.setState({lineDataSource:e}),e&&this.setState((t=>({dataSources:t.dataSources.concat(e)})))},this.onCreateDataSourceFailed=()=>{},this.onLinesChanges=(e,t,r)=>{this.setState({trackLines:e}),this.setState({trackLinePoints:t}),this.setState({trackLinePointsRecords:r})},this.onTracksChange=e=>{this.setState({tracks:e})},this.handleTabsChange=e=>{this.setState({activeTab:e})},this.handleTrackPath=()=>{0!==this.state.points.length?this.setState({tempTracksWithLine:null,tracksWithLine:null}):this.handleWarning()},this.handleTracePathFinished=()=>{if(this.state.tracking&&this.state.points.length>0){const e=this.state.points[this.state.points.length-1];e.ObjectID=vu(be[1].storeName),e.LineId=vu(be[2].storeName),this.setState({points:[e]}),this.updateTrackLine(e,!0)}},this.clearStroes=()=>Eu(this,void 0,void 0,(function*(){return yield ql(this.props.widgetId,this.props.manifest.name,1).catch((e=>(console.error("clear store error",e),Promise.reject(e)))),yield ql(this.props.widgetId,this.props.manifest.name,2).catch((e=>(console.error("clear store error",e),Promise.reject(e)))),yield ql(this.props.widgetId,this.props.manifest.name,0).catch((e=>(console.error("clear store error",e),Promise.reject(e)))),o.utils.setLocalStorage(be[0].storeName,"0"),o.utils.setLocalStorage(be[1].storeName,"0"),o.utils.setLocalStorage(be[2].storeName,"0"),this.setState({operation:W.CLEAR,position:null}),Promise.resolve()})),this.handleConfirmOk=()=>{switch(this.state.confirmType){case"point":this.handleDelete(this.state.deleteTrackArgs);break;case"line":this.onHandleLineDelete(this.state.deleteLineArgs);break;case"clear":this.clearStroes()}this.setState({clearRecordsConfirmOpen:!1})},this.handleConfirmClose=()=>{this.setState({clearRecordsConfirmOpen:!1})},this.handleSelection=(e,t)=>{"point"===t?this.setState({selectedPointIds:e}):"line"===t&&this.setState({selectedLineIds:e})},this.handleFilter=(e,t)=>{"point"===t?this.setState({notFilterPointIds:e}):"line"===t&&this.setState({notFilterLineIds:e})},this.onActiveViewChange=e=>Eu(this,void 0,void 0,(function*(){e&&e.view&&(yield e.whenAllJimuLayerViewLoaded().finally((()=>{this.setState({loading:!1})})),this.setState({loading:!1}),this.setState({jimuMapView:e}))})),this.state={mapViewWidgetId:null,jimuMapViews:null,jimuMapView:null,dataSources:[],dataSourceWidgetId:null,dataSourceLabel:"",activeTab:"track",isWarning:!1,trackSource:null,lineDataSource:null,showFromMap:!0,track:null,tracking:!1,tracks:[],trackLines:[],trackLinePoints:[],operRecords:[],trackLinePointsRecords:[],tracksWithLine:null,points:[],tempTracksWithLine:null,watchId:null,loading:!1,operation:W.CREATE,clearRecordsConfirmOpen:!1,currentDataSourceId:null,selectedPointIds:[],selectedLineIds:[],notFilterPointIds:[],notFilterLineIds:[],position:null,confirmType:null,deleteLineArgs:{track:null,line:null,type:null},deleteTrackArgs:{track:null},isRendered:!1,dbReady:!1,graphicsLayerId:(t=this.props.id,`${t}-point-of-sight-track-layer`),highlightVisible:!0}}clearDataSources(e){e&&this.state.dataSources.forEach((t=>{ce(e,t.id)})),this.setState({tracks:[],track:null,trackLines:[],tracksWithLine:null,tempTracksWithLine:null,operRecords:[],points:[],trackLinePoints:[],trackLinePointsRecords:[],dataSources:[]})}clearGraphicsLayer(e){var t,r;if(e){const n=null===(r=null===(t=null==e?void 0:e.view)||void 0===t?void 0:t.map)||void 0===r?void 0:r.findLayerById(this.state.graphicsLayerId);n&&e.view.map.remove(n)}this.setState({position:null})}handleHighlightVisible(e){this.setState({highlightVisible:e})}defaultActivate(){var e,t;if(!window.jimuConfig.isInBuilder&&!this.state.isRendered){const{jimuMapView:r,dataSources:n,dbReady:i}=this.state;if(r&&n.length>0&&i){const r=null!==(e=this.props.config.watchLocation)&&void 0!==e?e:ge;null!==(t=this.props.config.defaultActivation)&&void 0!==t&&t&&(r?this.state.tracking||this.handleTracking():this.getLocation(),this.setState({isRendered:!0}))}}}componentDidMount(){this.setState({loading:!0}),Zl(this.props.manifest.name),this.createDB(),window.addEventListener("beforeunload",this.clearStroes)}componentWillUnmount(){this.clearWidget(),this.deleteDB(),window.removeEventListener("beforeunload",this.clearStroes)}componentDidUpdate(e,t){const{mapWidgetId:r}=this.props,{jimuMapView:n}=this.state;e.config.watchLocation!==this.props.config.watchLocation&&(this.clearWidget(),this.clearStroes()),this.state.isRendered||this.defaultActivate(),t.jimuMapView!==n&&t.jimuMapView&&(this.clearDataSources(t.jimuMapView),this.clearGraphicsLayer(t.jimuMapView)),e.mapWidgetId!==r&&(this.clearDataSources(n),this.clearGraphicsLayer(n),r||this.setState({jimuMapView:null,jimuMapViews:null,dataSources:[],currentDataSourceId:null}))}clearWidget(){const{jimuMapView:e}=this.state;this.clearGraphicsLayer(e),this.clearDataSources(e),this.state.watchId&&gu(this.state.watchId),this.setState({tracking:!1,watchId:null,position:null})}createDB(){return Eu(this,void 0,void 0,(function*(){const e=Jl(this.props.id,this.props.manifest.name),t=yield Ql(e);try{t&&(yield Kl(e)),yield function(e,t,r){const n=indexedDB.open(t,e);return n.onupgradeneeded=()=>{const e=n.result;r.forEach((t=>{e.objectStoreNames.contains(t.storeName)||function(e,t,r,n,i){let s;s=i?e.createObjectStore(t,{keyPath:i}):e.createObjectStore(t,{autoIncrement:!0}),r&&s.createIndex(r,n)}(e,t.storeName,t.indexName,t.indexKey,t.keyPath)}))},Wl(n)}(1,e,be),this.setState({dbReady:!0})}catch(e){this.setState({dbReady:!1})}}))}deleteDB(){return Eu(this,void 0,void 0,(function*(){var e,t;const r=Jl(this.props.id,this.props.manifest.name),n=yield Ql(r),i=null===(t=null===(e=(0,o.getAppStore)().getState())||void 0===e?void 0:e.appConfig)||void 0===t?void 0:t.widgets;if(void 0!==i){if(Object.keys(i).includes(this.props.id))return}n&&Kl(r)}))}getLocation(){return Eu(this,void 0,void 0,(function*(){var e;this.setState({loading:!0});if(!(yield Su()))return this.handleWarning(),void this.setState({loading:!1});var t;(t=Object.assign(Object.assign({},mu),{timeout:1e3*(null!==(e=this.props.config.timeOut)&&void 0!==e?e:15)}),new Promise(((e,r)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>{e(t)}),(e=>{r(e)}),t||mu):r(new Error("Geolocation is not supported by this browser."))}))).then((e=>{var t,r;const n=null==e?void 0:e.coords,i=Xc(n.longitude,6),s=Xc(n.latitude,6),o=Object.assign(Object.assign({},n),{accuracy:n.accuracy,heading:n.heading,longitude:i,latitude:s}),a={Time:Date.now(),Longitude:i,Latitude:s,Altitude:qc(n.altitude)?null:Xc(n.altitude,2),Orientation:qc(n.heading)?null:Xc(n.heading,2),Speed:qc(n.speed)?null:Xc(n.speed,2),Accuracy:n.accuracy?Xc(n.accuracy,2):null,ObjectID:vu(be[0].storeName)};this.setState({track:a,operation:W.ADD}),this.setState({position:(null!==(t=this.props.config.highlightLocation)&&void 0!==t?t:Se)?o:null}),this.setState({loading:!1}),he(this.state.jimuMapView,[de(a)],null!==(r=this.props.config.zoomScale)&&void 0!==r?r:Ee)})).catch((()=>{this.handleWarning(),this.setState({loading:!1}),this.setState({position:null})}))}))}updateTrackLine(e,t){var r;let n;n=t?(e=>{const t=e.Time;return{tracks:[e],line:{StartTime:t,EndTime:t,ObjectID:e.LineId,AverageAltitude:null!==e.Altitude?Xc(e.Altitude,2):null,AverageSpeed:null!==e.Speed?Xc(e.Speed,2):null,AverageAccuracy:null!==e.Accuracy?Xc(e.Accuracy,2):null}}})(e):((e,t)=>{const r=e.Time,n=t.tracks.concat(e),i=["Altitude","Speed","Accuracy"],s={Altitude:null,Speed:null,Accuracy:null};return n.forEach((e=>{i.forEach((t=>{null!==e[t]&&void 0!==e[t]&&(s[t]=null!==s[t]?s[t]+e[t]:e[t])}))})),t.line.EndTime=r,t.line.AverageAltitude=null!==s.Altitude?Xc(s.Altitude/n.length,2):null,t.line.AverageSpeed=null!==s.Speed?Xc(s.Speed/n.length,2):null,t.line.AverageAccuracy=null!==s.Accuracy?Xc(s.Accuracy/n.length,2):null,{tracks:n,line:t.line}})(e,this.state.tempTracksWithLine),this.setState({}),this.setState({operRecords:[e],tracksWithLine:n,operation:W.ADD,tempTracksWithLine:n}),he(this.state.jimuMapView,[pe(n.line,n.tracks)],null!==(r=this.props.config.zoomScale)&&void 0!==r?r:Ee)}keepPoint(e){var i;if(0===this.state.points.length)return!0;const s=this.state.points[this.state.points.length-1],o=null!==(i=this.props.config.watchLocationSettings)&&void 0!==i?i:{manualPathTracing:ye,streaming:{type:Ie.TYPE,unit:Ie.UNIT,interval:Ie.INTERVAL}};if(o.streaming.type===t.Distance){return((e,t,n,i,s)=>{const o=Jc(n-e),a=Jc(i-t),l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(Jc(e))*Math.cos(Jc(n))*Math.sin(a/2)*Math.sin(a/2);let c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371;return s===r.ft?c*=3280.84:s===r.m&&(c*=1e3),c})(e.coords.longitude,e.coords.latitude,s.Longitude,s.Latitude,o.streaming.unit)>o.streaming.interval}if(o.streaming.type===t.Time&&o.streaming.unit===n.sec){return(a=Date.now(),l=s.Time,Math.abs(l-a)/1e3)>o.streaming.interval}var a,l}handleTracking(){return Eu(this,void 0,void 0,(function*(){var e,t,r,n;if(this.state.tracking)this.setState({tempTracksWithLine:null,tracksWithLine:null}),this.setState({points:[]}),gu(this.state.watchId),this.setState({watchId:null}),this.setState({position:null});else{this.setState({loading:!0});const i=yield Su();if(this.setState({loading:!1}),!i)return void this.handleWarning();const s=(t=e=>{var t,r;if(!this.keepPoint(e))return;const n=null==e?void 0:e.coords,i=Xc(n.longitude,6),s=Xc(n.latitude,6),o=Object.assign(Object.assign({},n),{accuracy:n.accuracy,heading:n.heading,longitude:i,latitude:s}),a={Time:Date.now(),Longitude:i,Latitude:s,Altitude:qc(n.altitude)?null:Xc(n.altitude,2),Orientation:qc(n.heading)?null:Xc(n.heading,2),Speed:qc(n.speed)?null:Xc(n.speed,2),Accuracy:n.accuracy?Xc(n.accuracy,2):null,ObjectID:vu(be[1].storeName),LineId:null};this.state.tempTracksWithLine?(a.LineId=this.state.tempTracksWithLine.line.ObjectID,this.updateTrackLine(a,!1),this.setState({points:this.state.points.concat([a])})):(a.LineId=vu(be[2].storeName),this.updateTrackLine(a,!0),this.setState({points:[a]})),he(this.state.jimuMapView,[de(a)],null!==(t=this.props.config.zoomScale)&&void 0!==t?t:Ee),this.setState({position:(null!==(r=this.props.config.highlightLocation)&&void 0!==r?r:Se)?o:null})},r=()=>{this.handleWarning()},n=Object.assign(Object.assign({},mu),{timeout:1e3*(null!==(e=this.props.config.timeOut)&&void 0!==e?e:15)}),navigator.geolocation?navigator.geolocation.watchPosition((e=>{t(e)}),(e=>{r?r(e):console.error(`Error watching position: ${e.message}`)}),n||mu):(console.error("Geolocation is not supported by this browser."),0));this.setState({watchId:s})}this.setState({tracking:!this.state.tracking})}))}handleTrackLayer(){var e,t,r,n;let i=[];(null!==(e=this.props.config.watchLocation)&&void 0!==e?e:ge)?i=[null===(r=this.props.outputDataSources)||void 0===r?void 0:r[0],null===(n=this.props.outputDataSources)||void 0===n?void 0:n[1]]:i.push(null===(t=this.props.outputDataSources)||void 0===t?void 0:t[0]),this.state.jimuMapView&&i.forEach((e=>{if(e){const t=this.state.jimuMapView.getJimuLayerViewByDataSourceId(e);t&&(t.layer.visible=!this.state.showFromMap)}})),this.handleHighlightVisible(!this.state.showFromMap),this.setState({showFromMap:!this.state.showFromMap})}handleClear(){this.setState({confirmType:"clear",clearRecordsConfirmOpen:!0})}handleDelete(e){const{track:t}=e;this.state.tracks.length>0&&this.state.tracks[0].ObjectID===t.ObjectID&&this.setState({position:null}),this.setState({operation:W.DELETE,track:t})}onHandleLineDelete(e){const{track:t,line:r,type:n}=e,i={tracks:[],line:null};if("point"===n){const e=this.state.trackLinePoints.find((e=>e.some((e=>e.ObjectID===t.ObjectID))));if(e&&e.length<2)i.tracks=e,i.line=this.state.trackLines.find((e=>e.ObjectID===t.LineId)),this.setState({operRecords:i.tracks,operation:W.DELETE,tracksWithLine:i,trackLinePointsRecords:i.tracks}),this.state.tempTracksWithLine&&this.state.tempTracksWithLine.line&&this.state.tempTracksWithLine.line.ObjectID===t.LineId&&this.setState({tempTracksWithLine:null,points:[]});else{const r=e.filter((e=>e.ObjectID!==t.ObjectID));if(i.tracks=[t,...r],i.line=this.state.trackLines.find((e=>e.ObjectID===t.LineId)),this.setState({operRecords:[t],operation:W.UPDATE,tracksWithLine:i,trackLinePointsRecords:i.tracks}),this.state.tempTracksWithLine&&this.state.tempTracksWithLine.line&&this.state.tempTracksWithLine.line.ObjectID===t.LineId){const e=this.state.tempTracksWithLine.tracks.filter((e=>e.ObjectID!==t.ObjectID));this.setState({tempTracksWithLine:Object.assign(Object.assign({},this.state.tempTracksWithLine),{tracks:e})})}}}else"line"===n&&(i.tracks=this.state.trackLinePoints.find((e=>e.some((e=>e.LineId===r.ObjectID)))),i.line=r,this.setState({operRecords:i.tracks,operation:W.DELETE,tracksWithLine:i,trackLinePointsRecords:i.tracks}))}handleWarning(){this.setState({isWarning:!0}),setTimeout((()=>{this.setState({isWarning:!1})}),3e3)}getActionDataSets(){if(this.state.dataSources&&this.state.dataSources.length>0){const e=this.state.dataSources.filter((e=>e.id===this.state.currentDataSourceId));if(e.length>0){const t=e[0],r=null==t?void 0:t.getSelectedRecords();return[{dataSource:t,records:r,name:t.getLabel(),type:"selected"}]}}return[]}render(){var t,r,n,i,u,h,d,m,g,S,I,w,T,L,P,x,C,D,_,M,j,k,U,B,H,F,G,V,W,z,$;const K="string"==typeof this.props.icon?this.props.icon:this.props.icon.svg,q=null!==(t=this.props.config.watchLocation)&&void 0!==t?t:ge,X=null!==(r=this.props.config.arrangement)&&void 0!==r?r:ve,Y=null!==(i=null===(n=this.props.config.watchLocationSettings)||void 0===n?void 0:n.manualPathTracing)&&void 0!==i?i:ye,J=null!==(u=this.props.config.watchLocationSettings)&&void 0!==u?u:{manualPathTracing:ye,streaming:{type:Ie.TYPE,unit:Ie.UNIT,interval:Ie.INTERVAL}},Q=null!==(d=null===(h=this.props.config.selectedFields)||void 0===h?void 0:h.asMutable())&&void 0!==d?d:Te,Z=null!==(g=null===(m=this.props.config.highlightInfo)||void 0===m?void 0:m.symbolColor)&&void 0!==g?g:"#007AC2",ee=null!==(S=this.props.config.highlightLocation)&&void 0!==S?S:Se,te=null!==(w=null===(I=this.props.config.highlightInfo)||void 0===I?void 0:I.showCompassOrientation)&&void 0!==w&&w,re=null!==(L=null===(T=this.props.config.highlightInfo)||void 0===T?void 0:T.showLocationAccuracy)&&void 0!==L&&L,ne=null!==(P=this.props.config.zoomScale)&&void 0!==P?P:Ee,ie=this.props.useMapWidgetIds&&this.props.useMapWidgetIds[0];let se=null,oe=null;this.props.useMapWidgetIds&&1===this.props.useMapWidgetIds.length&&(oe=(0,o.jsx)(s.JimuMapViewComponent,{useMapWidgetId:null===(x=this.props.useMapWidgetIds)||void 0===x?void 0:x[0],onActiveViewChange:this.onActiveViewChange,onViewsCreate:e=>{this.setState({jimuMapViews:e})}}));let ae=!1;q?((null===(C=this.state.trackLines)||void 0===C?void 0:C.length)>0||(null===(D=this.state.tracks)||void 0===D?void 0:D.length)>0)&&(ae=!0):(null===(_=this.state.tracks)||void 0===_?void 0:_.length)>0&&(ae=!0);const le=void 0===this.props.enableDataAction||this.props.enableDataAction;let ce=null;if(null!==(M=this.props.config.useMapWidget)&&void 0!==M&&!M||!ie){const t=X===e.Panel?this.trackLabel:null;ce=(0,o.jsx)("div",{className:X===e.Toolbar?"widget-track-panel":"widget-track"},(0,o.jsx)(a.WidgetPlaceholder,{icon:c(48932),message:t,widgetId:this.props.id}))}else{let t=null,r=null,n=null;this.props.useMapWidgetIds&&1===this.props.useMapWidgetIds.length&&(null===(j=this.props.outputDataSources)||void 0===j?void 0:j.length)>0&&!q&&this.state.jimuMapView&&(t=(0,o.jsx)(tc,{widgetId:this.props.widgetId,widgetLabel:this.props.manifest.name,layerVisible:this.state.highlightVisible,highlightLocation:ee,symbolColor:Z,track:this.state.track,operation:this.state.operation,onCreate:this.onTrackDataSourceCreated,onTracksChange:this.onTracksChange,onHandleSelection:this.handleSelection,onHandleFilter:this.handleFilter,dataSourceId:null===(k=this.props.outputDataSources)||void 0===k?void 0:k[0],jimuMapView:this.state.jimuMapView})),this.props.useMapWidgetIds&&1===this.props.useMapWidgetIds.length&&(null===(U=this.props.outputDataSources)||void 0===U?void 0:U.length)>1&&q&&this.state.jimuMapView&&(r=(0,o.jsx)(me,{widgetId:this.props.widgetId,layerVisible:this.state.highlightVisible,highlightLocation:ee,symbolColor:Z,records:this.state.trackLinePointsRecords,operRecords:this.state.operRecords,operation:this.state.operation,onCreate:this.onTrackDataSourceCreated,onHandleSelection:this.handleSelection,onHandleFilter:this.handleFilter,dataSourceId:null===(B=this.props.outputDataSources)||void 0===B?void 0:B[0],jimuMapView:this.state.jimuMapView}),n=(0,o.jsx)(nc,{widgetId:this.props.widgetId,widgetLabel:this.props.manifest.name,layerVisible:this.state.highlightVisible,highlightLocation:ee,symbolColor:Z,tracksWithLine:this.state.tracksWithLine,tempTracksWithLine:this.state.tempTracksWithLine,operation:this.state.operation,onLinesChanges:this.onLinesChanges,onHandleFilter:this.handleFilter,onCreate:this.onLineDataSourceCreated,onHandleSelection:this.handleSelection,handleTracePathFinished:this.handleTracePathFinished,dataSourceId:null===(H=this.props.outputDataSources)||void 0===H?void 0:H[1],jimuMapView:this.state.jimuMapView}));const i=q?this.props.intl.formatMessage({id:"trackLineError",defaultMessage:f}):this.props.intl.formatMessage({id:"locationError",defaultMessage:p});if(X===e.Toolbar){const e=this.state.showFromMap?this.props.intl.formatMessage({id:"hideOnMap",defaultMessage:y}):this.props.intl.formatMessage({id:"showOnMap",defaultMessage:E}),s=this.props.intl.formatMessage({id:"trackPath",defaultMessage:A}),l=this.state.tracking?this.props.intl.formatMessage({id:"endTracking",defaultMessage:R}):this.props.intl.formatMessage({id:"startTracking",defaultMessage:O}),c=this.props.intl.formatMessage({id:"gettLocation",defaultMessage:b});ce=(0,o.jsx)("div",{className:"widget-track-panel p-2"},t,r,n,oe,(0,o.jsx)("div",{className:"header-section"},this.state.loading&&(0,o.jsx)(a.Loading,{type:"SECONDARY"}),(0,o.jsx)("div",{className:"left"},(0,o.jsx)(a.Icon,{className:"track-icon",icon:K,size:"m",color:this.props.theme.sys.color.surface.paperText}),(0,o.jsx)("div",{className:"track-name"},this.props.label),this.state.isWarning&&(0,o.jsx)(a.Alert,{"aria-live":"polite",buttonType:"tertiary",form:"tooltip",placement:"bottom",size:"small",type:"warning",withIcon:!0,leaveDelay:700},i)),(0,o.jsx)("div",{className:"right"},Y&&this.state.tracking&&(0,o.jsx)(a.Tooltip,{title:s,placement:"bottom"},(0,o.jsx)(a.Button,{className:"ml-auto",icon:!0,size:"sm",type:"tertiary",onClick:()=>{this.handleTrackPath()},"aria-label":e},(0,o.jsx)(Tc,null))),(0,o.jsx)(a.Tooltip,{title:e,placement:"bottom"},(0,o.jsx)(a.Button,{className:"ml-auto",icon:!0,size:"sm",type:"tertiary",onClick:()=>{this.handleTrackLayer()},"aria-label":e},this.state.showFromMap&&(0,o.jsx)(ac,null),!this.state.showFromMap&&(0,o.jsx)(xc,null))),ae&&!this.state.tracking&&(0,o.jsx)(a.Tooltip,{title:this.props.intl.formatMessage({id:"clearResult",defaultMessage:v}),placement:"bottom"},(0,o.jsx)(a.Button,{className:"ml-auto",icon:!0,size:"sm",type:"tertiary",onClick:()=>{this.handleClear()},"aria-label":this.props.intl.formatMessage({id:"clearResult",defaultMessage:v})},(0,o.jsx)(hc,null))),ae&&(0,o.jsx)("span",{className:"tool-dividing-line"}),!q&&(0,o.jsx)(a.Tooltip,{title:c,placement:"bottom"},(0,o.jsx)(a.Button,{className:"ml-auto",icon:!0,size:"sm",type:"tertiary",onClick:()=>{this.getLocation()},"aria-label":e},(0,o.jsx)(Rc,null))),q&&!this.state.tracking&&(0,o.jsx)(a.Tooltip,{title:l,placement:"bottom"},(0,o.jsx)(a.Button,{className:"ml-auto",icon:!0,size:"sm",type:"tertiary",onClick:()=>{this.handleTracking()},"aria-label":e},(0,o.jsx)(Ec,null))),q&&this.state.tracking&&(0,o.jsx)(a.Tooltip,{title:l,placement:"bottom"},(0,o.jsx)(a.Button,{className:"ml-auto",icon:!0,size:"sm",type:"tertiary",onClick:()=>{this.handleTracking()},"aria-label":e},(0,o.jsx)(mc,null))))))}else{let e=null;e=(0,o.jsx)("div",{className:"header-section"},(0,o.jsx)(a.Alert,{className:"warning-inaccessible",type:"warning",open:this.state.isWarning,closable:!0,withIcon:!0,text:i,onClose:()=>{this.setState({isWarning:!1})}}),(0,o.jsx)("div",{className:"left"},(0,o.jsx)(a.Icon,{className:"track-icon",icon:K,size:"m",color:this.props.theme.sys.color.surface.paperText}),(0,o.jsx)("div",{className:"track-name"},this.props.label)),ae&&(0,o.jsx)("div",{className:"right"},(0,o.jsx)(a.Tooltip,{title:this.props.intl.formatMessage({id:"clearResult",defaultMessage:v}),placement:"bottom"},(0,o.jsx)("span",null,(0,o.jsx)(a.Button,{className:"ml-auto",icon:!0,size:"sm",type:"tertiary",disabled:this.state.tracking,onClick:()=>{this.handleClear()},"aria-label":this.props.intl.formatMessage({id:"clearResult",defaultMessage:v})},(0,o.jsx)(hc,null)))),le&&(0,o.jsx)("span",{className:"tool-dividing-line"}),le&&(0,o.jsx)(a.DataActionList,{widgetId:this.props.id,dataSets:this.getActionDataSets(),listStyle:a.DataActionListStyle.Dropdown,buttonType:"tertiary"})));let s=null,l=null;if(q){s=(0,o.jsx)(uu,{theme:this.props.theme,dataSourceId:null===(V=this.props.outputDataSources)||void 0===V?void 0:V[0],dataSource:this.state.trackSource,lineDataSource:this.state.lineDataSource,highlightLocation:ee,lineDataSourceId:null===(W=this.props.outputDataSources)||void 0===W?void 0:W[1],jimuMapView:this.state.jimuMapView,tracks:this.state.trackLinePoints,trackLines:this.state.trackLines,tempTracksWithLine:this.state.tempTracksWithLine,manualPathTracing:Y,scale:ne,loading:this.state.loading,tracking:this.state.tracking,onHandleLineDelete:(e,t,r)=>{this.setState({deleteLineArgs:{track:e,line:t,type:r},clearRecordsConfirmOpen:!0,confirmType:"line"})},handleTracking:()=>{this.handleTracking()},handleTrackPath:()=>{this.handleTrackPath()},handleCurrentDataSource:e=>{this.setState({currentDataSourceId:e})},handleHighlightVisible:e=>{this.handleHighlightVisible(e)},selectedFields:Q,selectedPointIds:this.state.selectedPointIds,selectedLineIds:this.state.selectedLineIds,notFilterPointIds:this.state.notFilterPointIds,notFilterLineIds:this.state.notFilterLineIds});const e=this.state.tracking?this.props.intl.formatMessage({id:"endTracking",defaultMessage:R}):this.props.intl.formatMessage({id:"startTracking",defaultMessage:O});l=(0,o.jsx)("div",{className:"btn-content"},(0,o.jsx)(a.Tooltip,{title:e,placement:"bottom"},(0,o.jsx)("span",null,(0,o.jsx)(a.Button,{type:"primary",className:"btn",disabled:this.state.loading,"aria-label":e,onClick:()=>{this.handleTracking()}},e,this.state.loading&&(0,o.jsx)(a.Loading,{type:"SECONDARY"})))))}else{const e=this.props.intl.formatMessage({id:"gettLocation",defaultMessage:b});l=(0,o.jsx)("div",{className:"btn-content"},(0,o.jsx)(a.Tooltip,{title:e,placement:"bottom"},(0,o.jsx)("span",null,(0,o.jsx)(a.Button,{type:"primary",className:"btn",disabled:this.state.loading,"aria-label":e,onClick:()=>{this.getLocation()}},e,this.state.loading&&(0,o.jsx)(a.Loading,{type:"SECONDARY"}))))),s=(0,o.jsx)(nu,{theme:this.props.theme,dataSource:this.state.trackSource,mapViewId:null===(F=this.props.useMapWidgetIds)||void 0===F?void 0:F[0],highlightLocation:ee,tracks:this.state.tracks,selectedFields:Q,selectedIds:this.state.selectedPointIds,notFilterPointIds:this.state.notFilterPointIds,dataSourceId:null===(G=this.props.outputDataSources)||void 0===G?void 0:G[0],jimuMapView:this.state.jimuMapView,geolocationOptions:J,onHandleDelete:e=>{this.setState({deleteTrackArgs:{track:e},clearRecordsConfirmOpen:!0,confirmType:"point"})},handleHighlightVisible:e=>{this.handleHighlightVisible(e)},scale:ne,loading:this.state.loading})}ce=(0,o.jsx)("div",{className:"widget-track  px-4 pt-2 pb-4"},e,t,r,n,s,l,oe)}}return se=(0,o.jsx)(pu,{jimuMapView:this.state.jimuMapView,graphicsLayerId:this.state.graphicsLayerId,highlightLocation:ee,position:this.state.position,showCompassOrientation:te,showLocationAccuracy:re,watchLocation:q,layerVisible:this.state.highlightVisible}),(0,o.jsx)("div",{css:l(this.props.theme,null===($=null===(z=(0,o.getAppStore)().getState())||void 0===z?void 0:z.appContext)||void 0===$||$.isRTL,this.props.autoWidth,this.props.autoHeight),className:"jimu-widget"},this.state.dbReady&&ce,se,this.state.clearRecordsConfirmOpen&&(0,o.jsx)(a.ConfirmDialog,{level:"warning",title:this.props.intl.formatMessage({id:"clearRecordsConfirm",defaultMessage:N}),hasNotShowAgainOption:!1,content:"",onConfirm:this.handleConfirmOk,onClose:this.handleConfirmClose}))}}yu.mapExtraStateProps=(e,t)=>({mapWidgetId:t.useMapWidgetIds&&0!==t.useMapWidgetIds.length?t.useMapWidgetIds[0]:void 0});const Iu=yu;function wu(e){c.p=e}})(),u})())}}}));
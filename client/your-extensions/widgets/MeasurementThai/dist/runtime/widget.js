System.register(["jimu-core","jimu-arcgis","jimu-core/react","esri/geometry/geometryEngine","esri/widgets/Sketch","esri/layers/GraphicsLayer","esri/Graphic"],(function(e,t){var r={},a={},n={},i={},o={},s={},l={};return{setters:[function(e){r.React=e.React},function(e){a.JimuMapViewComponent=e.JimuMapViewComponent},function(e){n.useEffect=e.useEffect},function(e){i.default=e.default},function(e){o.default=e.default},function(e){s.default=e.default},function(e){l.default=e.default}],execute:function(){e((()=>{var e={2994:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(8081),n=r.n(a),i=r(3645),o=r.n(i)()(n());o.push([e.id,".jimu-widget-MeasurementThai{padding:1rem;background-color:white;width:100%;height:100%}.jimu-widget-MeasurementThai .toolbar{display:flex;align-items:center;width:100%}.jimu-widget-MeasurementThai .toolbar .tools{display:flex;align-items:center}.jimu-widget-MeasurementThai .toolbar .tools button{width:32px;height:32px;border:1px solid transparent;background-color:transparent}.jimu-widget-MeasurementThai .toolbar .tools button img{width:16px;height:16px}.jimu-widget-MeasurementThai .toolbar .tools button:hover{cursor:pointer}.jimu-widget-MeasurementThai .toolbar .tools button.active{background-color:#ccc;background-position:center;background-repeat:no-repeat}.jimu-widget-MeasurementThai .toolbar .tools button:last-child{margin-left:10px}.jimu-widget-MeasurementThai .toolbar .separator{width:1px;margin:0 7px;background-color:#ccc;height:24px}.jimu-widget-MeasurementThai .toolbar .unit select{border:0;font:inherit;font-size:16px;line-height:24px}.jimu-widget-MeasurementThai .result{width:100%;display:flex;flex-direction:column;align-items:center;text-align:center}.jimu-widget-MeasurementThai .result .title-result{margin-top:10px;margin-bottom:5px;border-bottom:thin solid #333;text-align:center;font-weight:bold;padding-bottom:10px;width:95%}.jimu-widget-MeasurementThai .result .text-result{margin-bottom:5px;font-size:24px;line-height:40px;min-height:40px}.jimu-widget-MeasurementThai .result button{padding:0 18px;height:32px;line-height:33px;min-width:10px;border-radius:5px;border:1px solid transparent;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;text-align:center;background-color:#485566;color:#ffffff}.jimu-widget-MeasurementThai .result button:hover{cursor:pointer}.jimu-widget-MeasurementThai .result button:disabled{background-color:#adadad;color:#d8d8d8}\n",""]);const s=o},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",a=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),a&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),a&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,a,n,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(a)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);a&&o[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),n&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=n):u[4]="".concat(n)),t.push(u))}},t}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},3379:e=>{"use strict";var t=[];function r(e){for(var r=-1,a=0;a<t.length;a++)if(t[a].identifier===e){r=a;break}return r}function a(e,a){for(var i={},o=[],s=0;s<e.length;s++){var l=e[s],c=a.base?l[0]+a.base:l[0],u=i[c]||0,d="".concat(c," ").concat(u);i[c]=u+1;var m=r(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)t[m].references++,t[m].updater(p);else{var g=n(p,a);a.byIndex=s,t.splice(s,0,{identifier:d,updater:g,references:1})}o.push(d)}return o}function n(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,n){var i=a(e=e||[],n=n||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=r(i[o]);t[s].references--}for(var l=a(e,n),c=0;c<i.length;c++){var u=r(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=l}}},569:e=>{"use strict";var t={};e.exports=function(e,r){var a=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(r)}},609:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var a="";r.supports&&(a+="@supports (".concat(r.supports,") {")),r.media&&(a+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(a+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),a+=r.css,n&&(a+="}"),r.media&&(a+="}"),r.supports&&(a+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},8803:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPVJREFUeNpiZACC6ClR/xmgYGnOMkYGEgAjzAAHPSeGA5f2MfCK8YKENgDxQSA+MCNs5gWiDIAJVIdVMTx6/5jhzus7DI+B9MfvHx+ADAIZ+PnV5/noLoU7N2NV+v9SlxIMGz7++MRw59VtsGHnrp5ngLkUZgATIT/yc/AxGMsZMwToB4D5IM3IgImUAGuKagSHEXJAM+7oDv3PQCbwKF3NyAJiOOQuJlnzgcmx2L0AkyCWz0SuRrICEWtCojQQCSYkdNC9p4cBmLwZcSZlUFzjAnXL6hnQkzILTACWREE24AMwdTAANwAmiOw8dAByKXpSBggwAEghcY+Wg+7YAAAAAElFTkSuQmCC"},7507:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAG5JREFUeNpiZICC3LxCASC1H4gNJk/qZ2TAAoBq/gOpC0DsCFTzASTGSKxmXIYwImtGVwwzDKoJHYANYWKgEFDuBUoDceAB447u0P+UGMACIhxyF5Ol+cDkWAYmbIKk8JnI1QjjMw14IA48AAgwAFjoQ25fg6fdAAAAAElFTkSuQmCC"},4129:e=>{"use strict";e.exports=l},4942:e=>{"use strict";e.exports=i},2231:e=>{"use strict";e.exports=s},4560:e=>{"use strict";e.exports=o},6826:e=>{"use strict";e.exports=a},8891:e=>{"use strict";e.exports=r},1315:e=>{"use strict";e.exports=n}},t={};function c(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={id:r,exports:{}};return e[r](n,n.exports,c),n.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="",c.nc=void 0;var u={};return c.p=window.jimuConfig.baseUrl,(()=>{"use strict";c.r(u),c.d(u,{default:()=>I});var e=c(8891),t=c(6826),r=c(1315),a=c(4942),n=c(8803),i=c.n(n),o=c(7507),s=c.n(o),l=c(4560),d=c(2231),m=c(4129),p=c(3379),g=c.n(p),f=c(7795),A=c.n(f),h=c(569),v=c.n(h),b=c(3565),w=c.n(b),x=c(609),y=c.n(x),M=c(4589),E=c.n(M),C=c(2994),T={};T.styleTagTransform=E(),T.setAttributes=w(),T.insert=v().bind(null,"head"),T.domAPI=A(),T.insertStyleElement=y(),g()(C.Z,T),C.Z&&C.Z.locals&&C.Z.locals;const{useState:R}=e.React,S=[{label:"ตร.ม.",value:"square-meters"},{label:"ตร.กม.",value:"square-kilometers"},{label:"ไร่-งาน-ตร.วา",value:"thai-units"}],j=[{label:"เมตร",value:"meters"},{label:"กิโลเมตร",value:"kilometers"},{label:"ไมล์",value:"miles"}],I=n=>{var o;const[c,u]=R(null),[p,g]=R(5),[f,A]=R(0),[h,v]=R(null),[b,w]=R(0),[x,y]=R(0),[M,E]=R(0),[C,T]=R(),[I,k]=R(),[N,Z]=R(),[B,G]=R(),L=1600,[W,F]=R(null),J=e=>{v(e.target.value),W&&("area"===C?U(W.geometry,e.target.value):"distance"===C&&O(W.geometry,e.target.value))};(0,r.useEffect)((()=>{c&&c.when((()=>{I.on("create",(e=>{if("start"===e.state&&W&&N&&N.graphics.removeAll(),"complete"===e.state){let t=e.graphic.geometry,r=new m.default({geometry:t,symbol:e.graphic.symbol});F(r),"polygon"==e.tool?("area"!==C&&(v("square-meters"),T("area")),U(e.graphic.geometry,h&&S.find((e=>e.value===h))?h:"square-meters")):"polyline"==e.tool&&("distance"!==C&&(v("meters"),T("distance")),O(e.graphic.geometry,h&&j.find((e=>e.value===h))?h:"meters"))}}))}))}),[c,I,h]),(0,r.useEffect)((()=>()=>{c&&c.destroy()}),[]);const O=(e,t)=>{let r=0;r=a.default.geodesicLength(e,t),A(r)},U=(e,t)=>{let r=0,n=0,i=0,o=0;"thai-units"===t?(r=a.default.geodesicArea(e,"square-meters"),n=Math.floor(r/L),i=Math.floor(r%L/400),o=Math.floor(r%L%400/4),w(n),y(i),E(o)):"square-meters"===t?r=a.default.geodesicArea(e,"square-meters"):"square-kilometers"===t&&(r=a.default.geodesicArea(e,"square-kilometers")),A(r)};return e.React.createElement("div",{className:"jimu-widget-MeasurementThai"},n.useMapWidgetIds&&1===n.useMapWidgetIds.length&&e.React.createElement(t.JimuMapViewComponent,{useMapWidgetId:null===(o=n.useMapWidgetIds)||void 0===o?void 0:o[0],onActiveViewChange:e=>{if(e){let t=new d.default;Z(t),e.view.map.add(t);const r=new l.default({layer:t,view:e.view,defaultUpdateOptions:{enableRotation:!1,toggleToolOnClick:!1}});k(r),u(e.view)}}}),e.React.createElement("div",{className:"toolbar"},e.React.createElement("div",{className:"tools"},e.React.createElement("button",{className:"area"===C?"active":"",onClick:()=>{g(0),T("area"),I.create("polygon"),G(1)}},e.React.createElement("img",{src:i()})),e.React.createElement("button",{className:"distance"===C?"active":"",onClick:()=>{g(1),T("distance"),I.create("polyline"),G(1)}},e.React.createElement("img",{src:s()})),e.React.createElement("div",{className:"separator"}),e.React.createElement((()=>1==B?e.React.createElement("div",{className:"unit"},e.React.createElement("select",{onChange:J},(0==p?S:j).map((t=>e.React.createElement("option",{value:t.value,selected:t.value===h},t.label))))):e.React.createElement("div",null)),null))),e.React.createElement("div",{className:"result"},e.React.createElement("h4",{className:"title-result"},"ผลการวัด"),e.React.createElement("div",{className:"text-result"},function(){if(f>0){if("thai-units"===h)return b.toLocaleString()+" ไร่ "+x.toLocaleString()+" งาน "+M.toLocaleString()+" ตร.วา";if("area"===C)return f.toLocaleString()+" "+S.find((e=>e.value===h)).label;if("distance"===C)return f.toLocaleString()+" "+j.find((e=>e.value===h)).label}}()),e.React.createElement("button",{disabled:!C,onClick:()=>{N&&N.graphics.removeAll(),G(0),A(0),T(null),F(null),I.cancel()}},"ล้าง")))}})(),u})())}}}));